window.pdocSearch = (function(){
/** elasticlunr - http://weixsong.github.io * Copyright (C) 2017 Oliver Nightingale * Copyright (C) 2017 Wei Song * MIT Licensed */!function(){function e(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.9.5",lunr=t,t.utils={},t.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),t.utils.toString=function(e){return void 0===e||null===e?"":e.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},t.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);-1!==n&&(this.events[e].splice(n,1),0==this.events[e].length&&delete this.events[e])}},t.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)},this)}},t.EventEmitter.prototype.hasHandler=function(e){return e in this.events},t.tokenizer=function(e){if(!arguments.length||null===e||void 0===e)return[];if(Array.isArray(e)){var n=e.filter(function(e){return null===e||void 0===e?!1:!0});n=n.map(function(e){return t.utils.toString(e).toLowerCase()});var i=[];return n.forEach(function(e){var n=e.split(t.tokenizer.seperator);i=i.concat(n)},this),i}return e.toString().trim().toLowerCase().split(t.tokenizer.seperator)},t.tokenizer.defaultSeperator=/[\s\-]+/,t.tokenizer.seperator=t.tokenizer.defaultSeperator,t.tokenizer.setSeperator=function(e){null!==e&&void 0!==e&&"object"==typeof e&&(t.tokenizer.seperator=e)},t.tokenizer.resetSeperator=function(){t.tokenizer.seperator=t.tokenizer.defaultSeperator},t.tokenizer.getSeperator=function(){return t.tokenizer.seperator},t.Pipeline=function(){this._queue=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in t.Pipeline.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[n]=e},t.Pipeline.getRegisteredFunction=function(e){return e in t.Pipeline.registeredFunctions!=!0?null:t.Pipeline.registeredFunctions[e]},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.getRegisteredFunction(e);if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i+1,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i,0,n)},t.Pipeline.prototype.remove=function(e){var t=this._queue.indexOf(e);-1!==t&&this._queue.splice(t,1)},t.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;n>o;o++){for(var r=e[o],s=0;i>s&&(r=this._queue[s](r,o,e),void 0!==r&&null!==r);s++);void 0!==r&&null!==r&&t.push(r)}return t},t.Pipeline.prototype.reset=function(){this._queue=[]},t.Pipeline.prototype.get=function(){return this._queue},t.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.DocumentStore,this.index={},this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},t.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;n._fields=e.fields,n._ref=e.ref,n.documentStore=t.DocumentStore.load(e.documentStore),n.pipeline=t.Pipeline.load(e.pipeline),n.index={};for(var i in e.index)n.index[i]=t.InvertedIndex.load(e.index[i]);return n},t.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new t.InvertedIndex,this},t.Index.prototype.setRef=function(e){return this._ref=e,this},t.Index.prototype.saveDocument=function(e){return this.documentStore=new t.DocumentStore(e),this},t.Index.prototype.addDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.addDoc(i,e),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));this.documentStore.addFieldLength(i,n,o.length);var r={};o.forEach(function(e){e in r?r[e]+=1:r[e]=1},this);for(var s in r){var u=r[s];u=Math.sqrt(u),this.index[n].addToken(s,{ref:i,tf:u})}},this),n&&this.eventEmitter.emit("add",e,this)}},t.Index.prototype.removeDocByRef=function(e){if(e&&this.documentStore.isDocStored()!==!1&&this.documentStore.hasDoc(e)){var t=this.documentStore.getDoc(e);this.removeDoc(t,!1)}},t.Index.prototype.removeDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.hasDoc(i)&&(this.documentStore.removeDoc(i),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));o.forEach(function(e){this.index[n].removeToken(e,i)},this)},this),n&&this.eventEmitter.emit("remove",e,this))}},t.Index.prototype.updateDoc=function(e,t){var t=void 0===t?!0:t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},t.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];var i=this.index[t].getDocFreq(e),o=1+Math.log(this.documentStore.length/(i+1));return this._idfCache[n]=o,o},t.Index.prototype.getFields=function(){return this._fields.slice()},t.Index.prototype.search=function(e,n){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var i=null;null!=n&&(i=JSON.stringify(n));for(var o=new t.Configuration(i,this.getFields()).get(),r={},s=Object.keys(e),u=0;u<s.length;u++){var a=s[u];r[a]=this.pipeline.run(t.tokenizer(e[a]))}var l={};for(var c in o){var d=r[c]||r.any;if(d){var f=this.fieldSearch(d,c,o),h=o[c].boost;for(var p in f)f[p]=f[p]*h;for(var p in f)p in l?l[p]+=f[p]:l[p]=f[p]}}var v,g=[];for(var p in l)v={ref:p,score:l[p]},this.documentStore.hasDoc(p)&&(v.doc=this.documentStore.getDoc(p)),g.push(v);return g.sort(function(e,t){return t.score-e.score}),g},t.Index.prototype.fieldSearch=function(e,t,n){var i=n[t].bool,o=n[t].expand,r=n[t].boost,s=null,u={};return 0!==r?(e.forEach(function(e){var n=[e];1==o&&(n=this.index[t].expandToken(e));var r={};n.forEach(function(n){var o=this.index[t].getDocs(n),a=this.idf(n,t);if(s&&"AND"==i){var l={};for(var c in s)c in o&&(l[c]=o[c]);o=l}n==e&&this.fieldSearchStats(u,n,o);for(var c in o){var d=this.index[t].getTermFrequency(n,c),f=this.documentStore.getFieldLength(c,t),h=1;0!=f&&(h=1/Math.sqrt(f));var p=1;n!=e&&(p=.15*(1-(n.length-e.length)/n.length));var v=d*a*h*p;c in r?r[c]+=v:r[c]=v}},this),s=this.mergeScores(s,r,i)},this),s=this.coordNorm(s,u,e.length)):void 0},t.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(var o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},t.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},t.Index.prototype.coordNorm=function(e,t,n){for(var i in e)if(i in t){var o=t[i].length;e[i]=e[i]*o/n}return e},t.Index.prototype.toJSON=function(){var e={};return this._fields.forEach(function(t){e[t]=this.index[t].toJSON()},this),{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:e,pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},t.DocumentStore=function(e){this._save=null===e||void 0===e?!0:e,this.docs={},this.docInfo={},this.length=0},t.DocumentStore.load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},t.DocumentStore.prototype.isDocStored=function(){return this._save},t.DocumentStore.prototype.addDoc=function(t,n){this.hasDoc(t)||this.length++,this.docs[t]=this._save===!0?e(n):null},t.DocumentStore.prototype.getDoc=function(e){return this.hasDoc(e)===!1?null:this.docs[e]},t.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},t.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},t.DocumentStore.prototype.addFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},t.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},t.DocumentStore.prototype.getFieldLength=function(e,t){return null===e||void 0===e?0:e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},t.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},t.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,u="^("+o+")?"+r+o+"("+r+")?$",a="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,c=new RegExp(s),d=new RegExp(a),f=new RegExp(u),h=new RegExp(l),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+o+i+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,D=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,P=/ll$/,k=new RegExp("^"+o+i+"[^aeiouwxy]$"),z=function(n){var i,o,r,s,u,a,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,u=v,s.test(n)?n=n.replace(s,"$1$2"):u.test(n)&&(n=n.replace(u,"$1$2")),s=g,u=m,s.test(n)){var z=s.exec(n);s=c,s.test(z[1])&&(s=y,n=n.replace(s,""))}else if(u.test(n)){var z=u.exec(n);i=z[1],u=h,u.test(i)&&(n=i,u=S,a=x,l=w,u.test(n)?n+="e":a.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=I,s.test(n)){var z=s.exec(n);i=z[1],n=i+"i"}if(s=b,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+e[o])}if(s=E,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+t[o])}if(s=D,u=F,s.test(n)){var z=s.exec(n);i=z[1],s=d,s.test(i)&&(n=i)}else if(u.test(n)){var z=u.exec(n);i=z[1]+z[2],u=d,u.test(i)&&(n=i)}if(s=_,s.test(n)){var z=s.exec(n);i=z[1],s=d,u=f,a=k,(s.test(i)||u.test(i)&&!a.test(i))&&(n=i)}return s=P,u=d,s.test(n)&&u.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return z}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.stopWordFilter=function(e){return e&&t.stopWordFilter.stopWords[e]!==!0?e:void 0},t.clearStopWords=function(){t.stopWordFilter.stopWords={}},t.addStopWords=function(e){null!=e&&Array.isArray(e)!==!1&&e.forEach(function(e){t.stopWordFilter.stopWords[e]=!0},this)},t.resetStopWords=function(){t.stopWordFilter.stopWords=t.defaultStopWords},t.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,"do":!0,does:!0,either:!0,"else":!0,ever:!0,every:!0,"for":!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,"if":!0,"in":!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,"this":!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,"while":!0,who:!0,whom:!0,why:!0,will:!0,"with":!0,would:!0,yet:!0,you:!0,your:!0},t.stopWordFilter.stopWords=t.defaultStopWords,t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(e){if(null===e||void 0===e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.InvertedIndex=function(){this.root={docs:{},df:0}},t.InvertedIndex.load=function(e){var t=new this;return t.root=e.root,t},t.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},t.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},t.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},t.InvertedIndex.prototype.getDocs=function(e){var t=this.getNode(e);return null==t?{}:t.docs},t.InvertedIndex.prototype.getTermFrequency=function(e,t){var n=this.getNode(e);return null==n?0:t in n.docs?n.docs[t].tf:0},t.InvertedIndex.prototype.getDocFreq=function(e){var t=this.getNode(e);return null==t?0:t.df},t.InvertedIndex.prototype.removeToken=function(e,t){if(e){var n=this.getNode(e);null!=n&&t in n.docs&&(delete n.docs[t],n.df-=1)}},t.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var t=t||[];if(void 0==n&&(n=this.getNode(e),null==n))return t;n.df>0&&t.push(e);for(var i in n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},t.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},t.Configuration=function(e,n){var e=e||"";if(void 0==n||null==n)throw new Error("fields should not be null");this.config={};var i;try{i=JSON.parse(e),this.buildUserConfig(i,n)}catch(o){t.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(n)}},t.Configuration.prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},t.Configuration.prototype.buildUserConfig=function(e,n){var i="OR",o=!1;if(this.reset(),"bool"in e&&(i=e.bool||i),"expand"in e&&(o=e.expand||o),"fields"in e)for(var r in e.fields)if(n.indexOf(r)>-1){var s=e.fields[r],u=o;void 0!=s.expand&&(u=s.expand),this.config[r]={boost:s.boost||0===s.boost?s.boost:1,bool:s.bool||i,expand:u}}else t.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(i,o,n)},t.Configuration.prototype.addAllFields2UserConfig=function(e,t,n){n.forEach(function(n){this.config[n]={boost:1,bool:e,expand:t}},this)},t.Configuration.prototype.get=function(){return this.config},t.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;){if(r===e)return o;e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;)e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o];return r>e?o:e>r?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,u=e.elements;;){if(n>o-1||i>r-1)break;s[n]!==u[i]?s[n]<u[i]?n++:s[n]>u[i]&&i++:(t.add(s[n]),n++,i++)}return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){var t,n,i;this.length>=e.length?(t=this,n=e):(t=e,n=this),i=t.clone();for(var o=0,r=n.toArray();o<r.length;o++)i.add(r[o]);return i},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.elasticlunr=t()}(this,function(){return t})}();
    /** pdoc search index */const docs = [{"fullname": "causalis", "modulename": "causalis", "kind": "module", "doc": "<p>CausalKit: A Python package for causal inference.</p>\n"}, {"fullname": "causalis.data", "modulename": "causalis.data", "kind": "module", "doc": "<p>Data generation utilities for causal inference tasks.</p>\n"}, {"fullname": "causalis.data.generate_rct", "modulename": "causalis.data", "qualname": "generate_rct", "kind": "function", "doc": "<p>Generate an RCT dataset via CausalDatasetGenerator (thin wrapper), ensuring\nrandomized treatment independent of X. Keeps y and d as float for ML compatibility.</p>\n\n<p>Notes on effect scale (how <code>outcome_params</code> maps into the structural effect):</p>\n\n<ul>\n<li>outcome_type=\"normal\": treatment shifts the mean by (mean[\"B\"] - mean[\"A\"]) on the outcome scale.</li>\n<li>outcome_type=\"binary\": treatment shifts the log-odds by (logit(p_B) - logit(p_A)).\nReported g0/g1 are on the probability scale.</li>\n<li>outcome_type=\"poisson\": treatment shifts the log-mean by log(lam_B / lam_A) where lam = shape * scale.\nReported g0/g1 are on the mean (rate) scale.</li>\n</ul>\n\n<p>Ancillary columns (if add_ancillary=True) are generated from baseline confounders X only\n(plus RNG), and do not depend on the realized outcome y nor on treatment d. This avoids\nboth outcome leakage and post-treatment adjustment/collider issues in typical ML pipelines.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20000</span>,</span><span class=\"param\">\t<span class=\"n\">split</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;binary&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_params</span><span class=\"p\">:</span> <span class=\"n\">Dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.generate_rct_data", "modulename": "causalis.data", "qualname": "generate_rct_data", "kind": "function", "doc": "<p>Backward-compatible alias for generate_rct used in documentation.\nParameters mirror generate_rct and are forwarded directly.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20000</span>,</span><span class=\"param\">\t<span class=\"n\">split</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;binary&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_params</span><span class=\"p\">:</span> <span class=\"n\">Dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.obs_linear_effect", "modulename": "causalis.data", "qualname": "obs_linear_effect", "kind": "function", "doc": "<p>Generate an observational dataset with linear effects of confounders and a constant treatment effect.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>n</strong> (int, default=10_000):\nNumber of samples to generate.</li>\n<li><strong>theta</strong> (float, default=1.0):\nConstant treatment effect.</li>\n<li><strong>outcome_type</strong> ({\"continuous\", \"binary\", \"poisson\"}, default=\"continuous\"):\nFamily of the outcome distribution.</li>\n<li><strong>sigma_y</strong> (float, default=1.0):\nNoise level for continuous outcomes.</li>\n<li><strong>target_d_rate</strong> (float, optional):\nTarget treatment prevalence (propensity mean).</li>\n<li><strong>confounder_specs</strong> (list of dict, optional):\nSchema for confounder distributions.</li>\n<li><strong>beta_y</strong> (array-like, optional):\nLinear coefficients for confounders in the outcome model.</li>\n<li><strong>beta_d</strong> (array-like, optional):\nLinear coefficients for confounders in the treatment model.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for reproducibility.</li>\n<li><strong>k</strong> (int, default=0):\nNumber of confounders if specs not provided.</li>\n<li><strong>x_sampler</strong> (callable, optional):\nCustom sampler for confounders.</li>\n<li><strong>add_ancillary</strong> (bool, default=False):\nIf True, adds standard ancillary columns (age, platform, etc.).</li>\n<li><strong>deterministic_ids</strong> (bool, default=False):\nIf True, generates deterministic user IDs.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: Synthetic dataset.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.obs_linear_effect_data", "modulename": "causalis.data", "qualname": "obs_linear_effect_data", "kind": "function", "doc": "<p>Alias for obs_linear_effect for consistency with generate_rct_data.\nParameters mirror obs_linear_effect and are forwarded directly.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.make_gold_linear", "modulename": "causalis.data", "qualname": "make_gold_linear", "kind": "function", "doc": "<p>A standard linear benchmark with moderate confounding.\nBased on the benchmark scenario in docs/research/dgp_benchmarking.ipynb.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.SmokingDGP", "modulename": "causalis.data", "qualname": "SmokingDGP", "kind": "class", "doc": "<p>A specialized generating class for smoking-related causal scenarios.\nExample of how users can extend CausalDatasetGenerator for specific domains.</p>\n", "bases": "causalis.data.dgps.base.CausalDatasetGenerator"}, {"fullname": "causalis.data.SmokingDGP.__init__", "modulename": "causalis.data", "qualname": "SmokingDGP.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">effect_size</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span>)</span>"}, {"fullname": "causalis.data.obs_linear_26_dataset", "modulename": "causalis.data", "qualname": "obs_linear_26_dataset", "kind": "function", "doc": "<p>A pre-configured observational linear dataset with 5 standard confounders.\nBased on the scenario in docs/examples/dml_ate.ipynb.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>n</strong> (int, default=10000):\nNumber of samples.</li>\n<li><strong>seed</strong> (int, default=42):\nRandom seed.</li>\n<li><strong>return_causal_data</strong> (bool, default=True):\nIf True, returns a CausalData object. If False, returns a pandas DataFrame.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>, </span><span class=\"param\"><span class=\"n\">return_causal_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalData", "modulename": "causalis.data", "qualname": "CausalData", "kind": "class", "doc": "<p>Container for causal inference datasets.</p>\n\n<p>Wraps a pandas DataFrame and stores the names of treatment, outcome, and optional confounder columns.\nThe stored DataFrame is restricted to only those columns.\nUses Pydantic for validation and as a data contract.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nThe DataFrame containing the data.\nOnly columns specified in outcome, treatment, and confounders will be stored.\nNaN values are not allowed in the stored/used columns.</li>\n<li><strong>treatment</strong> (str):\nColumn name representing the treatment variable.</li>\n<li><strong>outcome</strong> (str):\nColumn name representing the outcome variable.</li>\n<li><strong>confounders</strong> (Union[str, List[str]], optional):\nColumn name(s) representing the confounders/covariates.</li>\n<li><strong>user_id</strong> (str, optional):\nColumn name representing the unique identifier for each observation/user.</li>\n</ul>\n\n<h6 id=\"attributes\">Attributes</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nA copy of the original data restricted to [outcome, treatment] + confounders [+ user_id].</li>\n<li><strong>treatment</strong> (pd.Series):\nThe treatment column as a pandas Series.</li>\n<li><strong>outcome</strong> (pd.Series):\nThe outcome column as a pandas Series.</li>\n<li><strong>confounders</strong> (list[str]):\nNames of the confounder columns (may be empty).</li>\n<li><strong>user_id</strong> (pd.Series, optional):\nThe user_id column as a pandas Series (if specified).</li>\n<li><strong>X</strong> (pd.DataFrame):\nDesign matrix (baseline covariates) used for modeling: df[confounders].</li>\n</ul>\n", "bases": "pydantic.main.BaseModel"}, {"fullname": "causalis.data.CausalData.df", "modulename": "causalis.data", "qualname": "CausalData.df", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.treatment_name", "modulename": "causalis.data", "qualname": "CausalData.treatment_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.outcome_name", "modulename": "causalis.data", "qualname": "CausalData.outcome_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.confounders_names", "modulename": "causalis.data", "qualname": "CausalData.confounders_names", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[str]", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.user_id_name", "modulename": "causalis.data", "qualname": "CausalData.user_id_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.data.CausalData.instrument_name", "modulename": "causalis.data", "qualname": "CausalData.instrument_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.data.CausalData.from_df", "modulename": "causalis.data", "qualname": "CausalData.from_df", "kind": "function", "doc": "<p>Friendly constructor for CausalData.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nThe DataFrame containing the data.</li>\n<li><strong>treatment</strong> (str):\nColumn name representing the treatment variable.</li>\n<li><strong>outcome</strong> (str):\nColumn name representing the outcome  variable.</li>\n<li><strong>confounders</strong> (Union[str, List[str]], optional):\nColumn name(s) representing the confounders/covariates.</li>\n<li><strong>user_id</strong> (str, optional):\nColumn name representing the unique identifier for each observation/user.</li>\n<li><strong>instrument</strong> (str, optional):\nColumn name representing the instrumental variable.</li>\n<li><strong>**kwargs</strong> (Any):\nAdditional arguments passed to the Pydantic model constructor.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>CausalData</strong>: A validated CausalData instance.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">cls</span>,</span><span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">user_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">instrument</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">Any</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalData.outcome", "modulename": "causalis.data", "qualname": "CausalData.outcome", "kind": "variable", "doc": "<p>Outcome column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.treatment", "modulename": "causalis.data", "qualname": "CausalData.treatment", "kind": "variable", "doc": "<p>Treatment column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.confounders", "modulename": "causalis.data", "qualname": "CausalData.confounders", "kind": "variable", "doc": "<p>List of confounder column names.</p>\n", "annotation": ": List[str]"}, {"fullname": "causalis.data.CausalData.user_id", "modulename": "causalis.data", "qualname": "CausalData.user_id", "kind": "variable", "doc": "<p>user_id column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.instrument", "modulename": "causalis.data", "qualname": "CausalData.instrument", "kind": "variable", "doc": "<p>instrument column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.X", "modulename": "causalis.data", "qualname": "CausalData.X", "kind": "variable", "doc": "<p>Design matrix of confounders.</p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.data.CausalData.get_df", "modulename": "causalis.data", "qualname": "CausalData.get_df", "kind": "function", "doc": "<p>Get a DataFrame with specified columns.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">columns</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">include_treatment</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_outcome</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_confounders</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_user_id</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">include_instrument</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalDatasetGenerator", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator", "kind": "class", "doc": "<p>Generate synthetic causal inference datasets with controllable cofounding,\ntreatment prevalence, noise, and (optionally) heterogeneous treatment effects.</p>\n\n<p><strong>Data model (high level)</strong></p>\n\n<ul>\n<li>confounders X \u2208 R^k are drawn from user-specified distributions.</li>\n<li>Binary treatment D is assigned by a logistic model:\n  D ~ Bernoulli( sigmoid(alpha_d + f_d(X) + u_strength_d * U) ),\nwhere f_d(X) = X @ beta_d + g_d(X), and U ~ N(0,1) is an optional unobserved confounder.</li>\n<li>Outcome Y depends on treatment and confounders with link determined by <code>outcome_type</code>:\n  outcome_type = \"continuous\":\n      Y = alpha_y + f_y(X) + u_strength_y * U + T * tau(X) + \u03b5,  \u03b5 ~ N(0, sigma_y^2)\n  outcome_type = \"binary\":\n      logit P(Y=1|T,X) = alpha_y + f_y(X) + u_strength_y * U + T * tau(X)\n  outcome_type = \"poisson\":\n      log E[Y|T,X]     = alpha_y + f_y(X) + u_strength_y * U + T * tau(X)\nwhere f_y(X) = X @ beta_y + g_y(X), and tau(X) is either constant <code>theta</code> or a user function.</li>\n</ul>\n\n<p><strong>Returned columns</strong></p>\n\n<ul>\n<li>y: outcome</li>\n<li>d: binary treatment (0/1)</li>\n<li>x1..xk (or user-provided names)</li>\n<li>m   : true propensity P(T=1 | X)</li>\n<li>tau_link: tau(X) on the structural (link) scale (mean-diff for continuous; log-odds for binary; log-mean for Poisson)</li>\n<li>g0  : E[Y | X, T=0] on the natural outcome scale</li>\n<li>g1  : E[Y | X, T=1] on the natural outcome scale</li>\n<li>cate: g1 - g0 (conditional average treatment effect on the natural outcome scale)</li>\n</ul>\n\n<p>Notes on effect scale:</p>\n\n<ul>\n<li>For \"continuous\", <code>theta</code> (or tau(X)) is an additive mean difference, so <code>tau_link == cate</code> (up to noise).</li>\n<li>For \"binary\", tau acts on the <em>log-odds</em> scale (log-odds ratio). <code>cate</code> is reported as a risk difference\n(probability scale) and can be heterogeneous even if <code>tau_link</code> is constant, because it depends on baseline risk.</li>\n<li>For \"poisson\", tau acts on the <em>log-mean</em> scale (log incidence-rate ratio). <code>cate</code> is reported on the mean\n(rate) scale and can be heterogeneous even if <code>tau_link</code> is constant, because it depends on the baseline mean.</li>\n</ul>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>theta</strong> (float, default=1.0):\nConstant treatment effect used if <code>tau</code> is None.</li>\n<li><strong>tau</strong> (callable or None, default=None):\nFunction tau(X) -> array-like shape (n,) for heterogeneous effects. Ignored if None.</li>\n<li><strong>beta_y</strong> (array-like of shape (k,), optional):\nLinear coefficients of confounders in the outcome baseline f_y(X). Length must match the expanded X after one-hot encoding.</li>\n<li><strong>beta_d</strong> (array-like of shape (k,), optional):\nLinear coefficients of confounders in the treatment score f_t(X) (log-odds scale). Length must match the expanded X after one-hot encoding.</li>\n<li><strong>g_y</strong> (callable, optional):\nNonlinear/additive function g_y(X) -> (n,) added to the outcome baseline.</li>\n<li><strong>g_d</strong> (callable, optional):\nNonlinear/additive function g_d(X) -> (n,) added to the treatment score.</li>\n<li><strong>alpha_y</strong> (float, default=0.0):\nOutcome intercept (natural scale for continuous; log-odds for binary; log-mean for Poisson).</li>\n<li><strong>alpha_d</strong> (float, default=0.0):\nTreatment intercept (log-odds). If <code>target_d_rate</code> is set, <code>alpha_d</code> is auto-calibrated.</li>\n<li><strong>sigma_y</strong> (float, default=1.0):\nStd. dev. of the Gaussian noise for continuous outcomes.</li>\n<li><strong>outcome_type</strong> ({\"continuous\",\"binary\",\"poisson\"}, default=\"continuous\"):\nOutcome family and link as defined above.</li>\n<li><strong>confounder_specs</strong> (list of dict, optional):\nSchema for generating confounders. Each spec is one of:\n  {\"name\": str, \"dist\": \"normal\",   \"mu\": float, \"sd\": float}\n  {\"name\": str, \"dist\": \"uniform\",  \"a\": float,  \"b\": float}\n  {\"name\": str, \"dist\": \"bernoulli\",\"p\": float}\n  {\"name\": str, \"dist\": \"categorical\", \"categories\": list, \"probs\": list}\n<ul>\n<li>For \"categorical\", one-hot encoding is produced for all levels except the first.</li>\n</ul></li>\n<li><strong>k</strong> (int, default=5):\nNumber of confounders when <code>confounder_specs</code> is None. Defaults to independent N(0,1).</li>\n<li><strong>x_sampler</strong> (callable, optional):\nCustom sampler (n, k, seed) -> X ndarray of shape (n,k). Overrides <code>confounder_specs</code> and <code>k</code>.</li>\n<li><p><strong>target_d_rate</strong> (float in (0,1), optional):\nIf set, calibrates <code>alpha_d</code> via bisection so that the <em>sample mean</em> treatment propensity\nmatches <code>target_d_rate</code>.</p>\n\n<p>Important when <code>u_strength_d != 0</code>:\ncalibration is performed conditional on the realized draw of the unobserved confounder <code>U</code>\n(i.e., it targets the sample mean of <code>m_obs = P(D=1|X,U)</code>). This makes the treatment share\nmatch in-sample.</p>\n\n<p>If you need population calibration (integrating out <code>U</code>, i.e. matching the mean of\n<code>m = P(D=1|X) = E_U[m_obs]</code>), you would instead solve for <code>alpha_d</code> against the marginal\npropensity <code>m</code> (e.g., using Gauss\u2013Hermite quadrature, analogous to how <code>m</code> is computed).</p></li>\n<li><strong>u_strength_d</strong> (float, default=0.0):\nStrength of the unobserved confounder U in treatment assignment.</li>\n<li><strong>u_strength_y</strong> (float, default=0.0):\nStrength of the unobserved confounder U in the outcome.</li>\n<li><strong>seed</strong> (int, optional):\nRandom seed for reproducibility.</li>\n</ul>\n\n<h6 id=\"attributes\">Attributes</h6>\n\n<ul>\n<li><strong>rng</strong> (numpy.random.Generator):\nInternal RNG seeded from <code>seed</code>.</li>\n</ul>\n"}, {"fullname": "causalis.data.CausalDatasetGenerator.__init__", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">tau</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_y</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_d</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">alpha_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">alpha_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">use_copula</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">copula_corr</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">u_strength_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">u_strength_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">propensity_sharpness</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.data.CausalDatasetGenerator.theta", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.theta", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.tau", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.tau", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.beta_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.beta_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.beta_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.beta_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.g_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.g_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.g_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.g_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.alpha_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.alpha_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.alpha_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.alpha_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.sigma_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.sigma_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.outcome_type", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.outcome_type", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.data.CausalDatasetGenerator.confounder_specs", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.confounder_specs", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[Dict[str, Any]] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.k", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.k", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "causalis.data.CausalDatasetGenerator.x_sampler", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.x_sampler", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[int, int, int], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.use_copula", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.use_copula", "kind": "variable", "doc": "<p></p>\n", "annotation": ": bool"}, {"fullname": "causalis.data.CausalDatasetGenerator.copula_corr", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.copula_corr", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.target_d_rate", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.target_d_rate", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.u_strength_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.u_strength_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.u_strength_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.u_strength_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.propensity_sharpness", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.propensity_sharpness", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.seed", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.seed", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.rng", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.rng", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.random._generator.Generator"}, {"fullname": "causalis.data.CausalDatasetGenerator.generate", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.generate", "kind": "function", "doc": "<p>Draw a synthetic dataset of size <code>n</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalDatasetGenerator.to_causal_data", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.to_causal_data", "kind": "function", "doc": "<p>Generate a dataset and convert it to a CausalData object.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalDatasetGenerator.oracle_nuisance", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.oracle_nuisance", "kind": "function", "doc": "<p>Return nuisance functions (m(x), g0(x), g1(x)) compatible with IRM.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">num_quad</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">21</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.causaldata", "modulename": "causalis.data.causaldata", "kind": "module", "doc": "<p>Causalis Dataclass for storing Cross-sectional DataFrame and column metadata for causal inference.</p>\n"}, {"fullname": "causalis.data.causaldata.CausalData", "modulename": "causalis.data.causaldata", "qualname": "CausalData", "kind": "class", "doc": "<p>Container for causal inference datasets.</p>\n\n<p>Wraps a pandas DataFrame and stores the names of treatment, outcome, and optional confounder columns.\nThe stored DataFrame is restricted to only those columns.\nUses Pydantic for validation and as a data contract.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nThe DataFrame containing the data.\nOnly columns specified in outcome, treatment, and confounders will be stored.\nNaN values are not allowed in the stored/used columns.</li>\n<li><strong>treatment</strong> (str):\nColumn name representing the treatment variable.</li>\n<li><strong>outcome</strong> (str):\nColumn name representing the outcome variable.</li>\n<li><strong>confounders</strong> (Union[str, List[str]], optional):\nColumn name(s) representing the confounders/covariates.</li>\n<li><strong>user_id</strong> (str, optional):\nColumn name representing the unique identifier for each observation/user.</li>\n</ul>\n\n<h6 id=\"attributes\">Attributes</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nA copy of the original data restricted to [outcome, treatment] + confounders [+ user_id].</li>\n<li><strong>treatment</strong> (pd.Series):\nThe treatment column as a pandas Series.</li>\n<li><strong>outcome</strong> (pd.Series):\nThe outcome column as a pandas Series.</li>\n<li><strong>confounders</strong> (list[str]):\nNames of the confounder columns (may be empty).</li>\n<li><strong>user_id</strong> (pd.Series, optional):\nThe user_id column as a pandas Series (if specified).</li>\n<li><strong>X</strong> (pd.DataFrame):\nDesign matrix (baseline covariates) used for modeling: df[confounders].</li>\n</ul>\n", "bases": "pydantic.main.BaseModel"}, {"fullname": "causalis.data.causaldata.CausalData.df", "modulename": "causalis.data.causaldata", "qualname": "CausalData.df", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.causaldata.CausalData.treatment_name", "modulename": "causalis.data.causaldata", "qualname": "CausalData.treatment_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.causaldata.CausalData.outcome_name", "modulename": "causalis.data.causaldata", "qualname": "CausalData.outcome_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.causaldata.CausalData.confounders_names", "modulename": "causalis.data.causaldata", "qualname": "CausalData.confounders_names", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[str]", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.causaldata.CausalData.user_id_name", "modulename": "causalis.data.causaldata", "qualname": "CausalData.user_id_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.data.causaldata.CausalData.instrument_name", "modulename": "causalis.data.causaldata", "qualname": "CausalData.instrument_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.data.causaldata.CausalData.from_df", "modulename": "causalis.data.causaldata", "qualname": "CausalData.from_df", "kind": "function", "doc": "<p>Friendly constructor for CausalData.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nThe DataFrame containing the data.</li>\n<li><strong>treatment</strong> (str):\nColumn name representing the treatment variable.</li>\n<li><strong>outcome</strong> (str):\nColumn name representing the outcome  variable.</li>\n<li><strong>confounders</strong> (Union[str, List[str]], optional):\nColumn name(s) representing the confounders/covariates.</li>\n<li><strong>user_id</strong> (str, optional):\nColumn name representing the unique identifier for each observation/user.</li>\n<li><strong>instrument</strong> (str, optional):\nColumn name representing the instrumental variable.</li>\n<li><strong>**kwargs</strong> (Any):\nAdditional arguments passed to the Pydantic model constructor.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>CausalData</strong>: A validated CausalData instance.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">cls</span>,</span><span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">user_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">instrument</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">Any</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.causaldata.CausalData.outcome", "modulename": "causalis.data.causaldata", "qualname": "CausalData.outcome", "kind": "variable", "doc": "<p>Outcome column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.causaldata.CausalData.treatment", "modulename": "causalis.data.causaldata", "qualname": "CausalData.treatment", "kind": "variable", "doc": "<p>Treatment column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.causaldata.CausalData.confounders", "modulename": "causalis.data.causaldata", "qualname": "CausalData.confounders", "kind": "variable", "doc": "<p>List of confounder column names.</p>\n", "annotation": ": List[str]"}, {"fullname": "causalis.data.causaldata.CausalData.user_id", "modulename": "causalis.data.causaldata", "qualname": "CausalData.user_id", "kind": "variable", "doc": "<p>user_id column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.causaldata.CausalData.instrument", "modulename": "causalis.data.causaldata", "qualname": "CausalData.instrument", "kind": "variable", "doc": "<p>instrument column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.causaldata.CausalData.X", "modulename": "causalis.data.causaldata", "qualname": "CausalData.X", "kind": "variable", "doc": "<p>Design matrix of confounders.</p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.data.causaldata.CausalData.get_df", "modulename": "causalis.data.causaldata", "qualname": "CausalData.get_df", "kind": "function", "doc": "<p>Get a DataFrame with specified columns.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">columns</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">include_treatment</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_outcome</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_confounders</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_user_id</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">include_instrument</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps", "modulename": "causalis.data.dgps", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator", "kind": "class", "doc": "<p>Generate synthetic causal inference datasets with controllable cofounding,\ntreatment prevalence, noise, and (optionally) heterogeneous treatment effects.</p>\n\n<p><strong>Data model (high level)</strong></p>\n\n<ul>\n<li>confounders X \u2208 R^k are drawn from user-specified distributions.</li>\n<li>Binary treatment D is assigned by a logistic model:\n  D ~ Bernoulli( sigmoid(alpha_d + f_d(X) + u_strength_d * U) ),\nwhere f_d(X) = X @ beta_d + g_d(X), and U ~ N(0,1) is an optional unobserved confounder.</li>\n<li>Outcome Y depends on treatment and confounders with link determined by <code>outcome_type</code>:\n  outcome_type = \"continuous\":\n      Y = alpha_y + f_y(X) + u_strength_y * U + T * tau(X) + \u03b5,  \u03b5 ~ N(0, sigma_y^2)\n  outcome_type = \"binary\":\n      logit P(Y=1|T,X) = alpha_y + f_y(X) + u_strength_y * U + T * tau(X)\n  outcome_type = \"poisson\":\n      log E[Y|T,X]     = alpha_y + f_y(X) + u_strength_y * U + T * tau(X)\nwhere f_y(X) = X @ beta_y + g_y(X), and tau(X) is either constant <code>theta</code> or a user function.</li>\n</ul>\n\n<p><strong>Returned columns</strong></p>\n\n<ul>\n<li>y: outcome</li>\n<li>d: binary treatment (0/1)</li>\n<li>x1..xk (or user-provided names)</li>\n<li>m   : true propensity P(T=1 | X)</li>\n<li>tau_link: tau(X) on the structural (link) scale (mean-diff for continuous; log-odds for binary; log-mean for Poisson)</li>\n<li>g0  : E[Y | X, T=0] on the natural outcome scale</li>\n<li>g1  : E[Y | X, T=1] on the natural outcome scale</li>\n<li>cate: g1 - g0 (conditional average treatment effect on the natural outcome scale)</li>\n</ul>\n\n<p>Notes on effect scale:</p>\n\n<ul>\n<li>For \"continuous\", <code>theta</code> (or tau(X)) is an additive mean difference, so <code>tau_link == cate</code> (up to noise).</li>\n<li>For \"binary\", tau acts on the <em>log-odds</em> scale (log-odds ratio). <code>cate</code> is reported as a risk difference\n(probability scale) and can be heterogeneous even if <code>tau_link</code> is constant, because it depends on baseline risk.</li>\n<li>For \"poisson\", tau acts on the <em>log-mean</em> scale (log incidence-rate ratio). <code>cate</code> is reported on the mean\n(rate) scale and can be heterogeneous even if <code>tau_link</code> is constant, because it depends on the baseline mean.</li>\n</ul>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>theta</strong> (float, default=1.0):\nConstant treatment effect used if <code>tau</code> is None.</li>\n<li><strong>tau</strong> (callable or None, default=None):\nFunction tau(X) -> array-like shape (n,) for heterogeneous effects. Ignored if None.</li>\n<li><strong>beta_y</strong> (array-like of shape (k,), optional):\nLinear coefficients of confounders in the outcome baseline f_y(X). Length must match the expanded X after one-hot encoding.</li>\n<li><strong>beta_d</strong> (array-like of shape (k,), optional):\nLinear coefficients of confounders in the treatment score f_t(X) (log-odds scale). Length must match the expanded X after one-hot encoding.</li>\n<li><strong>g_y</strong> (callable, optional):\nNonlinear/additive function g_y(X) -> (n,) added to the outcome baseline.</li>\n<li><strong>g_d</strong> (callable, optional):\nNonlinear/additive function g_d(X) -> (n,) added to the treatment score.</li>\n<li><strong>alpha_y</strong> (float, default=0.0):\nOutcome intercept (natural scale for continuous; log-odds for binary; log-mean for Poisson).</li>\n<li><strong>alpha_d</strong> (float, default=0.0):\nTreatment intercept (log-odds). If <code>target_d_rate</code> is set, <code>alpha_d</code> is auto-calibrated.</li>\n<li><strong>sigma_y</strong> (float, default=1.0):\nStd. dev. of the Gaussian noise for continuous outcomes.</li>\n<li><strong>outcome_type</strong> ({\"continuous\",\"binary\",\"poisson\"}, default=\"continuous\"):\nOutcome family and link as defined above.</li>\n<li><strong>confounder_specs</strong> (list of dict, optional):\nSchema for generating confounders. Each spec is one of:\n  {\"name\": str, \"dist\": \"normal\",   \"mu\": float, \"sd\": float}\n  {\"name\": str, \"dist\": \"uniform\",  \"a\": float,  \"b\": float}\n  {\"name\": str, \"dist\": \"bernoulli\",\"p\": float}\n  {\"name\": str, \"dist\": \"categorical\", \"categories\": list, \"probs\": list}\n<ul>\n<li>For \"categorical\", one-hot encoding is produced for all levels except the first.</li>\n</ul></li>\n<li><strong>k</strong> (int, default=5):\nNumber of confounders when <code>confounder_specs</code> is None. Defaults to independent N(0,1).</li>\n<li><strong>x_sampler</strong> (callable, optional):\nCustom sampler (n, k, seed) -> X ndarray of shape (n,k). Overrides <code>confounder_specs</code> and <code>k</code>.</li>\n<li><p><strong>target_d_rate</strong> (float in (0,1), optional):\nIf set, calibrates <code>alpha_d</code> via bisection so that the <em>sample mean</em> treatment propensity\nmatches <code>target_d_rate</code>.</p>\n\n<p>Important when <code>u_strength_d != 0</code>:\ncalibration is performed conditional on the realized draw of the unobserved confounder <code>U</code>\n(i.e., it targets the sample mean of <code>m_obs = P(D=1|X,U)</code>). This makes the treatment share\nmatch in-sample.</p>\n\n<p>If you need population calibration (integrating out <code>U</code>, i.e. matching the mean of\n<code>m = P(D=1|X) = E_U[m_obs]</code>), you would instead solve for <code>alpha_d</code> against the marginal\npropensity <code>m</code> (e.g., using Gauss\u2013Hermite quadrature, analogous to how <code>m</code> is computed).</p></li>\n<li><strong>u_strength_d</strong> (float, default=0.0):\nStrength of the unobserved confounder U in treatment assignment.</li>\n<li><strong>u_strength_y</strong> (float, default=0.0):\nStrength of the unobserved confounder U in the outcome.</li>\n<li><strong>seed</strong> (int, optional):\nRandom seed for reproducibility.</li>\n</ul>\n\n<h6 id=\"attributes\">Attributes</h6>\n\n<ul>\n<li><strong>rng</strong> (numpy.random.Generator):\nInternal RNG seeded from <code>seed</code>.</li>\n</ul>\n"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.__init__", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">tau</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_y</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_d</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">alpha_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">alpha_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">use_copula</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">copula_corr</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">u_strength_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">u_strength_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">propensity_sharpness</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.theta", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.theta", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.tau", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.tau", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.beta_y", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.beta_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.beta_d", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.beta_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.g_y", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.g_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.g_d", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.g_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.alpha_y", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.alpha_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.alpha_d", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.alpha_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.sigma_y", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.sigma_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.outcome_type", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.outcome_type", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.confounder_specs", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.confounder_specs", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[Dict[str, Any]] | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.k", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.k", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.x_sampler", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.x_sampler", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[int, int, int], numpy.ndarray] | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.use_copula", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.use_copula", "kind": "variable", "doc": "<p></p>\n", "annotation": ": bool"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.copula_corr", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.copula_corr", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.target_d_rate", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.target_d_rate", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.u_strength_d", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.u_strength_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.u_strength_y", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.u_strength_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.propensity_sharpness", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.propensity_sharpness", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.seed", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.seed", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int | None"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.rng", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.rng", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.random._generator.Generator"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.generate", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.generate", "kind": "function", "doc": "<p>Draw a synthetic dataset of size <code>n</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.to_causal_data", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.to_causal_data", "kind": "function", "doc": "<p>Generate a dataset and convert it to a CausalData object.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.CausalDatasetGenerator.oracle_nuisance", "modulename": "causalis.data.dgps", "qualname": "CausalDatasetGenerator.oracle_nuisance", "kind": "function", "doc": "<p>Return nuisance functions (m(x), g0(x), g1(x)) compatible with IRM.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">num_quad</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">21</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.generate_rct", "modulename": "causalis.data.dgps", "qualname": "generate_rct", "kind": "function", "doc": "<p>Generate an RCT dataset via CausalDatasetGenerator (thin wrapper), ensuring\nrandomized treatment independent of X. Keeps y and d as float for ML compatibility.</p>\n\n<p>Notes on effect scale (how <code>outcome_params</code> maps into the structural effect):</p>\n\n<ul>\n<li>outcome_type=\"normal\": treatment shifts the mean by (mean[\"B\"] - mean[\"A\"]) on the outcome scale.</li>\n<li>outcome_type=\"binary\": treatment shifts the log-odds by (logit(p_B) - logit(p_A)).\nReported g0/g1 are on the probability scale.</li>\n<li>outcome_type=\"poisson\": treatment shifts the log-mean by log(lam_B / lam_A) where lam = shape * scale.\nReported g0/g1 are on the mean (rate) scale.</li>\n</ul>\n\n<p>Ancillary columns (if add_ancillary=True) are generated from baseline confounders X only\n(plus RNG), and do not depend on the realized outcome y nor on treatment d. This avoids\nboth outcome leakage and post-treatment adjustment/collider issues in typical ML pipelines.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20000</span>,</span><span class=\"param\">\t<span class=\"n\">split</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;binary&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_params</span><span class=\"p\">:</span> <span class=\"n\">Dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.generate_rct_data", "modulename": "causalis.data.dgps", "qualname": "generate_rct_data", "kind": "function", "doc": "<p>Backward-compatible alias for generate_rct used in documentation.\nParameters mirror generate_rct and are forwarded directly.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20000</span>,</span><span class=\"param\">\t<span class=\"n\">split</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;binary&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_params</span><span class=\"p\">:</span> <span class=\"n\">Dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.obs_linear_effect", "modulename": "causalis.data.dgps", "qualname": "obs_linear_effect", "kind": "function", "doc": "<p>Generate an observational dataset with linear effects of confounders and a constant treatment effect.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>n</strong> (int, default=10_000):\nNumber of samples to generate.</li>\n<li><strong>theta</strong> (float, default=1.0):\nConstant treatment effect.</li>\n<li><strong>outcome_type</strong> ({\"continuous\", \"binary\", \"poisson\"}, default=\"continuous\"):\nFamily of the outcome distribution.</li>\n<li><strong>sigma_y</strong> (float, default=1.0):\nNoise level for continuous outcomes.</li>\n<li><strong>target_d_rate</strong> (float, optional):\nTarget treatment prevalence (propensity mean).</li>\n<li><strong>confounder_specs</strong> (list of dict, optional):\nSchema for confounder distributions.</li>\n<li><strong>beta_y</strong> (array-like, optional):\nLinear coefficients for confounders in the outcome model.</li>\n<li><strong>beta_d</strong> (array-like, optional):\nLinear coefficients for confounders in the treatment model.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for reproducibility.</li>\n<li><strong>k</strong> (int, default=0):\nNumber of confounders if specs not provided.</li>\n<li><strong>x_sampler</strong> (callable, optional):\nCustom sampler for confounders.</li>\n<li><strong>add_ancillary</strong> (bool, default=False):\nIf True, adds standard ancillary columns (age, platform, etc.).</li>\n<li><strong>deterministic_ids</strong> (bool, default=False):\nIf True, generates deterministic user IDs.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: Synthetic dataset.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.obs_linear_effect_data", "modulename": "causalis.data.dgps", "qualname": "obs_linear_effect_data", "kind": "function", "doc": "<p>Alias for obs_linear_effect for consistency with generate_rct_data.\nParameters mirror obs_linear_effect and are forwarded directly.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.make_gold_linear", "modulename": "causalis.data.dgps", "qualname": "make_gold_linear", "kind": "function", "doc": "<p>A standard linear benchmark with moderate confounding.\nBased on the benchmark scenario in docs/research/dgp_benchmarking.ipynb.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.dgps.SmokingDGP", "modulename": "causalis.data.dgps", "qualname": "SmokingDGP", "kind": "class", "doc": "<p>A specialized generating class for smoking-related causal scenarios.\nExample of how users can extend CausalDatasetGenerator for specific domains.</p>\n", "bases": "causalis.data.dgps.base.CausalDatasetGenerator"}, {"fullname": "causalis.data.dgps.SmokingDGP.__init__", "modulename": "causalis.data.dgps", "qualname": "SmokingDGP.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">effect_size</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span>)</span>"}, {"fullname": "causalis.data.dgps.obs_linear_26_dataset", "modulename": "causalis.data.dgps", "qualname": "obs_linear_26_dataset", "kind": "function", "doc": "<p>A pre-configured observational linear dataset with 5 standard confounders.\nBased on the scenario in docs/examples/dml_ate.ipynb.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>n</strong> (int, default=10000):\nNumber of samples.</li>\n<li><strong>seed</strong> (int, default=42):\nRandom seed.</li>\n<li><strong>return_causal_data</strong> (bool, default=True):\nIf True, returns a CausalData object. If False, returns a pandas DataFrame.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>, </span><span class=\"param\"><span class=\"n\">return_causal_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda", "modulename": "causalis.eda", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA", "modulename": "causalis.eda", "qualname": "CausalEDA", "kind": "class", "doc": "<p>Exploratory diagnostics for causal designs with binary treatment.</p>\n\n<p>The class exposes methods to:</p>\n\n<ul>\n<li>Summarize outcome by treatment and naive mean difference.</li>\n<li>Estimate cross-validated propensity scores and assess treatment\npredictability (AUC) and positivity/overlap.</li>\n<li>Inspect covariate balance via standardized mean differences (SMD)\nbefore/after IPTW weighting; visualize with a love plot.</li>\n<li>Inspect weight distributions and effective sample size (ESS).</li>\n</ul>\n"}, {"fullname": "causalis.eda.CausalEDA.__init__", "modulename": "causalis.eda", "qualname": "CausalEDA.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">ps_model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_splits</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span></span>)</span>"}, {"fullname": "causalis.eda.CausalEDA.d", "modulename": "causalis.eda", "qualname": "CausalEDA.d", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.n_splits", "modulename": "causalis.eda", "qualname": "CausalEDA.n_splits", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.random_state", "modulename": "causalis.eda", "qualname": "CausalEDA.random_state", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.ps_model", "modulename": "causalis.eda", "qualname": "CausalEDA.ps_model", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.preproc", "modulename": "causalis.eda", "qualname": "CausalEDA.preproc", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.ps_pipe", "modulename": "causalis.eda", "qualname": "CausalEDA.ps_pipe", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.cat_features", "modulename": "causalis.eda", "qualname": "CausalEDA.cat_features", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.CausalEDA.data_shape", "modulename": "causalis.eda", "qualname": "CausalEDA.data_shape", "kind": "function", "doc": "<p>Return the shape information of the causal dataset.</p>\n\n<p>Returns a dict with:</p>\n\n<ul>\n<li>n_rows: number of rows (observations) in the dataset</li>\n<li>n_columns: number of columns (features) in the dataset</li>\n</ul>\n\n<p>This provides a quick overview of the dataset dimensions for \nexploratory analysis and reporting purposes.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, int]</strong>: Dictionary containing 'n_rows' and 'n_columns' keys with \ncorresponding integer values representing the dataset dimensions.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eda</span> <span class=\"o\">=</span> <span class=\"n\">CausalEDA</span><span class=\"p\">(</span><span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shape_info</span> <span class=\"o\">=</span> <span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">data_shape</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Dataset has </span><span class=\"si\">{</span><span class=\"n\">shape_info</span><span class=\"p\">[</span><span class=\"s1\">&#39;n_rows&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\"> rows and </span><span class=\"si\">{</span><span class=\"n\">shape_info</span><span class=\"p\">[</span><span class=\"s1\">&#39;n_columns&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\"> columns&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.outcome_stats", "modulename": "causalis.eda", "qualname": "CausalEDA.outcome_stats", "kind": "function", "doc": "<p>Comprehensive outcome statistics grouped by treatment.</p>\n\n<p>Returns a DataFrame with detailed outcome statistics for each treatment group,\nincluding count, mean, std, min, various percentiles, and max.\nThis method provides comprehensive outcome analysis and returns\ndata in a clean DataFrame format suitable for reporting.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: DataFrame with treatment groups as index and the following columns:\n<ul>\n<li>count: number of observations in each group</li>\n<li>mean: average outcome value</li>\n<li>std: standard deviation of outcome</li>\n<li>min: minimum outcome value</li>\n<li>p10: 10th percentile</li>\n<li>p25: 25th percentile (Q1)</li>\n<li>median: 50th percentile (median)</li>\n<li>p75: 75th percentile (Q3)</li>\n<li>p90: 90th percentile</li>\n<li>max: maximum outcome value</li>\n</ul></li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eda</span> <span class=\"o\">=</span> <span class=\"n\">CausalEDA</span><span class=\"p\">(</span><span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stats</span> <span class=\"o\">=</span> <span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">outcome_stats</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">stats</span><span class=\"p\">)</span>\n<span class=\"go\">        count      mean       std       min       p10       p25    median       p75       p90       max</span>\n<span class=\"go\">treatment                                                                                                </span>\n<span class=\"go\">0        3000  5.123456  2.345678  0.123456  2.345678  3.456789  5.123456  6.789012  7.890123  9.876543</span>\n<span class=\"go\">1        2000  6.789012  2.456789  0.234567  3.456789  4.567890  6.789012  8.901234  9.012345  10.987654</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.fit_m", "modulename": "causalis.eda", "qualname": "CausalEDA.fit_m", "kind": "function", "doc": "<p>Estimate cross-validated m(x) = P(D=1|X).</p>\n\n<p>Uses a preprocessing + classifier setup with stratified K-fold to generate\nout-of-fold probabilities. For CatBoost, data are one-hot encoded via the\nconfigured ColumnTransformer before fitting. Returns a PropensityModel.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">PropensityModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.fit_propensity", "modulename": "causalis.eda", "qualname": "CausalEDA.fit_propensity", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">PropensityModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.outcome_fit", "modulename": "causalis.eda", "qualname": "CausalEDA.outcome_fit", "kind": "function", "doc": "<p>Fit a regression model to predict outcome from confounders only.</p>\n\n<p>Uses a preprocessing+CatBoost regressor pipeline with K-fold\ncross_val_predict to generate out-of-fold predictions. CatBoost uses\nall available threads and handles categorical features natively. Returns an\nOutcomeModel instance containing predicted outcomes and diagnostic methods.</p>\n\n<p>The outcome model predicts the baseline outcome from confounders only,\nexcluding treatment. This is essential for proper causal analysis.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>outcome_model</strong> (Optional[Any]):\nCustom regression model to use. If None, uses CatBoostRegressor.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>OutcomeModel</strong>: An OutcomeModel instance with methods for:\n<ul>\n<li>scores: RMSE and MAE regression metrics</li>\n<li>shap: SHAP values DataFrame property for outcome prediction</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">outcome_model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">OutcomeModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.auc_m", "modulename": "causalis.eda", "qualname": "CausalEDA.auc_m", "kind": "function", "doc": "<p>Compute ROC AUC of treatment assignment vs. m(x).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.positivity_check_m", "modulename": "causalis.eda", "qualname": "CausalEDA.positivity_check_m", "kind": "function", "doc": "<p>Check overlap/positivity for m(x) based on thresholds.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bounds</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"mf\">0.95</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.plot_m_overlap", "modulename": "causalis.eda", "qualname": "CausalEDA.plot_m_overlap", "kind": "function", "doc": "<p>Plot overlaid histograms of m(x) for treated vs control.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.confounders_roc_auc", "modulename": "causalis.eda", "qualname": "CausalEDA.confounders_roc_auc", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">ps</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.positivity_check", "modulename": "causalis.eda", "qualname": "CausalEDA.positivity_check", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">ps</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bounds</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"mf\">0.95</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.plot_ps_overlap", "modulename": "causalis.eda", "qualname": "CausalEDA.plot_ps_overlap", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">ps</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.confounders_means", "modulename": "causalis.eda", "qualname": "CausalEDA.confounders_means", "kind": "function", "doc": "<p>Comprehensive confounders balance assessment with means by treatment group.</p>\n\n<p>Returns a DataFrame with detailed balance information including:</p>\n\n<ul>\n<li>Mean values of each confounder for control group (treatment=0)</li>\n<li>Mean values of each confounder for treated group (treatment=1)</li>\n<li>Absolute difference between treatment groups</li>\n<li>Standardized Mean Difference (SMD) for formal balance assessment</li>\n<li>Kolmogorov\u2013Smirnov statistic (ks) and p-value (ks_pvalue) for distributional differences</li>\n</ul>\n\n<p>This method provides a comprehensive view of confounder balance by showing\nthe actual mean values alongside the standardized differences, making it easier\nto understand both the magnitude and direction of imbalances.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: DataFrame with confounders as index and the following columns:\n<ul>\n<li>mean_t_0: mean value for control group (treatment=0)</li>\n<li>mean_t_1: mean value for treated group (treatment=1)  </li>\n<li>abs_diff: absolute difference abs(mean_t_1 - mean_t_0)</li>\n<li>smd: standardized mean difference (Cohen's d)</li>\n<li>ks: Kolmogorov\u2013Smirnov statistic</li>\n<li>ks_pvalue: p-value of the KS test</li>\n</ul></li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>SMD values &gt; 0.1 in absolute value typically indicate meaningful imbalance.\nCategorical variables are automatically converted to dummy variables.</p>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eda</span> <span class=\"o\">=</span> <span class=\"n\">CausalEDA</span><span class=\"p\">(</span><span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">balance</span> <span class=\"o\">=</span> <span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">confounders_means</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">balance</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">())</span>\n<span class=\"go\">             mean_t_0  mean_t_1  abs_diff       smd</span>\n<span class=\"go\">confounders                                       </span>\n<span class=\"go\">age              29.5      31.2      1.7     0.085</span>\n<span class=\"go\">income        45000.0   47500.0   2500.0     0.125</span>\n<span class=\"go\">education         0.25      0.35      0.1     0.215</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.outcome_hist", "modulename": "causalis.eda", "qualname": "CausalEDA.outcome_hist", "kind": "function", "doc": "<p>Plot the distribution of the outcome for each treatment on a single, pretty plot.</p>\n\n<h6 id=\"features\">Features</h6>\n\n<ul>\n<li>High-DPI canvas + scalable fonts</li>\n<li>Default Matplotlib colors; KDE &amp; mean lines match their histogram colors</li>\n<li>Numeric outcomes: shared x-range (optional), optional KDE, quantile clipping</li>\n<li>Categorical outcomes: normalized grouped bars by treatment</li>\n<li>Optional hi-res export (PNG/SVG/PDF)</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bins</span><span class=\"o\">=</span><span class=\"s1\">&#39;fd&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">density</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.45</span>,</span><span class=\"param\">\t<span class=\"n\">sharex</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">kde</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">clip</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mf\">0.99</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mf\">5.5</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">220</span>,</span><span class=\"param\">\t<span class=\"n\">font_scale</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.15</span>,</span><span class=\"param\">\t<span class=\"n\">save</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">save_dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">transparent</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.outcome_boxplot", "modulename": "causalis.eda", "qualname": "CausalEDA.outcome_boxplot", "kind": "function", "doc": "<p>Prettified boxplot of the outcome by treatment.</p>\n\n<h6 id=\"features\">Features</h6>\n\n<ul>\n<li>High-DPI figure, scalable fonts</li>\n<li>Soft modern color styling (default Matplotlib palette)</li>\n<li>Optional outliers, gentle transparency</li>\n<li>Optional save to PNG/SVG/PDF</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mf\">5.5</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">220</span>,</span><span class=\"param\">\t<span class=\"n\">font_scale</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.15</span>,</span><span class=\"param\">\t<span class=\"n\">showfliers</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">patch_artist</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">save</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">save_dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">transparent</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.outcome_plots", "modulename": "causalis.eda", "qualname": "CausalEDA.outcome_plots", "kind": "function", "doc": "<p>Plot the distribution of the outcome for every treatment on one plot,\nand also produce a boxplot by treatment to visualize outliers.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>treatment</strong> (Optional[str]):\nTreatment column name. Defaults to the treatment stored in the CausalEDA data.</li>\n<li><strong>outcome</strong> (Optional[str]):\nOutcome column name. Defaults to the outcome stored in the CausalEDA data.</li>\n<li><strong>bins</strong> (int):\nNumber of bins for histograms when the outcome is numeric.</li>\n<li><strong>density</strong> (bool):\nWhether to normalize histograms to form a density.</li>\n<li><strong>alpha</strong> (float):\nTransparency for overlaid histograms.</li>\n<li><strong>figsize</strong> (tuple):\nFigure size for the plots.</li>\n<li><strong>sharex</strong> (bool):\nIf True and the outcome is numeric, use the same x-limits across treatments.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Tuple[matplotlib.figure.Figure, matplotlib.figure.Figure]</strong>: (fig_distribution, fig_boxplot)</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">30</span>,</span><span class=\"param\">\t<span class=\"n\">density</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">sharex</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">matplotlib</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"o\">.</span><span class=\"n\">Figure</span><span class=\"p\">,</span> <span class=\"n\">matplotlib</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"o\">.</span><span class=\"n\">Figure</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.m_features", "modulename": "causalis.eda", "qualname": "CausalEDA.m_features", "kind": "function", "doc": "<p>Return feature attribution from the fitted m(x) model.</p>\n\n<ul>\n<li>CatBoost path: SHAP attributions with columns 'shap_mean' and 'shap_mean_abs',\nsorted by 'shap_mean_abs'. Uses transformed feature names from the preprocessor.</li>\n<li>Sklearn path (LogisticRegression): absolute coefficients reported as 'coef_abs'.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.treatment_features", "modulename": "causalis.eda", "qualname": "CausalEDA.treatment_features", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.CausalEDA.Optional", "modulename": "causalis.eda", "qualname": "CausalEDA.Optional", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Optional"}, {"fullname": "causalis.eda.CausalEDA.Tuple", "modulename": "causalis.eda", "qualname": "CausalEDA.Tuple", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Tuple"}, {"fullname": "causalis.eda.CausalDataLite", "modulename": "causalis.eda", "qualname": "CausalDataLite", "kind": "class", "doc": "<p>A minimal container for dataset roles used by CausalEDA.</p>\n\n<p>Attributes</p>\n\n<ul>\n<li>df: The full pandas DataFrame containing treatment, outcome and covariates.</li>\n<li>treatment: Column name of the binary treatment indicator (0/1).</li>\n<li>outcome: Column name of the outcome variable.</li>\n<li>confounders: List of covariate column names used to model treatment.</li>\n</ul>\n"}, {"fullname": "causalis.eda.CausalDataLite.__init__", "modulename": "causalis.eda", "qualname": "CausalDataLite.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span></span>)</span>"}, {"fullname": "causalis.eda.CausalDataLite.df", "modulename": "causalis.eda", "qualname": "CausalDataLite.df", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.eda.CausalDataLite.treatment", "modulename": "causalis.eda", "qualname": "CausalDataLite.treatment", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.eda.CausalDataLite.outcome", "modulename": "causalis.eda", "qualname": "CausalDataLite.outcome", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.eda.CausalDataLite.confounders", "modulename": "causalis.eda", "qualname": "CausalDataLite.confounders", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[str]"}, {"fullname": "causalis.eda.confounders_balance", "modulename": "causalis.eda", "qualname": "confounders_balance", "kind": "function", "doc": "<p>Compute balance diagnostics for confounders between treatment groups.</p>\n\n<p>Produces a DataFrame indexed by expanded confounder columns (after one-hot\nencoding categorical variables) with:</p>\n\n<ul>\n<li>mean_t_0: mean value for control group (t=0)</li>\n<li>mean_t_1: mean value for treated group (t=1)</li>\n<li>abs_diff: abs(mean_t_1 - mean_t_0)</li>\n<li>smd: standardized mean difference (Cohen's d using pooled std)</li>\n<li>ks: Kolmogorov\u2013Smirnov statistic between treated and control</li>\n<li>ks_pvalue: p-value for the KS test</li>\n</ul>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nSource dataframe containing treatment and confounders.</li>\n<li><strong>treatment</strong> (str):\nName of the treatment column (binary, 0/1 or False/True).</li>\n<li><strong>confounders</strong> (Iterable[str]):\nColumn names of confounders to assess.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: Balance table sorted by |smd| (descending), index named 'confounders'.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"n\">Iterable</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.confounders_balance", "modulename": "causalis.eda.confounders_balance", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.confounders_balance.confounders_balance", "modulename": "causalis.eda.confounders_balance", "qualname": "confounders_balance", "kind": "function", "doc": "<p>Compute balance diagnostics for confounders between treatment groups.</p>\n\n<p>Produces a DataFrame indexed by expanded confounder columns (after one-hot\nencoding categorical variables) with:</p>\n\n<ul>\n<li>mean_t_0: mean value for control group (t=0)</li>\n<li>mean_t_1: mean value for treated group (t=1)</li>\n<li>abs_diff: abs(mean_t_1 - mean_t_0)</li>\n<li>smd: standardized mean difference (Cohen's d using pooled std)</li>\n<li>ks: Kolmogorov\u2013Smirnov statistic between treated and control</li>\n<li>ks_pvalue: p-value for the KS test</li>\n</ul>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nSource dataframe containing treatment and confounders.</li>\n<li><strong>treatment</strong> (str):\nName of the treatment column (binary, 0/1 or False/True).</li>\n<li><strong>confounders</strong> (Iterable[str]):\nColumn names of confounders to assess.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: Balance table sorted by |smd| (descending), index named 'confounders'.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"n\">Iterable</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda", "modulename": "causalis.eda.eda", "kind": "module", "doc": "<p>EDA utilities for causal analysis (propensity, overlap, balance, weights).</p>\n\n<p>This module provides a lightweight CausalEDA class to quickly assess whether a\nbinary treatment problem is suitable for causal effect estimation. The outputs\nfocus on interpretability: treatment predictability, overlap/positivity,\ncovariate balance before/after weighting, and basic data health.</p>\n\n<p>What the main outputs mean</p>\n\n<ul>\n<li>outcome_stats(): DataFrame with comprehensive statistics (count, mean, std, \npercentiles, min/max) for outcome grouped by treatment.</li>\n<li>fit_propensity(): Numpy array of cross-validated propensity scores P(T=1|X).</li>\n<li>confounders_roc_auc(): Float ROC AUC of treatment vs. propensity score.\nHigher AUC implies treatment is predictable from confounders (more cofounding risk).</li>\n<li>positivity_check(): Dict with bounds, share_below, share_above, and flag.\nIt reports what share of units have PS outside [low, high]; a large share\nsignals poor overlap (violated positivity).</li>\n<li>plot_ps_overlap(): Overlaid histograms of PS for treated vs control.</li>\n<li>confounders_means(): DataFrame with comprehensive balance assessment including\nmeans by treatment group, absolute differences, and standardized mean differences (SMD).</li>\n</ul>\n\n<p>Note: The class accepts either the project\u2019s CausalData object (duck-typed) or a\nCausalDataLite with explicit fields.</p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel", "modulename": "causalis.eda.eda", "qualname": "PropensityModel", "kind": "class", "doc": "<p>A model for m(x) = P(D=1|X) and related diagnostics.</p>\n\n<p>This class encapsulates propensity m and provides methods for:</p>\n\n<ul>\n<li>Computing ROC AUC (AUC of D vs m)</li>\n<li>Extracting SHAP values</li>\n<li>Plotting m overlap</li>\n<li>Checking positivity/overlap</li>\n</ul>\n\n<p>The class is returned by CausalEDA.fit_m() and provides a cleaner\ninterface for propensity analysis.</p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.__init__", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.__init__", "kind": "function", "doc": "<p>Initialize PropensityModel with fitted model artifacts.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>m</strong> (np.ndarray):\nArray of m(x) = P(D=1|X)</li>\n<li><strong>d</strong> (np.ndarray):\nArray of actual treatment assignments (0/1)</li>\n<li><strong>fitted_model</strong> (Any):\nThe fitted propensity model</li>\n<li><strong>feature_names</strong> (List[str]):\nNames of features used in the model</li>\n<li><strong>X_for_shap</strong> (Optional[np.ndarray]):\nPreprocessed feature matrix for SHAP computation</li>\n<li><strong>cat_features_for_shap</strong> (Optional[List[int]]):\nCategorical feature indices for SHAP computation</li>\n<li><strong>propensity_scores, treatment_values</strong> (Optional legacy aliases accepted for back-compat):</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">fitted_model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">feature_names</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">X_for_shap</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">cat_features_for_shap</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">propensity_scores</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">treatment_values</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.eda.eda.PropensityModel.m", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.m", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.d", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.d", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.fitted_model", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.fitted_model", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.feature_names", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.feature_names", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.X_for_shap", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.X_for_shap", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.cat_features_for_shap", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.cat_features_for_shap", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.from_kfold", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.from_kfold", "kind": "function", "doc": "<p>Estimate m(x) via K-fold and return a PropensityModel.</p>\n\n<p>Produces out-of-fold m estimates using StratifiedKFold. If no\nmodel is provided, a fast LogisticRegression is used. Categorical\nfeatures are one-hot encoded and numeric features standardized by\ndefault using a ColumnTransformer.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">cls</span>,</span><span class=\"param\">\t<span class=\"n\">X</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">t</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_splits</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">preprocessor</span><span class=\"p\">:</span> <span class=\"n\">sklearn</span><span class=\"o\">.</span><span class=\"n\">compose</span><span class=\"o\">.</span><span class=\"n\">_column_transformer</span><span class=\"o\">.</span><span class=\"n\">ColumnTransformer</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">PropensityModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.PropensityModel.roc_auc", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.roc_auc", "kind": "variable", "doc": "<p>Compute ROC AUC of treatment assignment vs. m(x).</p>\n\n<p>Higher AUC means treatment is more predictable from confounders,\nindicating stronger systematic differences between groups (potential\ncofounding). Values near 0.5 suggest random-like assignment.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>float</strong>: ROC AUC score between 0 and 1</li>\n</ul>\n", "annotation": ": float"}, {"fullname": "causalis.eda.eda.PropensityModel.shap", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.shap", "kind": "variable", "doc": "<p>Return feature attribution from the fitted propensity model.</p>\n\n<p>For CatBoost models: returns SHAP-based attributions with both signed mean (shap_mean)\nand magnitude (shap_mean_abs), sorted by shap_mean_abs.</p>\n\n<p>For sklearn linear models (LogisticRegression): returns absolute coefficients under\ncolumn 'coef_abs' (not SHAP), sorted descending.</p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.eda.eda.PropensityModel.propensity_scores", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.propensity_scores", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.PropensityModel.plot_m_overlap", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.plot_m_overlap", "kind": "function", "doc": "<p>Overlap plot for m(x)=P(D=1|X) with high-res rendering.</p>\n\n<ul>\n<li>x in [0,1]</li>\n<li>Stable NumPy KDE w/ boundary reflection (no SciPy warnings)</li>\n<li>Uses Matplotlib default colors unless color_t/color_c are provided</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">clip</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mf\">0.99</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">bins</span><span class=\"o\">=</span><span class=\"s1\">&#39;fd&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">kde</span><span class=\"o\">=</span><span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">shade_overlap</span><span class=\"o\">=</span><span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mf\">5.5</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">dpi</span><span class=\"o\">=</span><span class=\"mi\">220</span>,</span><span class=\"param\">\t<span class=\"n\">font_scale</span><span class=\"o\">=</span><span class=\"mf\">1.15</span>,</span><span class=\"param\">\t<span class=\"n\">save</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">save_dpi</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">transparent</span><span class=\"o\">=</span><span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">color_t</span><span class=\"o\">=</span><span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">color_c</span><span class=\"o\">=</span><span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.PropensityModel.positivity_check_m", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.positivity_check_m", "kind": "function", "doc": "<p>Check overlap/positivity for m(x) based on thresholds.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">bounds</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"mf\">0.95</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.PropensityModel.ps_graph", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.ps_graph", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"o\">*</span><span class=\"n\">args</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.PropensityModel.positivity_check", "modulename": "causalis.eda.eda", "qualname": "PropensityModel.positivity_check", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"o\">*</span><span class=\"n\">args</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.OutcomeModel", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel", "kind": "class", "doc": "<p>A model for outcome prediction and related diagnostics.</p>\n\n<p>This class encapsulates outcome predictions and provides methods for:</p>\n\n<ul>\n<li>Computing RMSE and MAE regression metrics</li>\n<li>Extracting SHAP values for outcome prediction</li>\n</ul>\n\n<p>The class is returned by CausalEDA.outcome_fit() and provides a cleaner\ninterface for outcome model analysis.</p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.__init__", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.__init__", "kind": "function", "doc": "<p>Initialize OutcomeModel with fitted model artifacts.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>predicted_outcomes</strong> (np.ndarray):\nArray of predicted outcome values</li>\n<li><strong>actual_outcomes</strong> (np.ndarray):\nArray of actual outcome values</li>\n<li><strong>fitted_model</strong> (Any):\nThe fitted outcome prediction model</li>\n<li><strong>feature_names</strong> (List[str]):\nNames of features used in the model (confounders only)</li>\n<li><strong>X_for_shap</strong> (Optional[np.ndarray]):\nPreprocessed feature matrix for SHAP computation</li>\n<li><strong>cat_features_for_shap</strong> (Optional[List[int]]):\nCategorical feature indices for SHAP computation</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">predicted_outcomes</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">actual_outcomes</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">fitted_model</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">feature_names</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">X_for_shap</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">cat_features_for_shap</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.eda.eda.OutcomeModel.predicted_outcomes", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.predicted_outcomes", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.actual_outcomes", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.actual_outcomes", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.fitted_model", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.fitted_model", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.feature_names", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.feature_names", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.X_for_shap", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.X_for_shap", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.cat_features_for_shap", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.cat_features_for_shap", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.OutcomeModel.from_kfold", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.from_kfold", "kind": "function", "doc": "<p>Estimate an outcome model via K-fold and return an OutcomeModel.</p>\n\n<p>Produces out-of-fold predictions using KFold. If no model is provided,\na fast LinearRegression is used. Categorical features are one-hot\nencoded and numeric features standardized by default.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">cls</span>,</span><span class=\"param\">\t<span class=\"n\">X</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_splits</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">preprocessor</span><span class=\"p\">:</span> <span class=\"n\">sklearn</span><span class=\"o\">.</span><span class=\"n\">compose</span><span class=\"o\">.</span><span class=\"n\">_column_transformer</span><span class=\"o\">.</span><span class=\"n\">ColumnTransformer</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">OutcomeModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.OutcomeModel.scores", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.scores", "kind": "variable", "doc": "<p>Compute regression metrics (RMSE and MAE) for outcome predictions.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, float]</strong>: Dictionary containing:\n<ul>\n<li>'rmse': Root Mean Squared Error</li>\n<li>'mae': Mean Absolute Error</li>\n</ul></li>\n</ul>\n", "annotation": ": Dict[str, float]"}, {"fullname": "causalis.eda.eda.OutcomeModel.shap", "modulename": "causalis.eda.eda", "qualname": "OutcomeModel.shap", "kind": "variable", "doc": "<p>Return SHAP values from the fitted outcome prediction model.</p>\n\n<p>SHAP values show the directional contribution of each feature to \noutcome prediction, where positive values increase the predicted \noutcome and negative values decrease it.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: For CatBoost models: DataFrame with columns 'feature' and 'shap_mean',\nwhere 'shap_mean' represents the mean SHAP value across all samples.</li>\n</ul>\n\n<p>For sklearn models: DataFrame with columns 'feature' and 'importance'\n(absolute coefficient values, for backward compatibility).</p>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>RuntimeError</strong>: If the fitted model does not support SHAP values extraction.</li>\n</ul>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.eda.eda.CausalDataLite", "modulename": "causalis.eda.eda", "qualname": "CausalDataLite", "kind": "class", "doc": "<p>A minimal container for dataset roles used by CausalEDA.</p>\n\n<p>Attributes</p>\n\n<ul>\n<li>df: The full pandas DataFrame containing treatment, outcome and covariates.</li>\n<li>treatment: Column name of the binary treatment indicator (0/1).</li>\n<li>outcome: Column name of the outcome variable.</li>\n<li>confounders: List of covariate column names used to model treatment.</li>\n</ul>\n"}, {"fullname": "causalis.eda.eda.CausalDataLite.__init__", "modulename": "causalis.eda.eda", "qualname": "CausalDataLite.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span></span>)</span>"}, {"fullname": "causalis.eda.eda.CausalDataLite.df", "modulename": "causalis.eda.eda", "qualname": "CausalDataLite.df", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.eda.eda.CausalDataLite.treatment", "modulename": "causalis.eda.eda", "qualname": "CausalDataLite.treatment", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.eda.eda.CausalDataLite.outcome", "modulename": "causalis.eda.eda", "qualname": "CausalDataLite.outcome", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.eda.eda.CausalDataLite.confounders", "modulename": "causalis.eda.eda", "qualname": "CausalDataLite.confounders", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[str]"}, {"fullname": "causalis.eda.eda.CausalEDA", "modulename": "causalis.eda.eda", "qualname": "CausalEDA", "kind": "class", "doc": "<p>Exploratory diagnostics for causal designs with binary treatment.</p>\n\n<p>The class exposes methods to:</p>\n\n<ul>\n<li>Summarize outcome by treatment and naive mean difference.</li>\n<li>Estimate cross-validated propensity scores and assess treatment\npredictability (AUC) and positivity/overlap.</li>\n<li>Inspect covariate balance via standardized mean differences (SMD)\nbefore/after IPTW weighting; visualize with a love plot.</li>\n<li>Inspect weight distributions and effective sample size (ESS).</li>\n</ul>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.__init__", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">ps_model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_splits</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span></span>)</span>"}, {"fullname": "causalis.eda.eda.CausalEDA.d", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.d", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.n_splits", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.n_splits", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.random_state", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.random_state", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.ps_model", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.ps_model", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.preproc", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.preproc", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.ps_pipe", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.ps_pipe", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.cat_features", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.cat_features", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.eda.eda.CausalEDA.data_shape", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.data_shape", "kind": "function", "doc": "<p>Return the shape information of the causal dataset.</p>\n\n<p>Returns a dict with:</p>\n\n<ul>\n<li>n_rows: number of rows (observations) in the dataset</li>\n<li>n_columns: number of columns (features) in the dataset</li>\n</ul>\n\n<p>This provides a quick overview of the dataset dimensions for \nexploratory analysis and reporting purposes.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, int]</strong>: Dictionary containing 'n_rows' and 'n_columns' keys with \ncorresponding integer values representing the dataset dimensions.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eda</span> <span class=\"o\">=</span> <span class=\"n\">CausalEDA</span><span class=\"p\">(</span><span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shape_info</span> <span class=\"o\">=</span> <span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">data_shape</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Dataset has </span><span class=\"si\">{</span><span class=\"n\">shape_info</span><span class=\"p\">[</span><span class=\"s1\">&#39;n_rows&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\"> rows and </span><span class=\"si\">{</span><span class=\"n\">shape_info</span><span class=\"p\">[</span><span class=\"s1\">&#39;n_columns&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\"> columns&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.outcome_stats", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.outcome_stats", "kind": "function", "doc": "<p>Comprehensive outcome statistics grouped by treatment.</p>\n\n<p>Returns a DataFrame with detailed outcome statistics for each treatment group,\nincluding count, mean, std, min, various percentiles, and max.\nThis method provides comprehensive outcome analysis and returns\ndata in a clean DataFrame format suitable for reporting.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: DataFrame with treatment groups as index and the following columns:\n<ul>\n<li>count: number of observations in each group</li>\n<li>mean: average outcome value</li>\n<li>std: standard deviation of outcome</li>\n<li>min: minimum outcome value</li>\n<li>p10: 10th percentile</li>\n<li>p25: 25th percentile (Q1)</li>\n<li>median: 50th percentile (median)</li>\n<li>p75: 75th percentile (Q3)</li>\n<li>p90: 90th percentile</li>\n<li>max: maximum outcome value</li>\n</ul></li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eda</span> <span class=\"o\">=</span> <span class=\"n\">CausalEDA</span><span class=\"p\">(</span><span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stats</span> <span class=\"o\">=</span> <span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">outcome_stats</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">stats</span><span class=\"p\">)</span>\n<span class=\"go\">        count      mean       std       min       p10       p25    median       p75       p90       max</span>\n<span class=\"go\">treatment                                                                                                </span>\n<span class=\"go\">0        3000  5.123456  2.345678  0.123456  2.345678  3.456789  5.123456  6.789012  7.890123  9.876543</span>\n<span class=\"go\">1        2000  6.789012  2.456789  0.234567  3.456789  4.567890  6.789012  8.901234  9.012345  10.987654</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.fit_m", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.fit_m", "kind": "function", "doc": "<p>Estimate cross-validated m(x) = P(D=1|X).</p>\n\n<p>Uses a preprocessing + classifier setup with stratified K-fold to generate\nout-of-fold probabilities. For CatBoost, data are one-hot encoded via the\nconfigured ColumnTransformer before fitting. Returns a PropensityModel.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">PropensityModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.fit_propensity", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.fit_propensity", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">PropensityModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.outcome_fit", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.outcome_fit", "kind": "function", "doc": "<p>Fit a regression model to predict outcome from confounders only.</p>\n\n<p>Uses a preprocessing+CatBoost regressor pipeline with K-fold\ncross_val_predict to generate out-of-fold predictions. CatBoost uses\nall available threads and handles categorical features natively. Returns an\nOutcomeModel instance containing predicted outcomes and diagnostic methods.</p>\n\n<p>The outcome model predicts the baseline outcome from confounders only,\nexcluding treatment. This is essential for proper causal analysis.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>outcome_model</strong> (Optional[Any]):\nCustom regression model to use. If None, uses CatBoostRegressor.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>OutcomeModel</strong>: An OutcomeModel instance with methods for:\n<ul>\n<li>scores: RMSE and MAE regression metrics</li>\n<li>shap: SHAP values DataFrame property for outcome prediction</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">outcome_model</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">OutcomeModel</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.auc_m", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.auc_m", "kind": "function", "doc": "<p>Compute ROC AUC of treatment assignment vs. m(x).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.positivity_check_m", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.positivity_check_m", "kind": "function", "doc": "<p>Check overlap/positivity for m(x) based on thresholds.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bounds</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"mf\">0.95</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.plot_m_overlap", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.plot_m_overlap", "kind": "function", "doc": "<p>Plot overlaid histograms of m(x) for treated vs control.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.confounders_roc_auc", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.confounders_roc_auc", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">ps</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.positivity_check", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.positivity_check", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">ps</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bounds</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"mf\">0.95</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.plot_ps_overlap", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.plot_ps_overlap", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">ps</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.confounders_means", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.confounders_means", "kind": "function", "doc": "<p>Comprehensive confounders balance assessment with means by treatment group.</p>\n\n<p>Returns a DataFrame with detailed balance information including:</p>\n\n<ul>\n<li>Mean values of each confounder for control group (treatment=0)</li>\n<li>Mean values of each confounder for treated group (treatment=1)</li>\n<li>Absolute difference between treatment groups</li>\n<li>Standardized Mean Difference (SMD) for formal balance assessment</li>\n<li>Kolmogorov\u2013Smirnov statistic (ks) and p-value (ks_pvalue) for distributional differences</li>\n</ul>\n\n<p>This method provides a comprehensive view of confounder balance by showing\nthe actual mean values alongside the standardized differences, making it easier\nto understand both the magnitude and direction of imbalances.</p>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: DataFrame with confounders as index and the following columns:\n<ul>\n<li>mean_t_0: mean value for control group (treatment=0)</li>\n<li>mean_t_1: mean value for treated group (treatment=1)  </li>\n<li>abs_diff: absolute difference abs(mean_t_1 - mean_t_0)</li>\n<li>smd: standardized mean difference (Cohen's d)</li>\n<li>ks: Kolmogorov\u2013Smirnov statistic</li>\n<li>ks_pvalue: p-value of the KS test</li>\n</ul></li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>SMD values &gt; 0.1 in absolute value typically indicate meaningful imbalance.\nCategorical variables are automatically converted to dummy variables.</p>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eda</span> <span class=\"o\">=</span> <span class=\"n\">CausalEDA</span><span class=\"p\">(</span><span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">balance</span> <span class=\"o\">=</span> <span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">confounders_means</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">balance</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">())</span>\n<span class=\"go\">             mean_t_0  mean_t_1  abs_diff       smd</span>\n<span class=\"go\">confounders                                       </span>\n<span class=\"go\">age              29.5      31.2      1.7     0.085</span>\n<span class=\"go\">income        45000.0   47500.0   2500.0     0.125</span>\n<span class=\"go\">education         0.25      0.35      0.1     0.215</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.outcome_hist", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.outcome_hist", "kind": "function", "doc": "<p>Plot the distribution of the outcome for each treatment on a single, pretty plot.</p>\n\n<h6 id=\"features\">Features</h6>\n\n<ul>\n<li>High-DPI canvas + scalable fonts</li>\n<li>Default Matplotlib colors; KDE &amp; mean lines match their histogram colors</li>\n<li>Numeric outcomes: shared x-range (optional), optional KDE, quantile clipping</li>\n<li>Categorical outcomes: normalized grouped bars by treatment</li>\n<li>Optional hi-res export (PNG/SVG/PDF)</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bins</span><span class=\"o\">=</span><span class=\"s1\">&#39;fd&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">density</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.45</span>,</span><span class=\"param\">\t<span class=\"n\">sharex</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">kde</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">clip</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mf\">0.99</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mf\">5.5</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">220</span>,</span><span class=\"param\">\t<span class=\"n\">font_scale</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.15</span>,</span><span class=\"param\">\t<span class=\"n\">save</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">save_dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">transparent</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.outcome_boxplot", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.outcome_boxplot", "kind": "function", "doc": "<p>Prettified boxplot of the outcome by treatment.</p>\n\n<h6 id=\"features\">Features</h6>\n\n<ul>\n<li>High-DPI figure, scalable fonts</li>\n<li>Soft modern color styling (default Matplotlib palette)</li>\n<li>Optional outliers, gentle transparency</li>\n<li>Optional save to PNG/SVG/PDF</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mf\">5.5</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">220</span>,</span><span class=\"param\">\t<span class=\"n\">font_scale</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.15</span>,</span><span class=\"param\">\t<span class=\"n\">showfliers</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">patch_artist</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">save</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">save_dpi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">transparent</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.outcome_plots", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.outcome_plots", "kind": "function", "doc": "<p>Plot the distribution of the outcome for every treatment on one plot,\nand also produce a boxplot by treatment to visualize outliers.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>treatment</strong> (Optional[str]):\nTreatment column name. Defaults to the treatment stored in the CausalEDA data.</li>\n<li><strong>outcome</strong> (Optional[str]):\nOutcome column name. Defaults to the outcome stored in the CausalEDA data.</li>\n<li><strong>bins</strong> (int):\nNumber of bins for histograms when the outcome is numeric.</li>\n<li><strong>density</strong> (bool):\nWhether to normalize histograms to form a density.</li>\n<li><strong>alpha</strong> (float):\nTransparency for overlaid histograms.</li>\n<li><strong>figsize</strong> (tuple):\nFigure size for the plots.</li>\n<li><strong>sharex</strong> (bool):\nIf True and the outcome is numeric, use the same x-limits across treatments.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Tuple[matplotlib.figure.Figure, matplotlib.figure.Figure]</strong>: (fig_distribution, fig_boxplot)</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">30</span>,</span><span class=\"param\">\t<span class=\"n\">density</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">figsize</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">sharex</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">matplotlib</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"o\">.</span><span class=\"n\">Figure</span><span class=\"p\">,</span> <span class=\"n\">matplotlib</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"o\">.</span><span class=\"n\">Figure</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.m_features", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.m_features", "kind": "function", "doc": "<p>Return feature attribution from the fitted m(x) model.</p>\n\n<ul>\n<li>CatBoost path: SHAP attributions with columns 'shap_mean' and 'shap_mean_abs',\nsorted by 'shap_mean_abs'. Uses transformed feature names from the preprocessor.</li>\n<li>Sklearn path (LogisticRegression): absolute coefficients reported as 'coef_abs'.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.treatment_features", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.treatment_features", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.eda.CausalEDA.Optional", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.Optional", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Optional"}, {"fullname": "causalis.eda.eda.CausalEDA.Tuple", "modulename": "causalis.eda.eda", "qualname": "CausalEDA.Tuple", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Tuple"}, {"fullname": "causalis.eda.rct_design", "modulename": "causalis.eda.rct_design", "kind": "module", "doc": "<p>Design module for experimental rct_design utilities.</p>\n"}, {"fullname": "causalis.eda.rct_design.calculate_mde", "modulename": "causalis.eda.rct_design", "qualname": "calculate_mde", "kind": "function", "doc": "<p>Calculate the Minimum Detectable Effect (MDE) for conversion or continuous data.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>sample_size</strong> (int or tuple of int):\nTotal sample size or a tuple of (control_size, treatment_size).\nIf a single integer is provided, the sample will be split according to the ratio parameter.</li>\n<li><strong>baseline_rate</strong> (float, optional):\nBaseline conversion rate (for conversion data) or baseline mean (for continuous data).\nRequired for conversion data.</li>\n<li><strong>variance</strong> (float or tuple of float, optional):\nVariance of the data. For conversion data, this is calculated from the baseline rate if not provided.\nFor continuous data, this parameter is required.\nCan be a single float (assumed same for both groups) or a tuple of (control_variance, treatment_variance).</li>\n<li><strong>alpha</strong> (float, default 0.05):\nSignificance level (Type I error rate).</li>\n<li><strong>power</strong> (float, default 0.8):\nStatistical power (1 - Type II error rate).</li>\n<li><strong>data_type</strong> (str, default 'conversion'):\nType of data. Either 'conversion' for binary/conversion data or 'continuous' for continuous data.</li>\n<li><strong>ratio</strong> (float, default 0.5):\nRatio of the sample allocated to the control group if sample_size is a single integer.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>'mde': The minimum detectable effect (absolute)</li>\n<li>'mde_relative': The minimum detectable effect as a percentage of the baseline (relative)</li>\n<li>'parameters': The parameters used for the calculation</li>\n</ul></li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Calculate MDE for conversion data with 1000 total sample size and 10% baseline conversion rate</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">calculate_mde</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">,</span> <span class=\"n\">baseline_rate</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">data_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;conversion&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">{&#39;mde&#39;: 0.0527..., &#39;mde_relative&#39;: 0.5272..., &#39;parameters&#39;: {...}}</span>\n</code></pre>\n</div>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Calculate MDE for continuous data with 500 samples in each group and variance of 4</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">calculate_mde</span><span class=\"p\">((</span><span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"mi\">500</span><span class=\"p\">),</span> <span class=\"n\">variance</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">data_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;continuous&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">{&#39;mde&#39;: 0.3482..., &#39;mde_relative&#39;: None, &#39;parameters&#39;: {...}}</span>\n</code></pre>\n</div>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>For conversion data, the MDE is calculated using the formula:\nMDE = (z_\u03b1/2 + z_\u03b2) * sqrt((p1<em>(1-p1)/n1) + (p2</em>(1-p2)/n2))</p>\n\n<p>For continuous data, the MDE is calculated using the formula:\nMDE = (z_\u03b1/2 + z_\u03b2) * sqrt((\u03c31\u00b2/n1) + (\u03c32\u00b2/n2))</p>\n\n<p>where:</p>\n\n<ul>\n<li>z_\u03b1/2 is the critical value for significance level \u03b1</li>\n<li>z_\u03b2 is the critical value for power</li>\n<li>p1 and p2 are the conversion rates in the control and treatment groups</li>\n<li>\u03c31\u00b2 and \u03c32\u00b2 are the variances in the control and treatment groups</li>\n<li>n1 and n2 are the sample sizes in the control and treatment groups</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sample_size</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">baseline_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">variance</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span>,</span><span class=\"param\">\t<span class=\"n\">power</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.8</span>,</span><span class=\"param\">\t<span class=\"n\">data_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;conversion&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">ratio</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.rct_design.assign_variants_df", "modulename": "causalis.eda.rct_design", "qualname": "assign_variants_df", "kind": "function", "doc": "<p>Deterministically assign variants for each row in df based on id_col.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nInput DataFrame with an identifier column.</li>\n<li><strong>id_col</strong> (str):\nColumn name in df containing entity identifiers (user_id, session_id, etc.).</li>\n<li><strong>experiment_id</strong> (str):\nUnique identifier for the experiment (versioned for reruns).</li>\n<li><strong>variants</strong> (Dict[str, float]):\nMapping from variant name to weight (coverage). Weights must be non-negative\nand their sum must be in (0, 1]. If the sum is &lt; 1, the remaining mass\ncorresponds to \"not in experiment\" and the assignment will be None.</li>\n<li><strong>salt</strong> (str, default \"global_ab_salt\"):\nSecret string to de-correlate from other hash uses and make assignments\nnon-gameable.</li>\n<li><strong>layer_id</strong> (str, default \"default\"):\nIdentifier for mutual exclusivity layer or surface. In this case work like\nanother random</li>\n<li><strong>variant_col</strong> (str, default \"variant\"):\nName of output column to store assigned variant labels.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: A copy of df with an extra column <code>variant_col</code>.\nEntities outside experiment coverage will have None in the variant column.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">id_col</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">experiment_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">variants</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">salt</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;global_ab_salt&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">layer_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;default&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">variant_col</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;variant&#39;</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.eda.rct_design.SRMResult", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult", "kind": "class", "doc": "<p>Result of a Sample Ratio Mismatch (SRM) check.</p>\n"}, {"fullname": "causalis.eda.rct_design.SRMResult.__init__", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">chi2</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">p_value</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">expected</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"n\">Hashable</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">observed</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"n\">Hashable</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">is_srm</span><span class=\"p\">:</span> <span class=\"nb\">bool</span>,</span><span class=\"param\">\t<span class=\"n\">warning</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.eda.rct_design.SRMResult.chi2", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.chi2", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.eda.rct_design.SRMResult.df", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.df", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "causalis.eda.rct_design.SRMResult.p_value", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.p_value", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.eda.rct_design.SRMResult.expected", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.expected", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[Hashable, float]"}, {"fullname": "causalis.eda.rct_design.SRMResult.observed", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.observed", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[Hashable, int]"}, {"fullname": "causalis.eda.rct_design.SRMResult.alpha", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.alpha", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.eda.rct_design.SRMResult.is_srm", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.is_srm", "kind": "variable", "doc": "<p></p>\n", "annotation": ": bool"}, {"fullname": "causalis.eda.rct_design.SRMResult.warning", "modulename": "causalis.eda.rct_design", "qualname": "SRMResult.warning", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.eda.rct_design.check_srm", "modulename": "causalis.eda.rct_design", "qualname": "check_srm", "kind": "function", "doc": "<p>Check Sample Ratio Mismatch (SRM) for an RCT via chi-square goodness-of-fit test.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>assignments:</strong>: Iterable of assigned variant labels for each unit (user_id, session_id, etc.).\nE.g. Series of [\"control\", \"treatment\", ...].</li>\n<li><strong>target_allocation:</strong>: Mapping {variant: p} describing intended allocation as PROBABILITIES.\n<ul>\n<li>Each p must be &gt; 0.</li>\n<li>Sum of all p must be 1.0 (within numerical tolerance).</li>\n</ul></li>\n</ul>\n\n<p>Examples:\n    {\"control\": 0.5, \"treatment\": 0.5}\n    {\"A\": 0.2, \"B\": 0.3, \"C\": 0.5}</p>\n\n<ul>\n<li><strong>alpha:</strong>: Significance level. Use strict values like 1e-3 or 1e-4 in production.</li>\n<li><strong>min_expected:</strong>: If any expected count &lt; min_expected, a warning is attached.</li>\n<li><strong>strict_variants:</strong>: - True: fail if observed variants differ from target keys.\n<ul>\n<li>False: drop unknown variants and test only on declared ones.</li>\n</ul></li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>SRMResult</strong></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">assignments</span><span class=\"p\">:</span> <span class=\"n\">Iterable</span><span class=\"p\">[</span><span class=\"n\">Hashable</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span>,</span><span class=\"param\">\t<span class=\"n\">target_allocation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"n\">Hashable</span><span class=\"p\">,</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"nb\">float</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">alpha</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.001</span>,</span><span class=\"param\">\t<span class=\"n\">min_expected</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">5.0</span>,</span><span class=\"param\">\t<span class=\"n\">strict_variants</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">eda</span><span class=\"o\">.</span><span class=\"n\">rct_design</span><span class=\"o\">.</span><span class=\"n\">srm</span><span class=\"o\">.</span><span class=\"n\">SRMResult</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference", "modulename": "causalis.inference", "kind": "module", "doc": "<p>Analysis module for causalis.</p>\n\n<p>This module provides statistical inference tools for causal inference.</p>\n"}, {"fullname": "causalis.inference.ttest", "modulename": "causalis.inference", "qualname": "ttest", "kind": "function", "doc": "<p>Perform a t-test on a CausalData object to compare the outcome variable between\ntreated (T=1) and control (T=0) groups. Returns differences and confidence intervals.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: The p-value from the t-test</li>\n<li>absolute_difference: The absolute difference between treatment and control means</li>\n<li>absolute_ci: Tuple of (lower, upper) bounds for the absolute difference confidence interval</li>\n<li>relative_difference: The relative difference (percentage change) between treatment and control means</li>\n<li>relative_ci: Tuple of (lower, upper) bounds for the relative difference confidence interval</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the CausalData object doesn't have both treatment and outcome variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.conversion_z_test", "modulename": "causalis.inference", "qualname": "conversion_z_test", "kind": "function", "doc": "<p>Perform a two-proportion z-test on a CausalData object with a binary outcome (conversion).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: Two-sided p-value from the z-test</li>\n<li>absolute_difference: Difference in conversion rates (treated - control)</li>\n<li>absolute_ci: Tuple (lower, upper) for the absolute difference CI</li>\n<li>relative_difference: Percentage change relative to control rate</li>\n<li>relative_ci: Tuple (lower, upper) for the relative difference CI</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment/outcome are missing, treatment is not binary, outcome is not binary,\ngroups are empty, or confidence_level is outside (0, 1).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.bootstrap_diff_means", "modulename": "causalis.inference", "qualname": "bootstrap_diff_means", "kind": "function", "doc": "<p>Bootstrap inference for difference in means between treated (T=1) and control (T=0).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for the percentile confidence interval (0 &lt; level &lt; 1).</li>\n<li><strong>n_simul</strong> (int, default 10000):\nNumber of bootstrap resamples.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary with p_value, absolute_difference, absolute_ci, relative_difference, relative_ci\n(matching the structure of inference.atte.ttest).</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If inputs are invalid, treatment is not binary, or groups are empty.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">n_simul</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.dml_atte_source", "modulename": "causalis.inference", "qualname": "dml_atte_source", "kind": "function", "doc": "<p>Estimate average treatment effects on the treated using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect on the treated</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.atte</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_atte_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ck</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATT using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_atte_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATT: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate", "modulename": "causalis.inference.ate", "kind": "module", "doc": "<p>Average Treatment Effect (ATE) inference methods for causalis.</p>\n\n<p>This module provides methods for estimating average treatment effects.</p>\n"}, {"fullname": "causalis.inference.ate.dml_ate_source", "modulename": "causalis.inference.ate", "qualname": "dml_ate_source", "kind": "function", "doc": "<p>Estimate average treatment effects using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>score</strong> (str, default \"ATE\"):\nA str (\"ATE\" or \"ATTE\") specifying the score function.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.ate</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_ate_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">causal_data</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATE using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_ate_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATE: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate.dml_ate", "modulename": "causalis.inference.ate", "qualname": "dml_ate", "kind": "function", "doc": "<p>Estimate average treatment effects using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>score</strong> ({\"ATE\",\"ATTE\"}, default \"ATE\"):\nTarget estimand.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate.dml_ate", "modulename": "causalis.inference.ate.dml_ate", "kind": "module", "doc": "<p>IRM implementation for estimating average treatment effects.</p>\n\n<p>This module provides a function dml_ate to estimate average treatment effects using\nour internal DoubleML-style IRM estimator that consumes CausalData directly.</p>\n"}, {"fullname": "causalis.inference.ate.dml_ate.dml_ate", "modulename": "causalis.inference.ate.dml_ate", "qualname": "dml_ate", "kind": "function", "doc": "<p>Estimate average treatment effects using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>score</strong> ({\"ATE\",\"ATTE\"}, default \"ATE\"):\nTarget estimand.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate.dml_ate_source", "modulename": "causalis.inference.ate.dml_ate_source", "kind": "module", "doc": "<p>DoubleML implementation for estimating average treatment effects.</p>\n\n<p>This module provides a function to estimate average treatment effects using DoubleML.</p>\n"}, {"fullname": "causalis.inference.ate.dml_ate_source.dml_ate_source", "modulename": "causalis.inference.ate.dml_ate_source", "qualname": "dml_ate_source", "kind": "function", "doc": "<p>Estimate average treatment effects using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>score</strong> (str, default \"ATE\"):\nA str (\"ATE\" or \"ATTE\") specifying the score function.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.ate</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_ate_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">causal_data</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATE using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_ate_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATE: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte", "modulename": "causalis.inference.atte", "kind": "module", "doc": "<p>Average Treatment Effect on the Treated (ATT) inference methods for causalis.</p>\n\n<p>This module provides methods for estimating average treatment effects on the treated.</p>\n"}, {"fullname": "causalis.inference.atte.dml_atte_source", "modulename": "causalis.inference.atte", "qualname": "dml_atte_source", "kind": "function", "doc": "<p>Estimate average treatment effects on the treated using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect on the treated</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.atte</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_atte_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ck</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATT using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_atte_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATT: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.dml_atte", "modulename": "causalis.inference.atte", "qualname": "dml_atte", "kind": "function", "doc": "<p>Estimate average treatment effect on the treated (ATT) using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.ttest", "modulename": "causalis.inference.atte", "qualname": "ttest", "kind": "function", "doc": "<p>Perform a t-test on a CausalData object to compare the outcome variable between\ntreated (T=1) and control (T=0) groups. Returns differences and confidence intervals.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: The p-value from the t-test</li>\n<li>absolute_difference: The absolute difference between treatment and control means</li>\n<li>absolute_ci: Tuple of (lower, upper) bounds for the absolute difference confidence interval</li>\n<li>relative_difference: The relative difference (percentage change) between treatment and control means</li>\n<li>relative_ci: Tuple of (lower, upper) bounds for the relative difference confidence interval</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the CausalData object doesn't have both treatment and outcome variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.conversion_z_test", "modulename": "causalis.inference.atte", "qualname": "conversion_z_test", "kind": "function", "doc": "<p>Perform a two-proportion z-test on a CausalData object with a binary outcome (conversion).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: Two-sided p-value from the z-test</li>\n<li>absolute_difference: Difference in conversion rates (treated - control)</li>\n<li>absolute_ci: Tuple (lower, upper) for the absolute difference CI</li>\n<li>relative_difference: Percentage change relative to control rate</li>\n<li>relative_ci: Tuple (lower, upper) for the relative difference CI</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment/outcome are missing, treatment is not binary, outcome is not binary,\ngroups are empty, or confidence_level is outside (0, 1).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.bootstrap_diff_means", "modulename": "causalis.inference.atte", "qualname": "bootstrap_diff_means", "kind": "function", "doc": "<p>Bootstrap inference for difference in means between treated (T=1) and control (T=0).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for the percentile confidence interval (0 &lt; level &lt; 1).</li>\n<li><strong>n_simul</strong> (int, default 10000):\nNumber of bootstrap resamples.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary with p_value, absolute_difference, absolute_ci, relative_difference, relative_ci\n(matching the structure of inference.atte.ttest).</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If inputs are invalid, treatment is not binary, or groups are empty.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">n_simul</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.bootstrap_diff_means", "modulename": "causalis.inference.atte.bootstrap_diff_means", "kind": "module", "doc": "<p>Bootstrap difference-in-means inference for CausalData (ATT context).</p>\n\n<p>Computes the ATT-style difference in means (treated - control) and provides:</p>\n\n<ul>\n<li>Two-sided p-value using a normal approximation with bootstrap standard error</li>\n<li>Percentile confidence interval for the absolute difference</li>\n<li>Relative difference (%) and corresponding CI relative to control mean</li>\n</ul>\n\n<p>Input:</p>\n\n<ul>\n<li>data: CausalData</li>\n<li>confidence_level: float in (0, 1), default 0.95</li>\n<li>n_simul: number of bootstrap simulations (int &gt; 0), default 10000</li>\n</ul>\n\n<p>Output: dict with the same keys as ttest:</p>\n\n<ul>\n<li>p_value</li>\n<li>absolute_difference</li>\n<li>absolute_ci: (low, high)</li>\n<li>relative_difference</li>\n<li>relative_ci: (low, high)</li>\n</ul>\n"}, {"fullname": "causalis.inference.atte.bootstrap_diff_means.bootstrap_diff_means", "modulename": "causalis.inference.atte.bootstrap_diff_means", "qualname": "bootstrap_diff_means", "kind": "function", "doc": "<p>Bootstrap inference for difference in means between treated (T=1) and control (T=0).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for the percentile confidence interval (0 &lt; level &lt; 1).</li>\n<li><strong>n_simul</strong> (int, default 10000):\nNumber of bootstrap resamples.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary with p_value, absolute_difference, absolute_ci, relative_difference, relative_ci\n(matching the structure of inference.atte.ttest).</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If inputs are invalid, treatment is not binary, or groups are empty.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">n_simul</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.conversion_z_test", "modulename": "causalis.inference.atte.conversion_z_test", "kind": "module", "doc": "<p>Two-proportion z-test for conversion data in CausalData (ATT context).</p>\n\n<p>Compares conversion rates between treated (T=1) and control (T=0) groups.\nReturns p-value, absolute/relative differences, and their confidence intervals\n(similar structure to inference.atte.ttest).</p>\n"}, {"fullname": "causalis.inference.atte.conversion_z_test.conversion_z_test", "modulename": "causalis.inference.atte.conversion_z_test", "qualname": "conversion_z_test", "kind": "function", "doc": "<p>Perform a two-proportion z-test on a CausalData object with a binary outcome (conversion).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: Two-sided p-value from the z-test</li>\n<li>absolute_difference: Difference in conversion rates (treated - control)</li>\n<li>absolute_ci: Tuple (lower, upper) for the absolute difference CI</li>\n<li>relative_difference: Percentage change relative to control rate</li>\n<li>relative_ci: Tuple (lower, upper) for the relative difference CI</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment/outcome are missing, treatment is not binary, outcome is not binary,\ngroups are empty, or confidence_level is outside (0, 1).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.dml_atte", "modulename": "causalis.inference.atte.dml_atte", "kind": "module", "doc": "<p>Simple IRM-based implementation for estimating ATT (Average Treatment effect on the Treated).</p>\n\n<p>This module provides a function dml_att_s to estimate ATT using our internal\nDoubleML-style IRM estimator that consumes CausalData directly (not DoubleML).</p>\n"}, {"fullname": "causalis.inference.atte.dml_atte.dml_atte", "modulename": "causalis.inference.atte.dml_atte", "qualname": "dml_atte", "kind": "function", "doc": "<p>Estimate average treatment effect on the treated (ATT) using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.dml_atte_source", "modulename": "causalis.inference.atte.dml_atte_source", "kind": "module", "doc": "<p>DoubleML implementation for estimating average treatment effects on the treated.</p>\n\n<p>This module provides a function to estimate average treatment effects on the treated using DoubleML.</p>\n"}, {"fullname": "causalis.inference.atte.dml_atte_source.dml_atte_source", "modulename": "causalis.inference.atte.dml_atte_source", "qualname": "dml_atte_source", "kind": "function", "doc": "<p>Estimate average treatment effects on the treated using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect on the treated</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.atte</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_atte_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ck</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATT using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_atte_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATT: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.ttest", "modulename": "causalis.inference.atte.ttest", "kind": "module", "doc": "<p>T-test inference for causaldata objects (ATT context).</p>\n"}, {"fullname": "causalis.inference.atte.ttest.ttest", "modulename": "causalis.inference.atte.ttest", "qualname": "ttest", "kind": "function", "doc": "<p>Perform a t-test on a CausalData object to compare the outcome variable between\ntreated (T=1) and control (T=0) groups. Returns differences and confidence intervals.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: The p-value from the t-test</li>\n<li>absolute_difference: The absolute difference between treatment and control means</li>\n<li>absolute_ci: Tuple of (lower, upper) bounds for the absolute difference confidence interval</li>\n<li>relative_difference: The relative difference (percentage change) between treatment and control means</li>\n<li>relative_ci: Tuple of (lower, upper) bounds for the relative difference confidence interval</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the CausalData object doesn't have both treatment and outcome variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.cate", "modulename": "causalis.inference.cate", "kind": "module", "doc": "<p>Conditional Average Treatment Effect (CATE) inference methods for causalis.</p>\n\n<p>This submodule provides methods for estimating conditional average treatment effects.</p>\n"}, {"fullname": "causalis.inference.cate.cate_esimand", "modulename": "causalis.inference.cate", "qualname": "cate_esimand", "kind": "function", "doc": "<p>Estimate per-observation CATEs using DoubleML IRM and return a DataFrame with a new 'cate' column.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nA CausalData object with defined outcome (outcome), treatment (binary 0/1), and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nML learner for outcome regression g(D, X) = E[Y | D, X] supporting fit/predict.\nDefaults to CatBoostRegressor if None.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nML learner for propensity m(X) = P[D=1 | X] supporting fit/predict_proba.\nDefaults to CatBoostClassifier if None.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for sample splitting.</li>\n<li><strong>use_blp</strong> (bool, default False):\nIf True, and X_new is provided, returns cate from obj.blp_predict(X_new) aligned to X_new.\nIf False (default), uses obj._orthogonal_signals (in-sample estimates) and appends to data.</li>\n<li><strong>X_new</strong> (pd.DataFrame, optional):\nNew covariate matrix for out-of-sample CATE prediction via best linear predictor.\nMust contain the same feature columns as the confounders in <code>data</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: If use_blp is False: returns a copy of data.df with a new column 'cate'.\nIf use_blp is True and X_new is provided: returns a DataFrame with 'cate' column for X_new rows.</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment is not binary 0/1 or required metadata is missing.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">use_blp</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">X_new</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.cate.cate_esimand", "modulename": "causalis.inference.cate.cate_esimand", "kind": "module", "doc": "<p>DoubleML implementation for estimating CATE (per-observation orthogonal signals).</p>\n\n<p>This module provides a function that, given a CausalData object, fits a DoubleML IRM\nmodel and augments the data with a new column 'cate' that contains the orthogonal\nsignals (an estimate of the conditional average treatment effect for each unit).</p>\n"}, {"fullname": "causalis.inference.cate.cate_esimand.cate_esimand", "modulename": "causalis.inference.cate.cate_esimand", "qualname": "cate_esimand", "kind": "function", "doc": "<p>Estimate per-observation CATEs using DoubleML IRM and return a DataFrame with a new 'cate' column.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nA CausalData object with defined outcome (outcome), treatment (binary 0/1), and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nML learner for outcome regression g(D, X) = E[Y | D, X] supporting fit/predict.\nDefaults to CatBoostRegressor if None.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nML learner for propensity m(X) = P[D=1 | X] supporting fit/predict_proba.\nDefaults to CatBoostClassifier if None.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for sample splitting.</li>\n<li><strong>use_blp</strong> (bool, default False):\nIf True, and X_new is provided, returns cate from obj.blp_predict(X_new) aligned to X_new.\nIf False (default), uses obj._orthogonal_signals (in-sample estimates) and appends to data.</li>\n<li><strong>X_new</strong> (pd.DataFrame, optional):\nNew covariate matrix for out-of-sample CATE prediction via best linear predictor.\nMust contain the same feature columns as the confounders in <code>data</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: If use_blp is False: returns a copy of data.df with a new column 'cate'.\nIf use_blp is True and X_new is provided: returns a DataFrame with 'cate' column for X_new rows.</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment is not binary 0/1 or required metadata is missing.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">use_blp</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">X_new</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators", "modulename": "causalis.inference.estimators", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM", "modulename": "causalis.inference.estimators", "qualname": "IRM", "kind": "class", "doc": "<p>Interactive Regression Model (IRM) with DoubleML-style cross-fitting using CausalData.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nData container with outcome, binary treatment (0/1), and confounders.</li>\n<li><strong>ml_g</strong> (estimator):\nLearner for E[Y|X,D]. If classifier and Y is binary, predict_proba is used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier):\nLearner for E[D|X] (propensity). Must support predict_proba() or predict() in (0,1).</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of cross-fitting folds.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions of sample splitting. Currently only 1 is supported.</li>\n<li><strong>score</strong> ({\"ATE\",\"ATTE\"}, default \"ATE\"):\nTarget estimand.</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> ({\"truncate\"}, default \"truncate\"):\nTrimming approach for propensity scores.</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nThreshold for trimming if rule is \"truncate\".</li>\n<li><strong>weights</strong> (Optional[np.ndarray or Dict], default None):\nOptional weights. If array of shape (n,), used as ATE weights. For ATTE, computed internally.</li>\n<li><strong>random_state</strong> (Optional[int], default None):\nRandom seed for fold creation.</li>\n</ul>\n", "bases": "sklearn.base.BaseEstimator"}, {"fullname": "causalis.inference.estimators.IRM.__init__", "modulename": "causalis.inference.estimators", "qualname": "IRM.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">weights</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.inference.estimators.IRM.data", "modulename": "causalis.inference.estimators", "qualname": "IRM.data", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.ml_g", "modulename": "causalis.inference.estimators", "qualname": "IRM.ml_g", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.ml_m", "modulename": "causalis.inference.estimators", "qualname": "IRM.ml_m", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.n_folds", "modulename": "causalis.inference.estimators", "qualname": "IRM.n_folds", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.n_rep", "modulename": "causalis.inference.estimators", "qualname": "IRM.n_rep", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.score", "modulename": "causalis.inference.estimators", "qualname": "IRM.score", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.normalize_ipw", "modulename": "causalis.inference.estimators", "qualname": "IRM.normalize_ipw", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.trimming_rule", "modulename": "causalis.inference.estimators", "qualname": "IRM.trimming_rule", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.trimming_threshold", "modulename": "causalis.inference.estimators", "qualname": "IRM.trimming_threshold", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.weights", "modulename": "causalis.inference.estimators", "qualname": "IRM.weights", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.random_state", "modulename": "causalis.inference.estimators", "qualname": "IRM.random_state", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.g0_hat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.g0_hat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.g1_hat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.g1_hat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.m_hat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.m_hat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.psi_a_", "modulename": "causalis.inference.estimators", "qualname": "IRM.psi_a_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.psi_b_", "modulename": "causalis.inference.estimators", "qualname": "IRM.psi_b_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.psi_", "modulename": "causalis.inference.estimators", "qualname": "IRM.psi_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.coef_", "modulename": "causalis.inference.estimators", "qualname": "IRM.coef_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.se_", "modulename": "causalis.inference.estimators", "qualname": "IRM.se_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.t_stat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.t_stat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.pval_", "modulename": "causalis.inference.estimators", "qualname": "IRM.pval_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.confint_", "modulename": "causalis.inference.estimators", "qualname": "IRM.confint_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.summary_", "modulename": "causalis.inference.estimators", "qualname": "IRM.summary_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame | None"}, {"fullname": "causalis.inference.estimators.IRM.folds_", "modulename": "causalis.inference.estimators", "qualname": "IRM.folds_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.sensitivity_summary", "modulename": "causalis.inference.estimators", "qualname": "IRM.sensitivity_summary", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None"}, {"fullname": "causalis.inference.estimators.IRM.fit", "modulename": "causalis.inference.estimators", "qualname": "IRM.fit", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">inference</span><span class=\"o\">.</span><span class=\"n\">estimators</span><span class=\"o\">.</span><span class=\"n\">irm</span><span class=\"o\">.</span><span class=\"n\">IRM</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.IRM.coef", "modulename": "causalis.inference.estimators", "qualname": "IRM.coef", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.se", "modulename": "causalis.inference.estimators", "qualname": "IRM.se", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.pvalues", "modulename": "causalis.inference.estimators", "qualname": "IRM.pvalues", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.summary", "modulename": "causalis.inference.estimators", "qualname": "IRM.summary", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.inference.estimators.IRM.orth_signal", "modulename": "causalis.inference.estimators", "qualname": "IRM.orth_signal", "kind": "variable", "doc": "<p>Returns the cross-fitted orthogonal signal (psi).</p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.gate", "modulename": "causalis.inference.estimators", "qualname": "IRM.gate", "kind": "function", "doc": "<p>Estimate Group Average Treatment Effects via BLP on orthogonal signal.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>groups</strong> (pd.DataFrame or pd.Series):\nGroup indicators or labels.\n<ul>\n<li>If a single column (Series or 1-col DataFrame) with non-boolean values,\nit is treated as categorical labels and one-hot encoded.</li>\n<li>If multiple columns or boolean/int indicators, it is used as the basis directly.</li>\n</ul></li>\n<li><strong>level</strong> (float):\nConfidence level for intervals (passed to BLP).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>BLP</strong>: Fitted Best Linear Predictor model.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">groups</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span>,</span><span class=\"param\">\t<span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">inference</span><span class=\"o\">.</span><span class=\"n\">estimators</span><span class=\"o\">.</span><span class=\"n\">blp</span><span class=\"o\">.</span><span class=\"n\">BLP</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.IRM.sensitivity_analysis", "modulename": "causalis.inference.estimators", "qualname": "IRM.sensitivity_analysis", "kind": "function", "doc": "<p>Compute a simple sensitivity summary and store it as <code>sensitivity_summary</code>.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>cf_y</strong> (float):\nSensitivity parameter for outcome equation.</li>\n<li><strong>cf_d</strong> (float):\nSensitivity parameter for treatment equation.</li>\n<li><strong>rho</strong> (float, default 1.0):\nCorrelation between unobserved components (display only here).</li>\n<li><strong>level</strong> (float, default 0.95):\nConfidence level for CI bounds display.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">cf_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">cf_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">rho</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">inference</span><span class=\"o\">.</span><span class=\"n\">estimators</span><span class=\"o\">.</span><span class=\"n\">irm</span><span class=\"o\">.</span><span class=\"n\">IRM</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.IRM.confint", "modulename": "causalis.inference.estimators", "qualname": "IRM.confint", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.BLP", "modulename": "causalis.inference.estimators", "qualname": "BLP", "kind": "class", "doc": "<p>Best linear predictor (BLP) with orthogonal signals.\nMainly used for CATE and GATE estimation for IRM models.</p>\n\n<p>The Best Linear Predictor (BLP) targets the coefficient vector \\( \\beta_0 \\) that minimizes the mean squared error\nbetween the true treatment effect function \\( \\tau(X) \\) and a linear combination of basis functions \\( b(X) \\):</p>\n\n<p>$$\\beta_0 = \\arg\\min_{\\beta \\in \\mathbb{R}^K} \\mathbb{E}\\Big[\\big(\\tau(X) - b(X)^\\top \\beta \\big)^2\\Big].$$</p>\n\n<p>This is characterized by the moment condition:</p>\n\n<p>$$\\mathbb{E}[b(X)\\psi] = \\mathbb{E}[b(X)b(X)^\\top]\\beta_0,$$</p>\n\n<p>where \\( \\psi \\) is the orthogonal signal such that \\( \\mathbb{E}[\\psi \\mid X] = \\tau(X) \\).</p>\n\n<p>The estimator is obtained via OLS of the orthogonal signal on the basis:</p>\n\n<p>$$\\hat{\\beta} = (B^\\top B)^{-1}B^\\top\\psi.$$</p>\n\n<p><strong>GATE (Group Average Treatment Effect)</strong></p>\n\n<p>When <code>is_gate=True</code>, the basis consists of group indicators (dummy variables).\nIn this case, the BLP coefficients correspond to the group means of the orthogonal signal,\nwhich approximate the GATEs:</p>\n\n<p>$$\\hat{\\beta}_k = \\frac{1}{n_k}\\sum_{i:G_i=k}\\psi_i \\approx \\text{GATE}_k.$$</p>\n\n<p><strong>Confidence Intervals</strong></p>\n\n<p>Confidence intervals for any linear combination \\( \\hat{g} = A\\hat{\\beta} \\) are computed using the estimated covariance matrix \\( \\widehat{\\Omega} \\):</p>\n\n<p>$$\\widehat{\\operatorname{Var}}(\\hat{g}) \\approx A\\widehat{\\Omega}A^\\top.$$</p>\n\n<p>Pointwise and joint confidence intervals (via Gaussian multiplier bootstrap) are supported.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>orth_signal</strong> (<code>numpy.array</code>):\nThe orthogonal signal to be predicted. Has to be of shape <code>(n_obs,)</code>,\nwhere <code>n_obs</code> is the number of observations.</li>\n<li><strong>basis</strong> (<code>pandas.DataFrame</code>):\nThe basis for estimating the best linear predictor. Has to have the shape <code>(n_obs, d)</code>,\nwhere <code>n_obs</code> is the number of observations and <code>d</code> is the number of predictors.</li>\n<li><strong>is_gate</strong> (bool):\nIndicates whether the basis is constructed for GATEs (dummy-basis).\nDefault is <code>False</code>.</li>\n</ul>\n"}, {"fullname": "causalis.inference.estimators.BLP.__init__", "modulename": "causalis.inference.estimators", "qualname": "BLP.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">orth_signal</span>, </span><span class=\"param\"><span class=\"n\">basis</span>, </span><span class=\"param\"><span class=\"n\">is_gate</span><span class=\"o\">=</span><span class=\"kc\">False</span></span>)</span>"}, {"fullname": "causalis.inference.estimators.BLP.blp_model", "modulename": "causalis.inference.estimators", "qualname": "BLP.blp_model", "kind": "variable", "doc": "<p>Best-Linear-Predictor model.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.orth_signal", "modulename": "causalis.inference.estimators", "qualname": "BLP.orth_signal", "kind": "variable", "doc": "<p>Orthogonal signal.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.basis", "modulename": "causalis.inference.estimators", "qualname": "BLP.basis", "kind": "variable", "doc": "<p>Basis.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.blp_omega", "modulename": "causalis.inference.estimators", "qualname": "BLP.blp_omega", "kind": "variable", "doc": "<p>Covariance matrix.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.summary", "modulename": "causalis.inference.estimators", "qualname": "BLP.summary", "kind": "variable", "doc": "<p>A summary for the best linear predictor effect after calling <code>fit()</code>.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.fit", "modulename": "causalis.inference.estimators", "qualname": "BLP.fit", "kind": "function", "doc": "<p>Estimate BLP models.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>cov_type</strong> (str):\nThe covariance type to be used in the estimation. Default is <code>'HC0'</code>.\nSee <code>statsmodels.regression.linear_model.OLS.fit()</code> for more information.</li>\n<li><strong>**kwargs</strong> (dict):\nAdditional keyword arguments to be passed to <code>statsmodels.regression.linear_model.OLS.fit()</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>self</strong> (object):</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">cov_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;HC0&#39;</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.BLP.confint", "modulename": "causalis.inference.estimators", "qualname": "BLP.confint", "kind": "function", "doc": "<p>Confidence intervals for the BLP model.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>basis</strong> (<code>pandas.DataFrame</code>):\nThe basis for constructing the confidence interval. Has to have the same form as the basis from\nthe construction. If <code>None</code> is passed, if the basis is constructed for GATEs, the GATEs are returned.\nElse, the confidence intervals for the basis coefficients are returned (with pointwise cofidence intervals).\nDefault is <code>None</code>.</li>\n<li><strong>joint</strong> (bool):\nIndicates whether joint confidence intervals are computed.\nDefault is <code>False</code>.</li>\n<li><strong>level</strong> (float):\nThe confidence level.\nDefault is <code>0.95</code>.</li>\n<li><strong>n_rep_boot</strong> (int):\nThe number of bootstrap repetitions (only relevant for joint confidence intervals).\nDefault is <code>500</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>df_ci</strong> (pd.DataFrame):\nA data frame with the confidence interval(s).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">basis</span><span class=\"o\">=</span><span class=\"kc\">None</span>, </span><span class=\"param\"><span class=\"n\">joint</span><span class=\"o\">=</span><span class=\"kc\">False</span>, </span><span class=\"param\"><span class=\"n\">level</span><span class=\"o\">=</span><span class=\"mf\">0.95</span>, </span><span class=\"param\"><span class=\"n\">n_rep_boot</span><span class=\"o\">=</span><span class=\"mi\">500</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.gate", "modulename": "causalis.inference.gate", "kind": "module", "doc": "<p>Group Average Treatment Effect (GATE) inference methods for causalis.</p>\n\n<p>This submodule provides methods for estimating group average treatment effects.</p>\n"}, {"fullname": "causalis.inference.gate.gate_esimand", "modulename": "causalis.inference.gate", "qualname": "gate_esimand", "kind": "function", "doc": "<p>Estimate Group Average Treatment Effects (GATEs).</p>\n\n<p>If <code>groups</code> is None, observations are grouped by quantiles of the\nplugin CATE proxy (g1_hat - g0_hat).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">groups</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_groups</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.gate.gate_esimand", "modulename": "causalis.inference.gate.gate_esimand", "kind": "module", "doc": "<p>Group Average Treatment Effect (GATE) estimation using local DML IRM and BLP.</p>\n"}, {"fullname": "causalis.inference.gate.gate_esimand.gate_esimand", "modulename": "causalis.inference.gate.gate_esimand", "qualname": "gate_esimand", "kind": "function", "doc": "<p>Estimate Group Average Treatment Effects (GATEs).</p>\n\n<p>If <code>groups</code> is None, observations are grouped by quantiles of the\nplugin CATE proxy (g1_hat - g0_hat).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">groups</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_groups</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation", "modulename": "causalis.refutation", "kind": "module", "doc": "<p>Refutation and robustness utilities for CausalKit.</p>\n\n<p>Importing this package exposes the public functions from all refutation\nsubmodules (overlap, score, uncofoundedness, sutva) so you can access\ncommonly used helpers directly via <code>causalis.refutation</code>.</p>\n"}, {"fullname": "causalis.refutation.DEFAULT_THRESHOLDS", "modulename": "causalis.refutation", "qualname": "DEFAULT_THRESHOLDS", "kind": "variable", "doc": "<p></p>\n", "default_value": "{&#x27;edge_mass_warn_001&#x27;: 0.02, &#x27;edge_mass_strong_001&#x27;: 0.05, &#x27;edge_mass_warn_002&#x27;: 0.05, &#x27;edge_mass_strong_002&#x27;: 0.1, &#x27;ks_warn&#x27;: 0.3, &#x27;ks_strong&#x27;: 0.4, &#x27;auc_warn&#x27;: 0.8, &#x27;auc_strong&#x27;: 0.9, &#x27;ipw_relerr_warn&#x27;: 0.05, &#x27;ipw_relerr_strong&#x27;: 0.1, &#x27;ess_ratio_warn&#x27;: 0.3, &#x27;ess_ratio_strong&#x27;: 0.15, &#x27;clip_share_warn&#x27;: 0.02, &#x27;clip_share_strong&#x27;: 0.05, &#x27;tail_vs_med_warn&#x27;: 10.0}"}, {"fullname": "causalis.refutation.positivity_overlap_checks", "modulename": "causalis.refutation", "qualname": "positivity_overlap_checks", "kind": "function", "doc": "<p>Run positivity/overlap diagnostics for DML-IRM (ATE &amp; ATT).\nInputs are cross-fitted m\u0302 and treatment D (0/1). Returns a structured report with GREEN/YELLOW/RED flags.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">m_clipped_from</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_clipped_share</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">use_hajek</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;edge_mass_warn_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_warn_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.9</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.15</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;tail_vs_med_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">10.0</span><span class=\"p\">}</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">cal_thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">auc_flip_margin</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap_report_from_result", "modulename": "causalis.refutation", "qualname": "overlap_report_from_result", "kind": "function", "doc": "<p>High-level helper that takes dml_ate/dml_att output (or IRM model) and returns a positivity/overlap report as a dict.</p>\n\n<p>If the input result contains a flag indicating normalized IPW (H\u00e1jek), this function will\nauto-detect it and pass use_hajek=True to the underlying diagnostics, so users of\ndml_ate(normalize_ipw=True) get meaningful ipw_sum_* checks without extra arguments.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">res</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">use_hajek</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;edge_mass_warn_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_warn_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.9</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.15</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;tail_vs_med_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">10.0</span><span class=\"p\">}</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">cal_thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">auc_flip_margin</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.run_overlap_diagnostics", "modulename": "causalis.refutation", "qualname": "run_overlap_diagnostics", "kind": "function", "doc": "<p>Single entry-point for overlap / positivity / calibration diagnostics.</p>\n\n<p>You can call it in TWO ways:\n  A) With raw arrays:\n     run_overlap_diagnostics(m_hat=..., D=...)\n  B) With a model/result:\n     run_overlap_diagnostics(res=<dml_ate/dml_att result dict or IRM/DoubleML-like model>)</p>\n\n<p>The function:</p>\n\n<ul>\n<li>Auto-extracts (m_hat, D, trimming_threshold) from <code>res</code> if provided.</li>\n<li>Auto-detects H\u00e1jek normalization if available on <code>res</code> (normalize_ipw).</li>\n<li>Runs positivity/overlap checks (edge mass, KS, AUC, ESS, tails, ATT identity),\nclipping audit, and calibration (ECE + logistic recalibration).</li>\n<li>Returns a dict with full details and, optionally, a compact summary DataFrame.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>dict with keys including:</strong>: - n, n_treated, p1\n<ul>\n<li>edge_mass, edge_mass_by_arm, ks, auc</li>\n<li>ate_ipw, ate_ess, ate_tails</li>\n<li>att_weights, att_ess</li>\n<li>clipping</li>\n<li>calibration (with reliability_table)</li>\n<li>flags  (GREEN/YELLOW/RED/NA)</li>\n<li>summary (pd.DataFrame) if return_summary=True</li>\n<li>meta (use_hajek, thresholds)</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">res</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">Any</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;edge_mass_warn_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_warn_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.9</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.15</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;tail_vs_med_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">10.0</span><span class=\"p\">}</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">use_hajek</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">m_clipped_from</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_clipped_share</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">return_summary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">cal_thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">auc_flip_margin</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.att_overlap_tests", "modulename": "causalis.refutation", "qualname": "att_overlap_tests", "kind": "function", "doc": "<p>Compute ATT overlap/weight diagnostics from a dml_att(_source) result dict.</p>\n\n<p>Inputs expected in result['diagnostic_data']:</p>\n\n<ul>\n<li>m_hat: np.ndarray of cross-fitted propensity scores Pr(D=1|X)</li>\n<li>d: np.ndarray of treatment indicators {0,1}</li>\n</ul>\n\n<p>Returns:\n  dict with keys:\n    - edge_mass: {'eps': {eps: {'share_below': float, 'share_above': float, 'warn': bool}}}\n    - ks: {'value': float, 'warn': bool}\n    - auc: {'value': float or nan, 'flag': str}  # 'GREEN'/'YELLOW'/'RED' or 'NA' if undefined\n    - ess: {'treated': {'ess': float, 'n': int, 'ratio': float, 'flag': str},\n            'control': {'ess': float, 'n': int, 'ratio': float, 'flag': str}}\n    - att_weight_identity: {'lhs_sum': float, 'rhs_sum': float, 'rel_err': float, 'flag': str}</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">dml_att_result</span><span class=\"p\">:</span> <span class=\"nb\">dict</span>, </span><span class=\"param\"><span class=\"n\">epsilon_list</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mf\">0.02</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">dict</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.edge_mass", "modulename": "causalis.refutation", "qualname": "edge_mass", "kind": "function", "doc": "<p>Edge mass diagnostics.</p>\n\n<p>Math:\n  share_below = (1/n) * sum_i 1{ m_hat_i &lt; \u03b5 }\n  share_above = (1/n) * sum_i 1{ m_hat_i &gt; 1 - \u03b5 }</p>\n\n<p>Parameters:</p>\n\n<ul>\n<li>m_hat: array of propensities m_hat in [0,1]</li>\n<li>eps: a single \u03b5 or a sequence of \u03b5 values.</li>\n</ul>\n\n<p>Returns:</p>\n\n<ul>\n<li>If eps is a scalar: {'eps': \u03b5, 'share_below': float, 'share_above': float}</li>\n<li>If eps is a sequence: {\u03b5: {'share_below': float, 'share_above': float}, ...}</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">eps</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"nb\">list</span> <span class=\"o\">|</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.ks_distance", "modulename": "causalis.refutation", "qualname": "ks_distance", "kind": "function", "doc": "<p>Two-sample Kolmogorov\u2013Smirnov distance between m_hat|D=1 and m_hat|D=0.</p>\n\n<p>Math:\n  KS = sup_t | F_{m|D=1}(t) - F_{m|D=0}(t) |</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.auc_for_m", "modulename": "causalis.refutation", "qualname": "auc_for_m", "kind": "function", "doc": "<p>ROC AUC using scores m_hat vs labels D.</p>\n\n<p>Math (Mann\u2013Whitney relation):\n  AUC = P(m_i^+ &gt; m_j^-) + 0.5 P(m_i^+ = m_j^-)</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.ess_per_group", "modulename": "causalis.refutation", "qualname": "ess_per_group", "kind": "function", "doc": "<p>Effective sample size (ESS) for ATE-style inverse-probability weights per arm.</p>\n\n<p>Weights:\n  w1_i = D_i / m_hat_i,\n  w0_i = (1 - D_i) / (1 - m_hat_i).</p>\n\n<p>ESS:\n  ESS(w_g) = (sum_i w_{gi})^2 / sum_i w_{gi}^2.</p>\n\n<p>Returns dict with ess and ratios (ESS / group size).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.att_weight_sum_identity", "modulename": "causalis.refutation", "qualname": "att_weight_sum_identity", "kind": "function", "doc": "<p>ATT weight-sum identity check (un-normalized IPW form).</p>\n\n<p>Math:\n  w1_i = D_i / p1,   w0_i = (1 - D_i) * m_hat_i / ((1 - m_hat_i) * p1),  where p1 = (1/n) sum_i D_i.\n  Sum check:  sum_i (1 - D_i) * m_hat_i / (1 - m_hat_i)  ?\u2248  sum_i D_i.</p>\n\n<p>Returns: {'lhs_sum': float, 'rhs_sum': float, 'rel_err': float}</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.calibration_report_m", "modulename": "causalis.refutation", "qualname": "calibration_report_m", "kind": "function", "doc": "<p>Propensity calibration report for cross-fitted propensities m_hat against treatment D.</p>\n\n<p>Returns a dictionary with:</p>\n\n<ul>\n<li>auc: ROC AUC of m_hat vs D (Mann\u2013Whitney)</li>\n<li>brier: Brier score (mean squared error)</li>\n<li>ece: Expected Calibration Error (equal-width bins)</li>\n<li>reliability_table: pd.DataFrame with per-bin stats</li>\n<li>recalibration: {'intercept': alpha, 'slope': beta} from logistic recalibration</li>\n<li>flags: {'ece': ..., 'slope': ..., 'intercept': ...} using GREEN/YELLOW/RED</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.ece_binary", "modulename": "causalis.refutation", "qualname": "ece_binary", "kind": "function", "doc": "<p>Expected Calibration Error (ECE) for binary labels using equal-width bins on [0,1].</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>p</strong> (np.ndarray):\nPredicted probabilities in [0,1]. Will be clipped to [0,1].</li>\n<li><strong>y</strong> (np.ndarray):\nBinary labels {0,1}.</li>\n<li><strong>n_bins</strong> (int, default 10):\nNumber of bins.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>float</strong>: ECE value in [0,1].</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">p</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.QUESTIONS", "modulename": "causalis.refutation", "qualname": "QUESTIONS", "kind": "variable", "doc": "<p></p>\n", "default_value": "(&#x27;1.) Are your clients independent (i)?&#x27;, &#x27;2.) Do you measure confounders, treatment, and outcome in the same intervals?&#x27;, &#x27;3.) Do you measure confounders before treatment and outcome after?&#x27;, &#x27;4.) Do you have a consistent label of treatment, such as if a person does not receive a treatment, he has a label 0?&#x27;)"}, {"fullname": "causalis.refutation.print_sutva_questions", "modulename": "causalis.refutation", "qualname": "print_sutva_questions", "kind": "function", "doc": "<p>Print the SUTVA validation questions.</p>\n\n<p>Just prints questions, nothing more.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.refute_placebo_outcome", "modulename": "causalis.refutation", "qualname": "refute_placebo_outcome", "kind": "function", "doc": "<p>Generate random outcome variables while keeping treatment\nand covariates intact. For binary outcomes, generates random binary\nvariables with the same proportion. For continuous outcomes, generates\nrandom variables from a normal distribution fitted to the original data.\nA valid causal design should now yield \u03b8 \u2248 0 and a large p-value.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.refute_placebo_treatment", "modulename": "causalis.refutation", "qualname": "refute_placebo_treatment", "kind": "function", "doc": "<p>Generate random binary treatment variables while keeping outcome and\ncovariates intact. Generates random binary treatment with the same\nproportion as the original treatment. Breaks the treatment\u2013outcome link.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.refute_subset", "modulename": "causalis.refutation", "qualname": "refute_subset", "kind": "function", "doc": "<p>Re-estimate the effect on a random subset (default 80 %)\nto check sample-stability of the estimate.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">fraction</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.8</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.refute_irm_orthogonality", "modulename": "causalis.refutation", "qualname": "refute_irm_orthogonality", "kind": "function", "doc": "<p>Comprehensive AIPW orthogonality diagnostics for IRM estimators.</p>\n\n<p>Implements three key diagnostic approaches based on the efficient influence function (EIF):</p>\n\n<ol>\n<li>Out-of-sample moment check (non-tautological)</li>\n<li>Orthogonality (Gateaux derivative) tests  </li>\n<li>Influence diagnostics</li>\n</ol>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>inference_fn</strong> (Callable):\nThe inference function (dml_ate or dml_att)</li>\n<li><strong>data</strong> (CausalData):\nThe causal data object</li>\n<li><strong>trim_propensity</strong> (Tuple[float, float], default (0.02, 0.98)):\nPropensity score trimming bounds (min, max) to avoid extreme weights</li>\n<li><strong>n_basis_funcs</strong> (Optional[int], default None (len(confounders)+1)):\nNumber of basis functions for orthogonality derivative tests (constant + covariates).\nIf None, defaults to the number of confounders in <code>data</code> plus 1 for the constant term.</li>\n<li><strong>n_folds_oos</strong> (int, default 5):\nNumber of folds for out-of-sample moment check</li>\n<li><strong>**inference_kwargs</strong> (dict):\nAdditional arguments passed to inference_fn</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary containing:\n<ul>\n<li>oos_moment_test: Out-of-sample moment condition results</li>\n<li>orthogonality_derivatives: Gateaux derivative test results</li>\n<li>influence_diagnostics: Influence function diagnostics</li>\n<li>theta: Original treatment effect estimate</li>\n<li>trimmed_diagnostics: Results on trimmed sample</li>\n<li>overall_assessment: Summary diagnostic assessment</li>\n</ul></li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.refutation.orthogonality</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">refute_irm_orthogonality</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.ate.dml_ate</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_ate</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Comprehensive orthogonality check</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ortho_results</span> <span class=\"o\">=</span> <span class=\"n\">refute_irm_orthogonality</span><span class=\"p\">(</span><span class=\"n\">dml_ate</span><span class=\"p\">,</span> <span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Check key diagnostics</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;OOS moment t-stat: </span><span class=\"si\">{</span><span class=\"n\">ortho_results</span><span class=\"p\">[</span><span class=\"s1\">&#39;oos_moment_test&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;tstat&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.3f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Assessment: </span><span class=\"si\">{</span><span class=\"n\">ortho_results</span><span class=\"p\">[</span><span class=\"s1\">&#39;overall_assessment&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">trim_propensity</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"mf\">0.98</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">n_basis_funcs</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds_oos</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">strict_oos</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.influence_summary", "modulename": "causalis.refutation", "qualname": "influence_summary", "kind": "function", "doc": "<p>Compute influence diagnostics showing where uncertainty comes from.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>y, d, g0, g1, m</strong> (np.ndarray):\nData arrays</li>\n<li><strong>theta_hat</strong> (float):\nEstimated treatment effect</li>\n<li><strong>k</strong> (int, default 10):\nNumber of top influential observations to return</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Influence diagnostics including SE, heavy-tail metrics, and top-k cases</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">theta_hat</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.sensitivity_analysis", "modulename": "causalis.refutation", "qualname": "sensitivity_analysis", "kind": "function", "doc": "<p>Compute bias-aware components and cache them on <code>effect_estimation[\"bias_aware\"]</code>.</p>\n\n<p>Returns a dict with:</p>\n\n<ul>\n<li>theta, se, level, z</li>\n<li>sampling_ci</li>\n<li>theta_bounds_cofounding = (theta - max_bias, theta + max_bias)</li>\n<li>bias_aware_ci = [theta - (max_bias + z*se), theta + (max_bias + z*se)]</li>\n<li>max_bias and components (sigma2, nu2)</li>\n<li>params (cf_y, cf_d, rho, use_signed_rr)</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">cf_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">cf_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">rho</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">use_signed_rr</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.get_sensitivity_summary", "modulename": "causalis.refutation", "qualname": "get_sensitivity_summary", "kind": "function", "doc": "<p>Render a single, unified bias-aware summary string.\nIf bias-aware components are missing, shows a sampling-only variant with max_bias=0\nand then formats via <code>format_bias_aware_summary</code> for consistency.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">label</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.validate_uncofoundedness_balance", "modulename": "causalis.refutation", "qualname": "validate_uncofoundedness_balance", "kind": "function", "doc": "<p>Assess covariate balance under the uncofoundedness assumption by computing\nstandardized mean differences (SMD) both before weighting (raw groups) and\nafter weighting using the IPW / ATT weights implied by the DML/IRM estimation.</p>\n\n<p>This function expects the result dictionary returned by dml_ate() or dml_att(),\nwhich includes a fitted IRM model and a 'diagnostic_data' entry with the\nnecessary arrays.</p>\n\n<p>We compute, for each confounder X_j:</p>\n\n<ul>\n<li>For ATE (weighted): w1 = D/m_hat, w0 = (1-D)/(1-m_hat).</li>\n<li>For ATTE (weighted): Treated weight = 1 for D=1; Control weight w0 = m_hat/(1-m_hat) for D=0.</li>\n<li>If estimation used normalized IPW (normalize_ipw=True), we scale the corresponding\nweights by their sample mean (as done in IRM) before computing balance.</li>\n</ul>\n\n<p>The SMD is defined as |mu1 - mu0| / s_pooled, where mu_g are (weighted) means in the\n(pseudo-)populations and s_pooled is the square root of the average of the (weighted)\nvariances in the two groups.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>effect_estimation</strong> (Dict[str, Any]):\nOutput dict from dml_ate() or dml_att(). Must contain 'model' and 'diagnostic_data'.</li>\n<li><strong>threshold</strong> (float, default 0.1):\nThreshold for SMD; values below indicate acceptable balance for most use cases.</li>\n<li><strong>normalize</strong> (Optional[bool]):\nWhether to use normalized weights. If None, inferred from effect_estimation['diagnostic_data']['normalize_ipw'].</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary with keys:\n<ul>\n<li>'smd': pd.Series of weighted SMD values indexed by confounder names</li>\n<li>'smd_unweighted': pd.Series of SMD values computed before weighting (raw groups)</li>\n<li>'score': 'ATE' or 'ATTE'</li>\n<li>'normalized': bool used for weighting</li>\n<li>'threshold': float</li>\n<li>'pass': bool indicating whether all weighted SMDs are below threshold</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>,</span><span class=\"param\">\t<span class=\"n\">normalize</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.sensitivity_benchmark", "modulename": "causalis.refutation", "qualname": "sensitivity_benchmark", "kind": "function", "doc": "<p>Computes a benchmark for a given set of features by refitting a short IRM model\n(excluding the provided features) and contrasting it with the original (long) model.\nReturns a DataFrame containing cf_y, cf_d, rho and the change in estimates.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>effect_estimation</strong> (dict):\nA dictionary containing the fitted IRM model under the key 'model'.</li>\n<li><strong>benchmarking_set</strong> (list[str]):\nList of confounder names to be used for benchmarking (to be removed in the short model).</li>\n<li><strong>fit_args</strong> (dict, optional):\nAdditional keyword arguments for the IRM.fit() method of the short model.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pandas.DataFrame</strong>: A one-row DataFrame indexed by the treatment name with columns:\n<ul>\n<li>cf_y, cf_d, rho: residual-based benchmarking strengths</li>\n<li>theta_long, theta_short, delta: effect estimates and their change (long - short)</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">benchmarking_set</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">fit_args</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap", "modulename": "causalis.refutation.overlap", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.refutation.overlap.DEFAULT_THRESHOLDS", "modulename": "causalis.refutation.overlap", "qualname": "DEFAULT_THRESHOLDS", "kind": "variable", "doc": "<p></p>\n", "default_value": "{&#x27;edge_mass_warn_001&#x27;: 0.02, &#x27;edge_mass_strong_001&#x27;: 0.05, &#x27;edge_mass_warn_002&#x27;: 0.05, &#x27;edge_mass_strong_002&#x27;: 0.1, &#x27;ks_warn&#x27;: 0.3, &#x27;ks_strong&#x27;: 0.4, &#x27;auc_warn&#x27;: 0.8, &#x27;auc_strong&#x27;: 0.9, &#x27;ipw_relerr_warn&#x27;: 0.05, &#x27;ipw_relerr_strong&#x27;: 0.1, &#x27;ess_ratio_warn&#x27;: 0.3, &#x27;ess_ratio_strong&#x27;: 0.15, &#x27;clip_share_warn&#x27;: 0.02, &#x27;clip_share_strong&#x27;: 0.05, &#x27;tail_vs_med_warn&#x27;: 10.0}"}, {"fullname": "causalis.refutation.overlap.positivity_overlap_checks", "modulename": "causalis.refutation.overlap", "qualname": "positivity_overlap_checks", "kind": "function", "doc": "<p>Run positivity/overlap diagnostics for DML-IRM (ATE &amp; ATT).\nInputs are cross-fitted m\u0302 and treatment D (0/1). Returns a structured report with GREEN/YELLOW/RED flags.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">m_clipped_from</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_clipped_share</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">use_hajek</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;edge_mass_warn_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_warn_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.9</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.15</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;tail_vs_med_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">10.0</span><span class=\"p\">}</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">cal_thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">auc_flip_margin</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.overlap_report_from_result", "modulename": "causalis.refutation.overlap", "qualname": "overlap_report_from_result", "kind": "function", "doc": "<p>High-level helper that takes dml_ate/dml_att output (or IRM model) and returns a positivity/overlap report as a dict.</p>\n\n<p>If the input result contains a flag indicating normalized IPW (H\u00e1jek), this function will\nauto-detect it and pass use_hajek=True to the underlying diagnostics, so users of\ndml_ate(normalize_ipw=True) get meaningful ipw_sum_* checks without extra arguments.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">res</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">use_hajek</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;edge_mass_warn_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_warn_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.9</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.15</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;tail_vs_med_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">10.0</span><span class=\"p\">}</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">cal_thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">auc_flip_margin</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.run_overlap_diagnostics", "modulename": "causalis.refutation.overlap", "qualname": "run_overlap_diagnostics", "kind": "function", "doc": "<p>Single entry-point for overlap / positivity / calibration diagnostics.</p>\n\n<p>You can call it in TWO ways:\n  A) With raw arrays:\n     run_overlap_diagnostics(m_hat=..., D=...)\n  B) With a model/result:\n     run_overlap_diagnostics(res=<dml_ate/dml_att result dict or IRM/DoubleML-like model>)</p>\n\n<p>The function:</p>\n\n<ul>\n<li>Auto-extracts (m_hat, D, trimming_threshold) from <code>res</code> if provided.</li>\n<li>Auto-detects H\u00e1jek normalization if available on <code>res</code> (normalize_ipw).</li>\n<li>Runs positivity/overlap checks (edge mass, KS, AUC, ESS, tails, ATT identity),\nclipping audit, and calibration (ECE + logistic recalibration).</li>\n<li>Returns a dict with full details and, optionally, a compact summary DataFrame.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>dict with keys including:</strong>: - n, n_treated, p1\n<ul>\n<li>edge_mass, edge_mass_by_arm, ks, auc</li>\n<li>ate_ipw, ate_ess, ate_tails</li>\n<li>att_weights, att_ess</li>\n<li>clipping</li>\n<li>calibration (with reliability_table)</li>\n<li>flags  (GREEN/YELLOW/RED/NA)</li>\n<li>summary (pd.DataFrame) if return_summary=True</li>\n<li>meta (use_hajek, thresholds)</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">res</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">Any</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;edge_mass_warn_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_001&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_warn_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;edge_mass_strong_002&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ks_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"s1\">&#39;auc_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.9</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ipw_relerr_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ess_ratio_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.15</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"s1\">&#39;clip_share_strong&#39;</span><span class=\"p\">:</span> <span class=\"mf\">0.05</span><span class=\"p\">,</span> <span class=\"s1\">&#39;tail_vs_med_warn&#39;</span><span class=\"p\">:</span> <span class=\"mf\">10.0</span><span class=\"p\">}</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">use_hajek</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">m_clipped_from</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_clipped_share</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">return_summary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">cal_thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">auc_flip_margin</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.05</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.att_overlap_tests", "modulename": "causalis.refutation.overlap", "qualname": "att_overlap_tests", "kind": "function", "doc": "<p>Compute ATT overlap/weight diagnostics from a dml_att(_source) result dict.</p>\n\n<p>Inputs expected in result['diagnostic_data']:</p>\n\n<ul>\n<li>m_hat: np.ndarray of cross-fitted propensity scores Pr(D=1|X)</li>\n<li>d: np.ndarray of treatment indicators {0,1}</li>\n</ul>\n\n<p>Returns:\n  dict with keys:\n    - edge_mass: {'eps': {eps: {'share_below': float, 'share_above': float, 'warn': bool}}}\n    - ks: {'value': float, 'warn': bool}\n    - auc: {'value': float or nan, 'flag': str}  # 'GREEN'/'YELLOW'/'RED' or 'NA' if undefined\n    - ess: {'treated': {'ess': float, 'n': int, 'ratio': float, 'flag': str},\n            'control': {'ess': float, 'n': int, 'ratio': float, 'flag': str}}\n    - att_weight_identity: {'lhs_sum': float, 'rhs_sum': float, 'rel_err': float, 'flag': str}</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">dml_att_result</span><span class=\"p\">:</span> <span class=\"nb\">dict</span>, </span><span class=\"param\"><span class=\"n\">epsilon_list</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mf\">0.02</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">dict</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.edge_mass", "modulename": "causalis.refutation.overlap", "qualname": "edge_mass", "kind": "function", "doc": "<p>Edge mass diagnostics.</p>\n\n<p>Math:\n  share_below = (1/n) * sum_i 1{ m_hat_i &lt; \u03b5 }\n  share_above = (1/n) * sum_i 1{ m_hat_i &gt; 1 - \u03b5 }</p>\n\n<p>Parameters:</p>\n\n<ul>\n<li>m_hat: array of propensities m_hat in [0,1]</li>\n<li>eps: a single \u03b5 or a sequence of \u03b5 values.</li>\n</ul>\n\n<p>Returns:</p>\n\n<ul>\n<li>If eps is a scalar: {'eps': \u03b5, 'share_below': float, 'share_above': float}</li>\n<li>If eps is a sequence: {\u03b5: {'share_below': float, 'share_above': float}, ...}</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">eps</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"nb\">list</span> <span class=\"o\">|</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.ks_distance", "modulename": "causalis.refutation.overlap", "qualname": "ks_distance", "kind": "function", "doc": "<p>Two-sample Kolmogorov\u2013Smirnov distance between m_hat|D=1 and m_hat|D=0.</p>\n\n<p>Math:\n  KS = sup_t | F_{m|D=1}(t) - F_{m|D=0}(t) |</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.auc_for_m", "modulename": "causalis.refutation.overlap", "qualname": "auc_for_m", "kind": "function", "doc": "<p>ROC AUC using scores m_hat vs labels D.</p>\n\n<p>Math (Mann\u2013Whitney relation):\n  AUC = P(m_i^+ &gt; m_j^-) + 0.5 P(m_i^+ = m_j^-)</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.ess_per_group", "modulename": "causalis.refutation.overlap", "qualname": "ess_per_group", "kind": "function", "doc": "<p>Effective sample size (ESS) for ATE-style inverse-probability weights per arm.</p>\n\n<p>Weights:\n  w1_i = D_i / m_hat_i,\n  w0_i = (1 - D_i) / (1 - m_hat_i).</p>\n\n<p>ESS:\n  ESS(w_g) = (sum_i w_{gi})^2 / sum_i w_{gi}^2.</p>\n\n<p>Returns dict with ess and ratios (ESS / group size).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.att_weight_sum_identity", "modulename": "causalis.refutation.overlap", "qualname": "att_weight_sum_identity", "kind": "function", "doc": "<p>ATT weight-sum identity check (un-normalized IPW form).</p>\n\n<p>Math:\n  w1_i = D_i / p1,   w0_i = (1 - D_i) * m_hat_i / ((1 - m_hat_i) * p1),  where p1 = (1/n) sum_i D_i.\n  Sum check:  sum_i (1 - D_i) * m_hat_i / (1 - m_hat_i)  ?\u2248  sum_i D_i.</p>\n\n<p>Returns: {'lhs_sum': float, 'rhs_sum': float, 'rel_err': float}</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.calibration_report_m", "modulename": "causalis.refutation.overlap", "qualname": "calibration_report_m", "kind": "function", "doc": "<p>Propensity calibration report for cross-fitted propensities m_hat against treatment D.</p>\n\n<p>Returns a dictionary with:</p>\n\n<ul>\n<li>auc: ROC AUC of m_hat vs D (Mann\u2013Whitney)</li>\n<li>brier: Brier score (mean squared error)</li>\n<li>ece: Expected Calibration Error (equal-width bins)</li>\n<li>reliability_table: pd.DataFrame with per-bin stats</li>\n<li>recalibration: {'intercept': alpha, 'slope': beta} from logistic recalibration</li>\n<li>flags: {'ece': ..., 'slope': ..., 'intercept': ...} using GREEN/YELLOW/RED</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.overlap.ece_binary", "modulename": "causalis.refutation.overlap", "qualname": "ece_binary", "kind": "function", "doc": "<p>Expected Calibration Error (ECE) for binary labels using equal-width bins on [0,1].</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>p</strong> (np.ndarray):\nPredicted probabilities in [0,1]. Will be clipped to [0,1].</li>\n<li><strong>y</strong> (np.ndarray):\nBinary labels {0,1}.</li>\n<li><strong>n_bins</strong> (int, default 10):\nNumber of bins.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>float</strong>: ECE value in [0,1].</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">p</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>, </span><span class=\"param\"><span class=\"n\">n_bins</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">float</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score", "modulename": "causalis.refutation.score", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.refutation.score.score_validation", "modulename": "causalis.refutation.score.score_validation", "kind": "module", "doc": "<p>AIPW orthogonality diagnostics for IRM-based estimators.</p>\n\n<p>This module implements comprehensive orthogonality diagnostics for AIPW/IRM-based\nestimators like dml_ate and dml_att to validate the key assumptions required \nfor valid causal inference. Based on the efficient influence function (EIF) framework.</p>\n\n<p>Key diagnostics implemented:</p>\n\n<ul>\n<li>Out-of-sample moment check (non-tautological)</li>\n<li>Orthogonality (Gateaux derivative) tests</li>\n<li>Influence diagnostics</li>\n</ul>\n"}, {"fullname": "causalis.refutation.score.score_validation.aipw_score_ate", "modulename": "causalis.refutation.score.score_validation", "qualname": "aipw_score_ate", "kind": "function", "doc": "<p>Efficient influence function (EIF) for ATE.\nUses IRM naming: g0,g1 are outcome regressions E[Y|X,D=0/1], m is propensity P(D=1|X).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.aipw_score_atte", "modulename": "causalis.refutation.score.score_validation", "qualname": "aipw_score_atte", "kind": "function", "doc": "<p>Efficient influence function (EIF) for ATTE under IRM/AIPW.</p>\n\n<p>\u03c8_ATTE(W; \u03b8, \u03b7) = [ D<em>(Y - g0(X) - \u03b8)  -  (1-D)</em>{ m(X)/(1-m(X)) }*(Y - g0(X)) ] / E[D]</p>\n\n<p>Notes:</p>\n\n<ul>\n<li>Matches DoubleML's <code>score='ATTE'</code> (weights \u03c9=D/E[D], \bar{\u03c9}=m(X)/E[D]).</li>\n<li>g1 enters only via \u03b8; \u2202\u03c8/\u2202g1 = 0.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">p_treated</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.extract_nuisances", "modulename": "causalis.refutation.score.score_validation", "qualname": "extract_nuisances", "kind": "function", "doc": "<p>Extract cross-fitted nuisance predictions from an IRM-like model or a compatible dummy.</p>\n\n<p>Tries several backends for robustness:\n  1) IRM attributes: m_hat_, g0_hat_, g1_hat_\n  2) model.predictions dict with keys: 'ml_m','ml_g0','ml_g1'\n  3) Direct attributes: ml_m, ml_g0, ml_g1</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>model</strong> (object):\nFitted internal IRM estimator (causalis.inference.estimators.IRM) or a compatible dummy model</li>\n<li><strong>test_indices</strong> (np.ndarray, optional):\nIf provided, extract predictions only for these indices</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Tuple[np.ndarray, np.ndarray, np.ndarray]</strong>: (m, g0, g1) where:\n<ul>\n<li>m: propensity scores P(D=1|X)</li>\n<li>g0: outcome predictions E[Y|X,D=0]</li>\n<li>g1: outcome predictions E[Y|X,D=1]</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">model</span>,</span><span class=\"param\">\t<span class=\"n\">test_indices</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.oos_moment_check_with_fold_nuisances", "modulename": "causalis.refutation.score.score_validation", "qualname": "oos_moment_check_with_fold_nuisances", "kind": "function", "doc": "<p>Out-of-sample moment check using fold-specific nuisances to avoid tautological results.</p>\n\n<p>For each fold k, evaluates the AIPW score using \u03b8 fitted on other folds and \nnuisance predictions from the fold-specific model, then tests if the combined \nmoment condition holds.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>fold_thetas</strong> (List[float]):\nTreatment effects estimated excluding each fold</li>\n<li><strong>fold_indices</strong> (List[np.ndarray]):\nIndices for each fold</li>\n<li><strong>fold_nuisances</strong> (List[Tuple[np.ndarray, np.ndarray, np.ndarray]]):\nFold-specific nuisance predictions (m, g0, g1) for each fold</li>\n<li><strong>y, d</strong> (np.ndarray):\nObserved outcomes and treatments</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Tuple[pd.DataFrame, float]</strong>: Fold-wise results and combined t-statistic</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">fold_thetas</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">fold_indices</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">fold_nuisances</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">score_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.oos_moment_check", "modulename": "causalis.refutation.score.score_validation", "qualname": "oos_moment_check", "kind": "function", "doc": "<p>Out-of-sample moment check to avoid tautological results (legacy/simple version).</p>\n\n<p>For each fold k, evaluates the AIPW score using \u03b8 fitted on other folds,\nthen tests if the combined moment condition holds.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>fold_thetas</strong> (List[float]):\nTreatment effects estimated excluding each fold</li>\n<li><strong>fold_indices</strong> (List[np.ndarray]):\nIndices for each fold</li>\n<li><strong>y, d, g0, g1, m</strong> (np.ndarray):\nData arrays (outcomes, treatment, predictions)</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Tuple[pd.DataFrame, float]</strong>: Fold-wise results and combined t-statistic</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">fold_thetas</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">fold_indices</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">score_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.orthogonality_derivatives", "modulename": "causalis.refutation.score.score_validation", "qualname": "orthogonality_derivatives", "kind": "function", "doc": "<p>Compute orthogonality (Gateaux derivative) tests for nuisance functions (ATE case).\nUses IRM naming: g0,g1 outcomes; m propensity.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">X_basis</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.influence_summary", "modulename": "causalis.refutation.score.score_validation", "qualname": "influence_summary", "kind": "function", "doc": "<p>Compute influence diagnostics showing where uncertainty comes from.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>y, d, g0, g1, m</strong> (np.ndarray):\nData arrays</li>\n<li><strong>theta_hat</strong> (float):\nEstimated treatment effect</li>\n<li><strong>k</strong> (int, default 10):\nNumber of top influential observations to return</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Influence diagnostics including SE, heavy-tail metrics, and top-k cases</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">theta_hat</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.refute_irm_orthogonality", "modulename": "causalis.refutation.score.score_validation", "qualname": "refute_irm_orthogonality", "kind": "function", "doc": "<p>Comprehensive AIPW orthogonality diagnostics for IRM estimators.</p>\n\n<p>Implements three key diagnostic approaches based on the efficient influence function (EIF):</p>\n\n<ol>\n<li>Out-of-sample moment check (non-tautological)</li>\n<li>Orthogonality (Gateaux derivative) tests  </li>\n<li>Influence diagnostics</li>\n</ol>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>inference_fn</strong> (Callable):\nThe inference function (dml_ate or dml_att)</li>\n<li><strong>data</strong> (CausalData):\nThe causal data object</li>\n<li><strong>trim_propensity</strong> (Tuple[float, float], default (0.02, 0.98)):\nPropensity score trimming bounds (min, max) to avoid extreme weights</li>\n<li><strong>n_basis_funcs</strong> (Optional[int], default None (len(confounders)+1)):\nNumber of basis functions for orthogonality derivative tests (constant + covariates).\nIf None, defaults to the number of confounders in <code>data</code> plus 1 for the constant term.</li>\n<li><strong>n_folds_oos</strong> (int, default 5):\nNumber of folds for out-of-sample moment check</li>\n<li><strong>**inference_kwargs</strong> (dict):\nAdditional arguments passed to inference_fn</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary containing:\n<ul>\n<li>oos_moment_test: Out-of-sample moment condition results</li>\n<li>orthogonality_derivatives: Gateaux derivative test results</li>\n<li>influence_diagnostics: Influence function diagnostics</li>\n<li>theta: Original treatment effect estimate</li>\n<li>trimmed_diagnostics: Results on trimmed sample</li>\n<li>overall_assessment: Summary diagnostic assessment</li>\n</ul></li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.refutation.orthogonality</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">refute_irm_orthogonality</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.ate.dml_ate</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_ate</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Comprehensive orthogonality check</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ortho_results</span> <span class=\"o\">=</span> <span class=\"n\">refute_irm_orthogonality</span><span class=\"p\">(</span><span class=\"n\">dml_ate</span><span class=\"p\">,</span> <span class=\"n\">causal_data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Check key diagnostics</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;OOS moment t-stat: </span><span class=\"si\">{</span><span class=\"n\">ortho_results</span><span class=\"p\">[</span><span class=\"s1\">&#39;oos_moment_test&#39;</span><span class=\"p\">][</span><span class=\"s1\">&#39;tstat&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.3f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Assessment: </span><span class=\"si\">{</span><span class=\"n\">ortho_results</span><span class=\"p\">[</span><span class=\"s1\">&#39;overall_assessment&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">trim_propensity</span><span class=\"p\">:</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"mf\">0.98</span><span class=\"p\">)</span>,</span><span class=\"param\">\t<span class=\"n\">n_basis_funcs</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds_oos</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">strict_oos</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.orthogonality_derivatives_atte", "modulename": "causalis.refutation.score.score_validation", "qualname": "orthogonality_derivatives_atte", "kind": "function", "doc": "<p>Gateaux derivatives of the ATTE score wrt nuisances (g0, m). g1-derivative is 0.</p>\n\n<p>For \u03c8_ATTE = [ D*(Y - g0 - \u03b8)  -  (1-D)*(m/(1-m))*(Y - g0) ] / p_treated:</p>\n\n<p>\u2202_{g0}[h] : (1/n) \u03a3 h(X_i) * [ ((1-D_i)*m_i/(1-m_i) - D_i) / p_treated ]\n  \u2202_{m}[s]  : (1/n) \u03a3 s(X_i) * [ -(1-D_i)*(Y_i - g0_i) / ( p_treated * (1-m_i)^2 ) ]</p>\n\n<p>Both have 0 expectation at the truth (Neyman orthogonality).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">X_basis</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">p_treated</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.overlap_diagnostics_atte", "modulename": "causalis.refutation.score.score_validation", "qualname": "overlap_diagnostics_atte", "kind": "function", "doc": "<p>Key overlap metrics for ATTE: availability of suitable controls.\nReports conditional shares: among CONTROLS, fraction with m(X) \u2265 threshold; among TREATED, fraction with m(X) \u2264 1 - threshold.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">eps_list</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mf\">0.95</span><span class=\"p\">,</span> <span class=\"mf\">0.97</span><span class=\"p\">,</span> <span class=\"mf\">0.98</span><span class=\"p\">,</span> <span class=\"mf\">0.99</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.trim_sensitivity_curve_atte", "modulename": "causalis.refutation.score.score_validation", "qualname": "trim_sensitivity_curve_atte", "kind": "function", "doc": "<p>Re-estimate \u03b8 while progressively trimming CONTROLS with large m(X).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">=</span> <span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mf\">0.9</span>       <span class=\"p\">,</span> <span class=\"mf\">0.90863636</span><span class=\"p\">,</span> <span class=\"mf\">0.91727273</span><span class=\"p\">,</span> <span class=\"mf\">0.92590909</span><span class=\"p\">,</span> <span class=\"mf\">0.93454545</span><span class=\"p\">,</span>\n       <span class=\"mf\">0.94318182</span><span class=\"p\">,</span> <span class=\"mf\">0.95181818</span><span class=\"p\">,</span> <span class=\"mf\">0.96045455</span><span class=\"p\">,</span> <span class=\"mf\">0.96909091</span><span class=\"p\">,</span> <span class=\"mf\">0.97772727</span><span class=\"p\">,</span>\n       <span class=\"mf\">0.98636364</span><span class=\"p\">,</span> <span class=\"mf\">0.995</span>     <span class=\"p\">])</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.trim_sensitivity_curve_ate", "modulename": "causalis.refutation.score.score_validation", "qualname": "trim_sensitivity_curve_ate", "kind": "function", "doc": "<p>Sensitivity of ATE estimate to propensity clipping epsilon (no re-fit).</p>\n\n<p>For each epsilon in eps_grid, compute the AIPW/IRM ATE estimate using\nm_clipped = clip(m_hat, eps, 1-eps) over the full sample and report\nthe plug-in standard error from the EIF.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>m_hat, D, Y, g0_hat, g1_hat</strong> (np.ndarray):\nCross-fitted nuisances and observed arrays.</li>\n<li><strong>eps_grid</strong> (tuple[float, ...]):\nSequence of clipping thresholds \u03b5 to evaluate.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: Columns: ['trim_eps','n','pct_clipped','theta','se'].\npct_clipped is the percent of observations with m outside [\u03b5,1-\u03b5].</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">D</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">Y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g0_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">g1_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">eps_grid</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"mf\">0.005</span><span class=\"p\">,</span> <span class=\"mf\">0.01</span><span class=\"p\">,</span> <span class=\"mf\">0.02</span><span class=\"p\">,</span> <span class=\"mf\">0.05</span><span class=\"p\">)</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.refute_placebo_outcome", "modulename": "causalis.refutation.score.score_validation", "qualname": "refute_placebo_outcome", "kind": "function", "doc": "<p>Generate random outcome variables while keeping treatment\nand covariates intact. For binary outcomes, generates random binary\nvariables with the same proportion. For continuous outcomes, generates\nrandom variables from a normal distribution fitted to the original data.\nA valid causal design should now yield \u03b8 \u2248 0 and a large p-value.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.refute_placebo_treatment", "modulename": "causalis.refutation.score.score_validation", "qualname": "refute_placebo_treatment", "kind": "function", "doc": "<p>Generate random binary treatment variables while keeping outcome and\ncovariates intact. Generates random binary treatment with the same\nproportion as the original treatment. Breaks the treatment\u2013outcome link.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.refute_subset", "modulename": "causalis.refutation.score.score_validation", "qualname": "refute_subset", "kind": "function", "doc": "<p>Re-estimate the effect on a random subset (default 80 %)\nto check sample-stability of the estimate.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">inference_fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">fraction</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.8</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">inference_kwargs</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.oos_moment_check_from_psi", "modulename": "causalis.refutation.score.score_validation", "qualname": "oos_moment_check_from_psi", "kind": "function", "doc": "<p>OOS moment check using cached \u03c8_a, \u03c8_b only.\nReturns (fold-wise DF, t_fold_agg, t_strict if requested).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">psi_a</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">psi_b</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span>,</span><span class=\"param\">\t<span class=\"n\">fold_indices</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">strict</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.ResultLike", "modulename": "causalis.refutation.score.score_validation", "qualname": "ResultLike", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Dict[str, typing.Any] | typing.Any"}, {"fullname": "causalis.refutation.score.score_validation.run_score_diagnostics", "modulename": "causalis.refutation.score.score_validation", "qualname": "run_score_diagnostics", "kind": "function", "doc": "<p>Single entry-point for score diagnostics (orthogonality) akin to run_overlap_diagnostics.</p>\n\n<p>You can call it in TWO ways:\n  A) With raw arrays:\n     run_score_diagnostics(y=..., d=..., g0=..., g1=..., m=..., theta=...)\n  B) With a model/result:\n     run_score_diagnostics(res=<dml_ate/dml_att result dict or IRM-like model>)</p>\n\n<p>Returns a dictionary with:</p>\n\n<ul>\n<li>params (score, trimming_threshold)</li>\n<li>oos_moment_test (if fast-path caches available on model; else omitted)</li>\n<li>orthogonality_derivatives (DataFrame)</li>\n<li>influence_diagnostics (full_sample)</li>\n<li>summary (compact DataFrame) if return_summary=True</li>\n<li>meta</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">res</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">Any</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g0</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g1</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">m</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">n_basis_funcs</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">return_summary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.score.score_validation.add_score_flags", "modulename": "causalis.refutation.score.score_validation", "qualname": "add_score_flags", "kind": "function", "doc": "<p>Augment run_score_diagnostics(...) dict with:</p>\n\n<ul>\n<li>rep['flags'] (per-metric flags)</li>\n<li>rep['thresholds'] (the cutoffs used)</li>\n<li>rep['summary'] with a new 'flag' column</li>\n<li>rep['overall_flag'] (rollup)</li>\n</ul>\n\n<p>Additional logic:</p>\n\n<ul>\n<li>Practical effect-size guard: if the constant-basis derivative magnitude is tiny\n(&lt;= effect_size_guard), then downgrade an orthogonality RED to GREEN (if OOS is GREEN)\nor to YELLOW (otherwise). Controlled by <code>oos_gate</code>.</li>\n<li>Huge-n relaxation: for very large n (&gt;= 200k), relax tail/kurtosis flags slightly\nunder specified value gates.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">rep_score</span><span class=\"p\">:</span> <span class=\"nb\">dict</span>,</span><span class=\"param\">\t<span class=\"n\">thresholds</span><span class=\"p\">:</span> <span class=\"nb\">dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">effect_size_guard</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.02</span>,</span><span class=\"param\">\t<span class=\"n\">oos_gate</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">se_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">se_ref</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">dict</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.sutva", "modulename": "causalis.refutation.sutva", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.refutation.sutva.sutva_validation", "modulename": "causalis.refutation.sutva.sutva_validation", "kind": "module", "doc": "<p>SUTVA validation helper.</p>\n\n<p>This module provides a simple function to print four SUTVA-related\nquestions for the user to consider. It has no side effects on import.</p>\n"}, {"fullname": "causalis.refutation.sutva.sutva_validation.QUESTIONS", "modulename": "causalis.refutation.sutva.sutva_validation", "qualname": "QUESTIONS", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Iterable[str]", "default_value": "(&#x27;1.) Are your clients independent (i)?&#x27;, &#x27;2.) Do you measure confounders, treatment, and outcome in the same intervals?&#x27;, &#x27;3.) Do you measure confounders before treatment and outcome after?&#x27;, &#x27;4.) Do you have a consistent label of treatment, such as if a person does not receive a treatment, he has a label 0?&#x27;)"}, {"fullname": "causalis.refutation.sutva.sutva_validation.print_sutva_questions", "modulename": "causalis.refutation.sutva.sutva_validation", "qualname": "print_sutva_questions", "kind": "function", "doc": "<p>Print the SUTVA validation questions.</p>\n\n<p>Just prints questions, nothing more.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.uncofoundedness", "modulename": "causalis.refutation.uncofoundedness", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.refutation.uncofoundedness.sensitivity", "modulename": "causalis.refutation.uncofoundedness.sensitivity", "kind": "module", "doc": "<p>Sensitivity functions refactored into a dedicated module.</p>\n\n<p>This module centralizes bias-aware sensitivity helpers and the public\nentry points used by refutation utilities for uncofoundedness.</p>\n"}, {"fullname": "causalis.refutation.uncofoundedness.sensitivity.sensitivity_analysis", "modulename": "causalis.refutation.uncofoundedness.sensitivity", "qualname": "sensitivity_analysis", "kind": "function", "doc": "<p>Compute bias-aware components and cache them on <code>effect_estimation[\"bias_aware\"]</code>.</p>\n\n<p>Returns a dict with:</p>\n\n<ul>\n<li>theta, se, level, z</li>\n<li>sampling_ci</li>\n<li>theta_bounds_cofounding = (theta - max_bias, theta + max_bias)</li>\n<li>bias_aware_ci = [theta - (max_bias + z*se), theta + (max_bias + z*se)]</li>\n<li>max_bias and components (sigma2, nu2)</li>\n<li>params (cf_y, cf_d, rho, use_signed_rr)</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">cf_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">cf_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">rho</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">use_signed_rr</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.uncofoundedness.sensitivity.sensitivity_benchmark", "modulename": "causalis.refutation.uncofoundedness.sensitivity", "qualname": "sensitivity_benchmark", "kind": "function", "doc": "<p>Computes a benchmark for a given set of features by refitting a short IRM model\n(excluding the provided features) and contrasting it with the original (long) model.\nReturns a DataFrame containing cf_y, cf_d, rho and the change in estimates.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>effect_estimation</strong> (dict):\nA dictionary containing the fitted IRM model under the key 'model'.</li>\n<li><strong>benchmarking_set</strong> (list[str]):\nList of confounder names to be used for benchmarking (to be removed in the short model).</li>\n<li><strong>fit_args</strong> (dict, optional):\nAdditional keyword arguments for the IRM.fit() method of the short model.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pandas.DataFrame</strong>: A one-row DataFrame indexed by the treatment name with columns:\n<ul>\n<li>cf_y, cf_d, rho: residual-based benchmarking strengths</li>\n<li>theta_long, theta_short, delta: effect estimates and their change (long - short)</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">benchmarking_set</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">fit_args</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.uncofoundedness.sensitivity.get_sensitivity_summary", "modulename": "causalis.refutation.uncofoundedness.sensitivity", "qualname": "get_sensitivity_summary", "kind": "function", "doc": "<p>Render a single, unified bias-aware summary string.\nIf bias-aware components are missing, shows a sampling-only variant with max_bias=0\nand then formats via <code>format_bias_aware_summary</code> for consistency.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">label</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.uncofoundedness.uncofoundedness_validation", "modulename": "causalis.refutation.uncofoundedness.uncofoundedness_validation", "kind": "module", "doc": "<p>Uncofoundedness validation module</p>\n"}, {"fullname": "causalis.refutation.uncofoundedness.uncofoundedness_validation.validate_uncofoundedness_balance", "modulename": "causalis.refutation.uncofoundedness.uncofoundedness_validation", "qualname": "validate_uncofoundedness_balance", "kind": "function", "doc": "<p>Assess covariate balance under the uncofoundedness assumption by computing\nstandardized mean differences (SMD) both before weighting (raw groups) and\nafter weighting using the IPW / ATT weights implied by the DML/IRM estimation.</p>\n\n<p>This function expects the result dictionary returned by dml_ate() or dml_att(),\nwhich includes a fitted IRM model and a 'diagnostic_data' entry with the\nnecessary arrays.</p>\n\n<p>We compute, for each confounder X_j:</p>\n\n<ul>\n<li>For ATE (weighted): w1 = D/m_hat, w0 = (1-D)/(1-m_hat).</li>\n<li>For ATTE (weighted): Treated weight = 1 for D=1; Control weight w0 = m_hat/(1-m_hat) for D=0.</li>\n<li>If estimation used normalized IPW (normalize_ipw=True), we scale the corresponding\nweights by their sample mean (as done in IRM) before computing balance.</li>\n</ul>\n\n<p>The SMD is defined as |mu1 - mu0| / s_pooled, where mu_g are (weighted) means in the\n(pseudo-)populations and s_pooled is the square root of the average of the (weighted)\nvariances in the two groups.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>effect_estimation</strong> (Dict[str, Any]):\nOutput dict from dml_ate() or dml_att(). Must contain 'model' and 'diagnostic_data'.</li>\n<li><strong>threshold</strong> (float, default 0.1):\nThreshold for SMD; values below indicate acceptable balance for most use cases.</li>\n<li><strong>normalize</strong> (Optional[bool]):\nWhether to use normalized weights. If None, inferred from effect_estimation['diagnostic_data']['normalize_ipw'].</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary with keys:\n<ul>\n<li>'smd': pd.Series of weighted SMD values indexed by confounder names</li>\n<li>'smd_unweighted': pd.Series of SMD values computed before weighting (raw groups)</li>\n<li>'score': 'ATE' or 'ATTE'</li>\n<li>'normalized': bool used for weighting</li>\n<li>'threshold': float</li>\n<li>'pass': bool indicating whether all weighted SMDs are below threshold</li>\n</ul></li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">effect_estimation</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>,</span><span class=\"param\">\t<span class=\"n\">normalize</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.refutation.uncofoundedness.uncofoundedness_validation.run_uncofoundedness_diagnostics", "modulename": "causalis.refutation.uncofoundedness.uncofoundedness_validation", "qualname": "run_uncofoundedness_diagnostics", "kind": "function", "doc": "<p>Uncofoundedness diagnostics focused on balance (SMD).</p>\n\n<p>Inputs:</p>\n\n<ul>\n<li>Either a result/model via <code>res</code>, or raw arrays X, d, m_hat (+ optional names, score, normalize).</li>\n</ul>\n\n<p>Returns a dictionary:\n  {\n    \"params\": {\"score\", \"normalize\", \"smd_threshold\"},\n    \"balance\": {\"smd\", \"smd_unweighted\", \"smd_max\", \"frac_violations\", \"pass\", \"worst_features\"},\n    \"flags\": {\"balance_max_smd\", \"balance_violations\"},\n    \"overall_flag\": max severity across balance flags,\n    \"summary\": pd.DataFrame with balance rows only\n  }</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">res</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"n\">Any</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">X</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">m_hat</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">names</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">normalize</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>,</span><span class=\"param\">\t<span class=\"n\">eps_overlap</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">return_summary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}];

    // mirrored in build-search-index.js (part 1)
    // Also split on html tags. this is a cheap heuristic, but good enough.
    elasticlunr.tokenizer.setSeperator(/[\s\-.;&_'"=,()]+|<[^>]*>/);

    let searchIndex;
    if (docs._isPrebuiltIndex) {
        console.info("using precompiled search index");
        searchIndex = elasticlunr.Index.load(docs);
    } else {
        console.time("building search index");
        // mirrored in build-search-index.js (part 2)
        searchIndex = elasticlunr(function () {
            this.pipeline.remove(elasticlunr.stemmer);
            this.pipeline.remove(elasticlunr.stopWordFilter);
            this.addField("qualname");
            this.addField("fullname");
            this.addField("annotation");
            this.addField("default_value");
            this.addField("signature");
            this.addField("bases");
            this.addField("doc");
            this.setRef("fullname");
        });
        for (let doc of docs) {
            searchIndex.addDoc(doc);
        }
        console.timeEnd("building search index");
    }

    return (term) => searchIndex.search(term, {
        fields: {
            qualname: {boost: 4},
            fullname: {boost: 2},
            annotation: {boost: 2},
            default_value: {boost: 2},
            signature: {boost: 2},
            bases: {boost: 2},
            doc: {boost: 1},
        },
        expand: true
    });
})();