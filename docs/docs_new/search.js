window.pdocSearch = (function(){
/** elasticlunr - http://weixsong.github.io * Copyright (C) 2017 Oliver Nightingale * Copyright (C) 2017 Wei Song * MIT Licensed */!function(){function e(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.9.5",lunr=t,t.utils={},t.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),t.utils.toString=function(e){return void 0===e||null===e?"":e.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},t.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);-1!==n&&(this.events[e].splice(n,1),0==this.events[e].length&&delete this.events[e])}},t.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)},this)}},t.EventEmitter.prototype.hasHandler=function(e){return e in this.events},t.tokenizer=function(e){if(!arguments.length||null===e||void 0===e)return[];if(Array.isArray(e)){var n=e.filter(function(e){return null===e||void 0===e?!1:!0});n=n.map(function(e){return t.utils.toString(e).toLowerCase()});var i=[];return n.forEach(function(e){var n=e.split(t.tokenizer.seperator);i=i.concat(n)},this),i}return e.toString().trim().toLowerCase().split(t.tokenizer.seperator)},t.tokenizer.defaultSeperator=/[\s\-]+/,t.tokenizer.seperator=t.tokenizer.defaultSeperator,t.tokenizer.setSeperator=function(e){null!==e&&void 0!==e&&"object"==typeof e&&(t.tokenizer.seperator=e)},t.tokenizer.resetSeperator=function(){t.tokenizer.seperator=t.tokenizer.defaultSeperator},t.tokenizer.getSeperator=function(){return t.tokenizer.seperator},t.Pipeline=function(){this._queue=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in t.Pipeline.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[n]=e},t.Pipeline.getRegisteredFunction=function(e){return e in t.Pipeline.registeredFunctions!=!0?null:t.Pipeline.registeredFunctions[e]},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.getRegisteredFunction(e);if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i+1,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i,0,n)},t.Pipeline.prototype.remove=function(e){var t=this._queue.indexOf(e);-1!==t&&this._queue.splice(t,1)},t.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;n>o;o++){for(var r=e[o],s=0;i>s&&(r=this._queue[s](r,o,e),void 0!==r&&null!==r);s++);void 0!==r&&null!==r&&t.push(r)}return t},t.Pipeline.prototype.reset=function(){this._queue=[]},t.Pipeline.prototype.get=function(){return this._queue},t.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.DocumentStore,this.index={},this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},t.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;n._fields=e.fields,n._ref=e.ref,n.documentStore=t.DocumentStore.load(e.documentStore),n.pipeline=t.Pipeline.load(e.pipeline),n.index={};for(var i in e.index)n.index[i]=t.InvertedIndex.load(e.index[i]);return n},t.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new t.InvertedIndex,this},t.Index.prototype.setRef=function(e){return this._ref=e,this},t.Index.prototype.saveDocument=function(e){return this.documentStore=new t.DocumentStore(e),this},t.Index.prototype.addDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.addDoc(i,e),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));this.documentStore.addFieldLength(i,n,o.length);var r={};o.forEach(function(e){e in r?r[e]+=1:r[e]=1},this);for(var s in r){var u=r[s];u=Math.sqrt(u),this.index[n].addToken(s,{ref:i,tf:u})}},this),n&&this.eventEmitter.emit("add",e,this)}},t.Index.prototype.removeDocByRef=function(e){if(e&&this.documentStore.isDocStored()!==!1&&this.documentStore.hasDoc(e)){var t=this.documentStore.getDoc(e);this.removeDoc(t,!1)}},t.Index.prototype.removeDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.hasDoc(i)&&(this.documentStore.removeDoc(i),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));o.forEach(function(e){this.index[n].removeToken(e,i)},this)},this),n&&this.eventEmitter.emit("remove",e,this))}},t.Index.prototype.updateDoc=function(e,t){var t=void 0===t?!0:t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},t.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];var i=this.index[t].getDocFreq(e),o=1+Math.log(this.documentStore.length/(i+1));return this._idfCache[n]=o,o},t.Index.prototype.getFields=function(){return this._fields.slice()},t.Index.prototype.search=function(e,n){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var i=null;null!=n&&(i=JSON.stringify(n));for(var o=new t.Configuration(i,this.getFields()).get(),r={},s=Object.keys(e),u=0;u<s.length;u++){var a=s[u];r[a]=this.pipeline.run(t.tokenizer(e[a]))}var l={};for(var c in o){var d=r[c]||r.any;if(d){var f=this.fieldSearch(d,c,o),h=o[c].boost;for(var p in f)f[p]=f[p]*h;for(var p in f)p in l?l[p]+=f[p]:l[p]=f[p]}}var v,g=[];for(var p in l)v={ref:p,score:l[p]},this.documentStore.hasDoc(p)&&(v.doc=this.documentStore.getDoc(p)),g.push(v);return g.sort(function(e,t){return t.score-e.score}),g},t.Index.prototype.fieldSearch=function(e,t,n){var i=n[t].bool,o=n[t].expand,r=n[t].boost,s=null,u={};return 0!==r?(e.forEach(function(e){var n=[e];1==o&&(n=this.index[t].expandToken(e));var r={};n.forEach(function(n){var o=this.index[t].getDocs(n),a=this.idf(n,t);if(s&&"AND"==i){var l={};for(var c in s)c in o&&(l[c]=o[c]);o=l}n==e&&this.fieldSearchStats(u,n,o);for(var c in o){var d=this.index[t].getTermFrequency(n,c),f=this.documentStore.getFieldLength(c,t),h=1;0!=f&&(h=1/Math.sqrt(f));var p=1;n!=e&&(p=.15*(1-(n.length-e.length)/n.length));var v=d*a*h*p;c in r?r[c]+=v:r[c]=v}},this),s=this.mergeScores(s,r,i)},this),s=this.coordNorm(s,u,e.length)):void 0},t.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(var o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},t.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},t.Index.prototype.coordNorm=function(e,t,n){for(var i in e)if(i in t){var o=t[i].length;e[i]=e[i]*o/n}return e},t.Index.prototype.toJSON=function(){var e={};return this._fields.forEach(function(t){e[t]=this.index[t].toJSON()},this),{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:e,pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},t.DocumentStore=function(e){this._save=null===e||void 0===e?!0:e,this.docs={},this.docInfo={},this.length=0},t.DocumentStore.load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},t.DocumentStore.prototype.isDocStored=function(){return this._save},t.DocumentStore.prototype.addDoc=function(t,n){this.hasDoc(t)||this.length++,this.docs[t]=this._save===!0?e(n):null},t.DocumentStore.prototype.getDoc=function(e){return this.hasDoc(e)===!1?null:this.docs[e]},t.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},t.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},t.DocumentStore.prototype.addFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},t.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},t.DocumentStore.prototype.getFieldLength=function(e,t){return null===e||void 0===e?0:e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},t.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},t.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,u="^("+o+")?"+r+o+"("+r+")?$",a="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,c=new RegExp(s),d=new RegExp(a),f=new RegExp(u),h=new RegExp(l),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+o+i+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,D=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,P=/ll$/,k=new RegExp("^"+o+i+"[^aeiouwxy]$"),z=function(n){var i,o,r,s,u,a,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,u=v,s.test(n)?n=n.replace(s,"$1$2"):u.test(n)&&(n=n.replace(u,"$1$2")),s=g,u=m,s.test(n)){var z=s.exec(n);s=c,s.test(z[1])&&(s=y,n=n.replace(s,""))}else if(u.test(n)){var z=u.exec(n);i=z[1],u=h,u.test(i)&&(n=i,u=S,a=x,l=w,u.test(n)?n+="e":a.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=I,s.test(n)){var z=s.exec(n);i=z[1],n=i+"i"}if(s=b,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+e[o])}if(s=E,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+t[o])}if(s=D,u=F,s.test(n)){var z=s.exec(n);i=z[1],s=d,s.test(i)&&(n=i)}else if(u.test(n)){var z=u.exec(n);i=z[1]+z[2],u=d,u.test(i)&&(n=i)}if(s=_,s.test(n)){var z=s.exec(n);i=z[1],s=d,u=f,a=k,(s.test(i)||u.test(i)&&!a.test(i))&&(n=i)}return s=P,u=d,s.test(n)&&u.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return z}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.stopWordFilter=function(e){return e&&t.stopWordFilter.stopWords[e]!==!0?e:void 0},t.clearStopWords=function(){t.stopWordFilter.stopWords={}},t.addStopWords=function(e){null!=e&&Array.isArray(e)!==!1&&e.forEach(function(e){t.stopWordFilter.stopWords[e]=!0},this)},t.resetStopWords=function(){t.stopWordFilter.stopWords=t.defaultStopWords},t.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,"do":!0,does:!0,either:!0,"else":!0,ever:!0,every:!0,"for":!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,"if":!0,"in":!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,"this":!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,"while":!0,who:!0,whom:!0,why:!0,will:!0,"with":!0,would:!0,yet:!0,you:!0,your:!0},t.stopWordFilter.stopWords=t.defaultStopWords,t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(e){if(null===e||void 0===e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.InvertedIndex=function(){this.root={docs:{},df:0}},t.InvertedIndex.load=function(e){var t=new this;return t.root=e.root,t},t.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},t.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},t.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},t.InvertedIndex.prototype.getDocs=function(e){var t=this.getNode(e);return null==t?{}:t.docs},t.InvertedIndex.prototype.getTermFrequency=function(e,t){var n=this.getNode(e);return null==n?0:t in n.docs?n.docs[t].tf:0},t.InvertedIndex.prototype.getDocFreq=function(e){var t=this.getNode(e);return null==t?0:t.df},t.InvertedIndex.prototype.removeToken=function(e,t){if(e){var n=this.getNode(e);null!=n&&t in n.docs&&(delete n.docs[t],n.df-=1)}},t.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var t=t||[];if(void 0==n&&(n=this.getNode(e),null==n))return t;n.df>0&&t.push(e);for(var i in n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},t.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},t.Configuration=function(e,n){var e=e||"";if(void 0==n||null==n)throw new Error("fields should not be null");this.config={};var i;try{i=JSON.parse(e),this.buildUserConfig(i,n)}catch(o){t.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(n)}},t.Configuration.prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},t.Configuration.prototype.buildUserConfig=function(e,n){var i="OR",o=!1;if(this.reset(),"bool"in e&&(i=e.bool||i),"expand"in e&&(o=e.expand||o),"fields"in e)for(var r in e.fields)if(n.indexOf(r)>-1){var s=e.fields[r],u=o;void 0!=s.expand&&(u=s.expand),this.config[r]={boost:s.boost||0===s.boost?s.boost:1,bool:s.bool||i,expand:u}}else t.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(i,o,n)},t.Configuration.prototype.addAllFields2UserConfig=function(e,t,n){n.forEach(function(n){this.config[n]={boost:1,bool:e,expand:t}},this)},t.Configuration.prototype.get=function(){return this.config},t.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;){if(r===e)return o;e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;)e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o];return r>e?o:e>r?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,u=e.elements;;){if(n>o-1||i>r-1)break;s[n]!==u[i]?s[n]<u[i]?n++:s[n]>u[i]&&i++:(t.add(s[n]),n++,i++)}return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){var t,n,i;this.length>=e.length?(t=this,n=e):(t=e,n=this),i=t.clone();for(var o=0,r=n.toArray();o<r.length;o++)i.add(r[o]);return i},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.elasticlunr=t()}(this,function(){return t})}();
    /** pdoc search index */const docs = [{"fullname": "causalis", "modulename": "causalis", "kind": "module", "doc": "<p>CausalKit: A Python package for causal inference.</p>\n"}, {"fullname": "causalis.data", "modulename": "causalis.data", "kind": "module", "doc": "<p>Data generation utilities for causal inference tasks.</p>\n"}, {"fullname": "causalis.data.generate_rct", "modulename": "causalis.data", "qualname": "generate_rct", "kind": "function", "doc": "<p>Generate an RCT dataset via CausalDatasetGenerator (thin wrapper), ensuring\nrandomized treatment independent of X. Keeps y and d as float for ML compatibility.</p>\n\n<p>Notes on effect scale (how <code>outcome_params</code> maps into the structural effect):</p>\n\n<ul>\n<li>outcome_type=\"normal\": treatment shifts the mean by (mean[\"B\"] - mean[\"A\"]) on the outcome scale.</li>\n<li>outcome_type=\"binary\": treatment shifts the log-odds by (logit(p_B) - logit(p_A)).\nReported g0/g1 are on the probability scale.</li>\n<li>outcome_type=\"poisson\": treatment shifts the log-mean by log(lam_B / lam_A) where lam = shape * scale.\nReported g0/g1 are on the mean (rate) scale.</li>\n</ul>\n\n<p>Ancillary columns (if add_ancillary=True) are generated from baseline confounders X only\n(plus RNG), and do not depend on the realized outcome y nor on treatment d. This avoids\nboth outcome leakage and post-treatment adjustment/collider issues in typical ML pipelines.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20000</span>,</span><span class=\"param\">\t<span class=\"n\">split</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;binary&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_params</span><span class=\"p\">:</span> <span class=\"n\">Dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.generate_rct_data", "modulename": "causalis.data", "qualname": "generate_rct_data", "kind": "function", "doc": "<p>Backward-compatible alias for generate_rct used in documentation.\nParameters mirror generate_rct and are forwarded directly.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">20000</span>,</span><span class=\"param\">\t<span class=\"n\">split</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;binary&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_params</span><span class=\"p\">:</span> <span class=\"n\">Dict</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.obs_linear_effect", "modulename": "causalis.data", "qualname": "obs_linear_effect", "kind": "function", "doc": "<p>Generate an observational dataset with linear effects of confounders and a constant treatment effect.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>n</strong> (int, default=10_000):\nNumber of samples to generate.</li>\n<li><strong>theta</strong> (float, default=1.0):\nConstant treatment effect.</li>\n<li><strong>outcome_type</strong> ({\"continuous\", \"binary\", \"poisson\"}, default=\"continuous\"):\nFamily of the outcome distribution.</li>\n<li><strong>sigma_y</strong> (float, default=1.0):\nNoise level for continuous outcomes.</li>\n<li><strong>target_d_rate</strong> (float, optional):\nTarget treatment prevalence (propensity mean).</li>\n<li><strong>confounder_specs</strong> (list of dict, optional):\nSchema for confounder distributions.</li>\n<li><strong>beta_y</strong> (array-like, optional):\nLinear coefficients for confounders in the outcome model.</li>\n<li><strong>beta_d</strong> (array-like, optional):\nLinear coefficients for confounders in the treatment model.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for reproducibility.</li>\n<li><strong>k</strong> (int, default=0):\nNumber of confounders if specs not provided.</li>\n<li><strong>x_sampler</strong> (callable, optional):\nCustom sampler for confounders.</li>\n<li><strong>add_ancillary</strong> (bool, default=False):\nIf True, adds standard ancillary columns (age, platform, etc.).</li>\n<li><strong>deterministic_ids</strong> (bool, default=False):\nIf True, generates deterministic user IDs.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: Synthetic dataset.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.obs_linear_effect_data", "modulename": "causalis.data", "qualname": "obs_linear_effect_data", "kind": "function", "doc": "<p>Alias for obs_linear_effect for consistency with generate_rct_data.\nParameters mirror obs_linear_effect and are forwarded directly.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>,</span><span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">add_ancillary</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">deterministic_ids</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.make_gold_linear", "modulename": "causalis.data", "qualname": "make_gold_linear", "kind": "function", "doc": "<p>A standard linear benchmark with moderate confounding.\nBased on the benchmark scenario in docs/research/dgp_benchmarking.ipynb.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.SmokingDGP", "modulename": "causalis.data", "qualname": "SmokingDGP", "kind": "class", "doc": "<p>A specialized generating class for smoking-related causal scenarios.\nExample of how users can extend CausalDatasetGenerator for specific domains.</p>\n", "bases": "causalis.data.dgps.base.CausalDatasetGenerator"}, {"fullname": "causalis.data.SmokingDGP.__init__", "modulename": "causalis.data", "qualname": "SmokingDGP.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">effect_size</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span>)</span>"}, {"fullname": "causalis.data.obs_linear_26_dataset", "modulename": "causalis.data", "qualname": "obs_linear_26_dataset", "kind": "function", "doc": "<p>A pre-configured observational linear dataset with 5 standard confounders.\nBased on the scenario in docs/examples/dml_ate.ipynb.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>n</strong> (int, default=10000):\nNumber of samples.</li>\n<li><strong>seed</strong> (int, default=42):\nRandom seed.</li>\n<li><strong>return_causal_data</strong> (bool, default=True):\nIf True, returns a CausalData object. If False, returns a pandas DataFrame.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span>, </span><span class=\"param\"><span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">42</span>, </span><span class=\"param\"><span class=\"n\">return_causal_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalData", "modulename": "causalis.data", "qualname": "CausalData", "kind": "class", "doc": "<p>Container for causal inference datasets.</p>\n\n<p>Wraps a pandas DataFrame and stores the names of treatment, outcome, and optional confounder columns.\nThe stored DataFrame is restricted to only those columns.\nUses Pydantic for validation and as a data contract.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nThe DataFrame containing the data.\nOnly columns specified in outcome, treatment, and confounders will be stored.\nNaN values are not allowed in the stored/used columns.</li>\n<li><strong>treatment</strong> (str):\nColumn name representing the treatment variable.</li>\n<li><strong>outcome</strong> (str):\nColumn name representing the outcome variable.</li>\n<li><strong>confounders</strong> (Union[str, List[str]], optional):\nColumn name(s) representing the confounders/covariates.</li>\n<li><strong>user_id</strong> (str, optional):\nColumn name representing the unique identifier for each observation/user.</li>\n</ul>\n\n<h6 id=\"attributes\">Attributes</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nA copy of the original data restricted to [outcome, treatment] + confounders [+ user_id].</li>\n<li><strong>treatment</strong> (pd.Series):\nThe treatment column as a pandas Series.</li>\n<li><strong>outcome</strong> (pd.Series):\nThe outcome column as a pandas Series.</li>\n<li><strong>confounders</strong> (list[str]):\nNames of the confounder columns (may be empty).</li>\n<li><strong>user_id</strong> (pd.Series, optional):\nThe user_id column as a pandas Series (if specified).</li>\n<li><strong>X</strong> (pd.DataFrame):\nDesign matrix (baseline covariates) used for modeling: df[confounders].</li>\n</ul>\n", "bases": "pydantic.main.BaseModel"}, {"fullname": "causalis.data.CausalData.df", "modulename": "causalis.data", "qualname": "CausalData.df", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.treatment_name", "modulename": "causalis.data", "qualname": "CausalData.treatment_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.outcome_name", "modulename": "causalis.data", "qualname": "CausalData.outcome_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.confounders_names", "modulename": "causalis.data", "qualname": "CausalData.confounders_names", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[str]", "default_value": "PydanticUndefined"}, {"fullname": "causalis.data.CausalData.user_id_name", "modulename": "causalis.data", "qualname": "CausalData.user_id_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.data.CausalData.instrument_name", "modulename": "causalis.data", "qualname": "CausalData.instrument_name", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None", "default_value": "None"}, {"fullname": "causalis.data.CausalData.from_df", "modulename": "causalis.data", "qualname": "CausalData.from_df", "kind": "function", "doc": "<p>Friendly constructor for CausalData.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>df</strong> (pd.DataFrame):\nThe DataFrame containing the data.</li>\n<li><strong>treatment</strong> (str):\nColumn name representing the treatment variable.</li>\n<li><strong>outcome</strong> (str):\nColumn name representing the outcome  variable.</li>\n<li><strong>confounders</strong> (Union[str, List[str]], optional):\nColumn name(s) representing the confounders/covariates.</li>\n<li><strong>user_id</strong> (str, optional):\nColumn name representing the unique identifier for each observation/user.</li>\n<li><strong>instrument</strong> (str, optional):\nColumn name representing the instrumental variable.</li>\n<li><strong>**kwargs</strong> (Any):\nAdditional arguments passed to the Pydantic model constructor.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>CausalData</strong>: A validated CausalData instance.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">cls</span>,</span><span class=\"param\">\t<span class=\"n\">df</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>,</span><span class=\"param\">\t<span class=\"n\">treatment</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">outcome</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">user_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">instrument</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">Any</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalData.outcome", "modulename": "causalis.data", "qualname": "CausalData.outcome", "kind": "variable", "doc": "<p>Outcome column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.treatment", "modulename": "causalis.data", "qualname": "CausalData.treatment", "kind": "variable", "doc": "<p>Treatment column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.confounders", "modulename": "causalis.data", "qualname": "CausalData.confounders", "kind": "variable", "doc": "<p>List of confounder column names.</p>\n", "annotation": ": List[str]"}, {"fullname": "causalis.data.CausalData.user_id", "modulename": "causalis.data", "qualname": "CausalData.user_id", "kind": "variable", "doc": "<p>user_id column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.instrument", "modulename": "causalis.data", "qualname": "CausalData.instrument", "kind": "variable", "doc": "<p>instrument column as a Series.</p>\n", "annotation": ": pandas.core.series.Series"}, {"fullname": "causalis.data.CausalData.X", "modulename": "causalis.data", "qualname": "CausalData.X", "kind": "variable", "doc": "<p>Design matrix of confounders.</p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.data.CausalData.get_df", "modulename": "causalis.data", "qualname": "CausalData.get_df", "kind": "function", "doc": "<p>Get a DataFrame with specified columns.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">columns</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">include_treatment</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_outcome</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_confounders</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">include_user_id</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">include_instrument</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalDatasetGenerator", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator", "kind": "class", "doc": "<p>Generate synthetic causal inference datasets with controllable cofounding,\ntreatment prevalence, noise, and (optionally) heterogeneous treatment effects.</p>\n\n<p><strong>Data model (high level)</strong></p>\n\n<ul>\n<li>confounders X \u2208 R^k are drawn from user-specified distributions.</li>\n<li>Binary treatment D is assigned by a logistic model:\n  D ~ Bernoulli( sigmoid(alpha_d + f_d(X) + u_strength_d * U) ),\nwhere f_d(X) = X @ beta_d + g_d(X), and U ~ N(0,1) is an optional unobserved confounder.</li>\n<li>Outcome Y depends on treatment and confounders with link determined by <code>outcome_type</code>:\n  outcome_type = \"continuous\":\n      Y = alpha_y + f_y(X) + u_strength_y * U + T * tau(X) + \u03b5,  \u03b5 ~ N(0, sigma_y^2)\n  outcome_type = \"binary\":\n      logit P(Y=1|T,X) = alpha_y + f_y(X) + u_strength_y * U + T * tau(X)\n  outcome_type = \"poisson\":\n      log E[Y|T,X]     = alpha_y + f_y(X) + u_strength_y * U + T * tau(X)\nwhere f_y(X) = X @ beta_y + g_y(X), and tau(X) is either constant <code>theta</code> or a user function.</li>\n</ul>\n\n<p><strong>Returned columns</strong></p>\n\n<ul>\n<li>y: outcome</li>\n<li>d: binary treatment (0/1)</li>\n<li>x1..xk (or user-provided names)</li>\n<li>m   : true propensity P(T=1 | X)</li>\n<li>tau_link: tau(X) on the structural (link) scale (mean-diff for continuous; log-odds for binary; log-mean for Poisson)</li>\n<li>g0  : E[Y | X, T=0] on the natural outcome scale</li>\n<li>g1  : E[Y | X, T=1] on the natural outcome scale</li>\n<li>cate: g1 - g0 (conditional average treatment effect on the natural outcome scale)</li>\n</ul>\n\n<p>Notes on effect scale:</p>\n\n<ul>\n<li>For \"continuous\", <code>theta</code> (or tau(X)) is an additive mean difference, so <code>tau_link == cate</code> (up to noise).</li>\n<li>For \"binary\", tau acts on the <em>log-odds</em> scale (log-odds ratio). <code>cate</code> is reported as a risk difference\n(probability scale) and can be heterogeneous even if <code>tau_link</code> is constant, because it depends on baseline risk.</li>\n<li>For \"poisson\", tau acts on the <em>log-mean</em> scale (log incidence-rate ratio). <code>cate</code> is reported on the mean\n(rate) scale and can be heterogeneous even if <code>tau_link</code> is constant, because it depends on the baseline mean.</li>\n</ul>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>theta</strong> (float, default=1.0):\nConstant treatment effect used if <code>tau</code> is None.</li>\n<li><strong>tau</strong> (callable or None, default=None):\nFunction tau(X) -> array-like shape (n,) for heterogeneous effects. Ignored if None.</li>\n<li><strong>beta_y</strong> (array-like of shape (k,), optional):\nLinear coefficients of confounders in the outcome baseline f_y(X). Length must match the expanded X after one-hot encoding.</li>\n<li><strong>beta_d</strong> (array-like of shape (k,), optional):\nLinear coefficients of confounders in the treatment score f_t(X) (log-odds scale). Length must match the expanded X after one-hot encoding.</li>\n<li><strong>g_y</strong> (callable, optional):\nNonlinear/additive function g_y(X) -> (n,) added to the outcome baseline.</li>\n<li><strong>g_d</strong> (callable, optional):\nNonlinear/additive function g_d(X) -> (n,) added to the treatment score.</li>\n<li><strong>alpha_y</strong> (float, default=0.0):\nOutcome intercept (natural scale for continuous; log-odds for binary; log-mean for Poisson).</li>\n<li><strong>alpha_d</strong> (float, default=0.0):\nTreatment intercept (log-odds). If <code>target_d_rate</code> is set, <code>alpha_d</code> is auto-calibrated.</li>\n<li><strong>sigma_y</strong> (float, default=1.0):\nStd. dev. of the Gaussian noise for continuous outcomes.</li>\n<li><strong>outcome_type</strong> ({\"continuous\",\"binary\",\"poisson\"}, default=\"continuous\"):\nOutcome family and link as defined above.</li>\n<li><strong>confounder_specs</strong> (list of dict, optional):\nSchema for generating confounders. Each spec is one of:\n  {\"name\": str, \"dist\": \"normal\",   \"mu\": float, \"sd\": float}\n  {\"name\": str, \"dist\": \"uniform\",  \"a\": float,  \"b\": float}\n  {\"name\": str, \"dist\": \"bernoulli\",\"p\": float}\n  {\"name\": str, \"dist\": \"categorical\", \"categories\": list, \"probs\": list}\n<ul>\n<li>For \"categorical\", one-hot encoding is produced for all levels except the first.</li>\n</ul></li>\n<li><strong>k</strong> (int, default=5):\nNumber of confounders when <code>confounder_specs</code> is None. Defaults to independent N(0,1).</li>\n<li><strong>x_sampler</strong> (callable, optional):\nCustom sampler (n, k, seed) -> X ndarray of shape (n,k). Overrides <code>confounder_specs</code> and <code>k</code>.</li>\n<li><p><strong>target_d_rate</strong> (float in (0,1), optional):\nIf set, calibrates <code>alpha_d</code> via bisection so that the <em>sample mean</em> treatment propensity\nmatches <code>target_d_rate</code>.</p>\n\n<p>Important when <code>u_strength_d != 0</code>:\ncalibration is performed conditional on the realized draw of the unobserved confounder <code>U</code>\n(i.e., it targets the sample mean of <code>m_obs = P(D=1|X,U)</code>). This makes the treatment share\nmatch in-sample.</p>\n\n<p>If you need population calibration (integrating out <code>U</code>, i.e. matching the mean of\n<code>m = P(D=1|X) = E_U[m_obs]</code>), you would instead solve for <code>alpha_d</code> against the marginal\npropensity <code>m</code> (e.g., using Gauss\u2013Hermite quadrature, analogous to how <code>m</code> is computed).</p></li>\n<li><strong>u_strength_d</strong> (float, default=0.0):\nStrength of the unobserved confounder U in treatment assignment.</li>\n<li><strong>u_strength_y</strong> (float, default=0.0):\nStrength of the unobserved confounder U in the outcome.</li>\n<li><strong>seed</strong> (int, optional):\nRandom seed for reproducibility.</li>\n</ul>\n\n<h6 id=\"attributes\">Attributes</h6>\n\n<ul>\n<li><strong>rng</strong> (numpy.random.Generator):\nInternal RNG seeded from <code>seed</code>.</li>\n</ul>\n"}, {"fullname": "causalis.data.CausalDatasetGenerator.__init__", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">theta</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">tau</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_y</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">beta_d</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_y</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">g_d</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">alpha_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">alpha_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">sigma_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">outcome_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;continuous&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confounder_specs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">x_sampler</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">use_copula</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">copula_corr</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">target_d_rate</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">u_strength_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">u_strength_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">propensity_sharpness</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.data.CausalDatasetGenerator.theta", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.theta", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.tau", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.tau", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.beta_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.beta_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.beta_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.beta_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.g_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.g_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.g_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.g_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[numpy.ndarray], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.alpha_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.alpha_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.alpha_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.alpha_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.sigma_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.sigma_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.outcome_type", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.outcome_type", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "causalis.data.CausalDatasetGenerator.confounder_specs", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.confounder_specs", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[Dict[str, Any]] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.k", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.k", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "causalis.data.CausalDatasetGenerator.x_sampler", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.x_sampler", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[int, int, int], numpy.ndarray] | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.use_copula", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.use_copula", "kind": "variable", "doc": "<p></p>\n", "annotation": ": bool"}, {"fullname": "causalis.data.CausalDatasetGenerator.copula_corr", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.copula_corr", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.target_d_rate", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.target_d_rate", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.u_strength_d", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.u_strength_d", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.u_strength_y", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.u_strength_y", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.propensity_sharpness", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.propensity_sharpness", "kind": "variable", "doc": "<p></p>\n", "annotation": ": float"}, {"fullname": "causalis.data.CausalDatasetGenerator.seed", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.seed", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int | None"}, {"fullname": "causalis.data.CausalDatasetGenerator.rng", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.rng", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.random._generator.Generator"}, {"fullname": "causalis.data.CausalDatasetGenerator.generate", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.generate", "kind": "function", "doc": "<p>Draw a synthetic dataset of size <code>n</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalDatasetGenerator.to_causal_data", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.to_causal_data", "kind": "function", "doc": "<p>Generate a dataset and convert it to a CausalData object.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">confounders</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">|</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.data.CausalDatasetGenerator.oracle_nuisance", "modulename": "causalis.data", "qualname": "CausalDatasetGenerator.oracle_nuisance", "kind": "function", "doc": "<p>Return nuisance functions (m(x), g0(x), g1(x)) compatible with IRM.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">num_quad</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">21</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference", "modulename": "causalis.inference", "kind": "module", "doc": "<p>Analysis module for causalis.</p>\n\n<p>This module provides statistical inference tools for causal inference.</p>\n"}, {"fullname": "causalis.inference.ttest", "modulename": "causalis.inference", "qualname": "ttest", "kind": "function", "doc": "<p>Perform a t-test on a CausalData object to compare the outcome variable between\ntreated (T=1) and control (T=0) groups. Returns differences and confidence intervals.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: The p-value from the t-test</li>\n<li>absolute_difference: The absolute difference between treatment and control means</li>\n<li>absolute_ci: Tuple of (lower, upper) bounds for the absolute difference confidence interval</li>\n<li>relative_difference: The relative difference (percentage change) between treatment and control means</li>\n<li>relative_ci: Tuple of (lower, upper) bounds for the relative difference confidence interval</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the CausalData object doesn't have both treatment and outcome variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.conversion_z_test", "modulename": "causalis.inference", "qualname": "conversion_z_test", "kind": "function", "doc": "<p>Perform a two-proportion z-test on a CausalData object with a binary outcome (conversion).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: Two-sided p-value from the z-test</li>\n<li>absolute_difference: Difference in conversion rates (treated - control)</li>\n<li>absolute_ci: Tuple (lower, upper) for the absolute difference CI</li>\n<li>relative_difference: Percentage change relative to control rate</li>\n<li>relative_ci: Tuple (lower, upper) for the relative difference CI</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment/outcome are missing, treatment is not binary, outcome is not binary,\ngroups are empty, or confidence_level is outside (0, 1).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.bootstrap_diff_means", "modulename": "causalis.inference", "qualname": "bootstrap_diff_means", "kind": "function", "doc": "<p>Bootstrap inference for difference in means between treated (T=1) and control (T=0).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for the percentile confidence interval (0 &lt; level &lt; 1).</li>\n<li><strong>n_simul</strong> (int, default 10000):\nNumber of bootstrap resamples.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary with p_value, absolute_difference, absolute_ci, relative_difference, relative_ci\n(matching the structure of inference.atte.ttest).</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If inputs are invalid, treatment is not binary, or groups are empty.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">n_simul</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.dml_atte_source", "modulename": "causalis.inference", "qualname": "dml_atte_source", "kind": "function", "doc": "<p>Estimate average treatment effects on the treated using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect on the treated</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.atte</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_atte_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ck</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATT using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_atte_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATT: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate", "modulename": "causalis.inference.ate", "kind": "module", "doc": "<p>Average Treatment Effect (ATE) inference methods for causalis.</p>\n\n<p>This module provides methods for estimating average treatment effects.</p>\n"}, {"fullname": "causalis.inference.ate.dml_ate_source", "modulename": "causalis.inference.ate", "qualname": "dml_ate_source", "kind": "function", "doc": "<p>Estimate average treatment effects using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>score</strong> (str, default \"ATE\"):\nA str (\"ATE\" or \"ATTE\") specifying the score function.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.ate</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_ate_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">causal_data</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATE using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_ate_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATE: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate.dml_ate", "modulename": "causalis.inference.ate", "qualname": "dml_ate", "kind": "function", "doc": "<p>Estimate average treatment effects using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>score</strong> ({\"ATE\",\"ATTE\"}, default \"ATE\"):\nTarget estimand.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate.dml_ate", "modulename": "causalis.inference.ate.dml_ate", "kind": "module", "doc": "<p>IRM implementation for estimating average treatment effects.</p>\n\n<p>This module provides a function dml_ate to estimate average treatment effects using\nour internal DoubleML-style IRM estimator that consumes CausalData directly.</p>\n"}, {"fullname": "causalis.inference.ate.dml_ate.dml_ate", "modulename": "causalis.inference.ate.dml_ate", "qualname": "dml_ate", "kind": "function", "doc": "<p>Estimate average treatment effects using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>score</strong> ({\"ATE\",\"ATTE\"}, default \"ATE\"):\nTarget estimand.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.ate.dml_ate_source", "modulename": "causalis.inference.ate.dml_ate_source", "kind": "module", "doc": "<p>DoubleML implementation for estimating average treatment effects.</p>\n\n<p>This module provides a function to estimate average treatment effects using DoubleML.</p>\n"}, {"fullname": "causalis.inference.ate.dml_ate_source.dml_ate_source", "modulename": "causalis.inference.ate.dml_ate_source", "qualname": "dml_ate_source", "kind": "function", "doc": "<p>Estimate average treatment effects using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>score</strong> (str, default \"ATE\"):\nA str (\"ATE\" or \"ATTE\") specifying the score function.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.ate</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_ate_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">causal_data</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATE using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_ate_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATE: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte", "modulename": "causalis.inference.atte", "kind": "module", "doc": "<p>Average Treatment Effect on the Treated (ATT) inference methods for causalis.</p>\n\n<p>This module provides methods for estimating average treatment effects on the treated.</p>\n"}, {"fullname": "causalis.inference.atte.dml_atte_source", "modulename": "causalis.inference.atte", "qualname": "dml_atte_source", "kind": "function", "doc": "<p>Estimate average treatment effects on the treated using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect on the treated</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.atte</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_atte_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ck</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATT using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_atte_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATT: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.dml_atte", "modulename": "causalis.inference.atte", "qualname": "dml_atte", "kind": "function", "doc": "<p>Estimate average treatment effect on the treated (ATT) using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.ttest", "modulename": "causalis.inference.atte", "qualname": "ttest", "kind": "function", "doc": "<p>Perform a t-test on a CausalData object to compare the outcome variable between\ntreated (T=1) and control (T=0) groups. Returns differences and confidence intervals.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: The p-value from the t-test</li>\n<li>absolute_difference: The absolute difference between treatment and control means</li>\n<li>absolute_ci: Tuple of (lower, upper) bounds for the absolute difference confidence interval</li>\n<li>relative_difference: The relative difference (percentage change) between treatment and control means</li>\n<li>relative_ci: Tuple of (lower, upper) bounds for the relative difference confidence interval</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the CausalData object doesn't have both treatment and outcome variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.conversion_z_test", "modulename": "causalis.inference.atte", "qualname": "conversion_z_test", "kind": "function", "doc": "<p>Perform a two-proportion z-test on a CausalData object with a binary outcome (conversion).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: Two-sided p-value from the z-test</li>\n<li>absolute_difference: Difference in conversion rates (treated - control)</li>\n<li>absolute_ci: Tuple (lower, upper) for the absolute difference CI</li>\n<li>relative_difference: Percentage change relative to control rate</li>\n<li>relative_ci: Tuple (lower, upper) for the relative difference CI</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment/outcome are missing, treatment is not binary, outcome is not binary,\ngroups are empty, or confidence_level is outside (0, 1).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.bootstrap_diff_means", "modulename": "causalis.inference.atte", "qualname": "bootstrap_diff_means", "kind": "function", "doc": "<p>Bootstrap inference for difference in means between treated (T=1) and control (T=0).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for the percentile confidence interval (0 &lt; level &lt; 1).</li>\n<li><strong>n_simul</strong> (int, default 10000):\nNumber of bootstrap resamples.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary with p_value, absolute_difference, absolute_ci, relative_difference, relative_ci\n(matching the structure of inference.atte.ttest).</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If inputs are invalid, treatment is not binary, or groups are empty.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">n_simul</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.bootstrap_diff_means", "modulename": "causalis.inference.atte.bootstrap_diff_means", "kind": "module", "doc": "<p>Bootstrap difference-in-means inference for CausalData (ATT context).</p>\n\n<p>Computes the ATT-style difference in means (treated - control) and provides:</p>\n\n<ul>\n<li>Two-sided p-value using a normal approximation with bootstrap standard error</li>\n<li>Percentile confidence interval for the absolute difference</li>\n<li>Relative difference (%) and corresponding CI relative to control mean</li>\n</ul>\n\n<p>Input:</p>\n\n<ul>\n<li>data: CausalData</li>\n<li>confidence_level: float in (0, 1), default 0.95</li>\n<li>n_simul: number of bootstrap simulations (int &gt; 0), default 10000</li>\n</ul>\n\n<p>Output: dict with the same keys as ttest:</p>\n\n<ul>\n<li>p_value</li>\n<li>absolute_difference</li>\n<li>absolute_ci: (low, high)</li>\n<li>relative_difference</li>\n<li>relative_ci: (low, high)</li>\n</ul>\n"}, {"fullname": "causalis.inference.atte.bootstrap_diff_means.bootstrap_diff_means", "modulename": "causalis.inference.atte.bootstrap_diff_means", "qualname": "bootstrap_diff_means", "kind": "function", "doc": "<p>Bootstrap inference for difference in means between treated (T=1) and control (T=0).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for the percentile confidence interval (0 &lt; level &lt; 1).</li>\n<li><strong>n_simul</strong> (int, default 10000):\nNumber of bootstrap resamples.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Dictionary with p_value, absolute_difference, absolute_ci, relative_difference, relative_ci\n(matching the structure of inference.atte.ttest).</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If inputs are invalid, treatment is not binary, or groups are empty.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">n_simul</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">10000</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.conversion_z_test", "modulename": "causalis.inference.atte.conversion_z_test", "kind": "module", "doc": "<p>Two-proportion z-test for conversion data in CausalData (ATT context).</p>\n\n<p>Compares conversion rates between treated (T=1) and control (T=0) groups.\nReturns p-value, absolute/relative differences, and their confidence intervals\n(similar structure to inference.atte.ttest).</p>\n"}, {"fullname": "causalis.inference.atte.conversion_z_test.conversion_z_test", "modulename": "causalis.inference.atte.conversion_z_test", "qualname": "conversion_z_test", "kind": "function", "doc": "<p>Perform a two-proportion z-test on a CausalData object with a binary outcome (conversion).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: Two-sided p-value from the z-test</li>\n<li>absolute_difference: Difference in conversion rates (treated - control)</li>\n<li>absolute_ci: Tuple (lower, upper) for the absolute difference CI</li>\n<li>relative_difference: Percentage change relative to control rate</li>\n<li>relative_ci: Tuple (lower, upper) for the relative difference CI</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment/outcome are missing, treatment is not binary, outcome is not binary,\ngroups are empty, or confidence_level is outside (0, 1).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.dml_atte", "modulename": "causalis.inference.atte.dml_atte", "kind": "module", "doc": "<p>Simple IRM-based implementation for estimating ATT (Average Treatment effect on the Treated).</p>\n\n<p>This module provides a function dml_att_s to estimate ATT using our internal\nDoubleML-style IRM estimator that consumes CausalData directly (not DoubleML).</p>\n"}, {"fullname": "causalis.inference.atte.dml_atte.dml_atte", "modulename": "causalis.inference.atte.dml_atte", "qualname": "dml_atte", "kind": "function", "doc": "<p>Estimate average treatment effect on the treated (ATT) using the internal IRM estimator.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment, outcome, and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nLearner for g(D,X)=E[Y|X,D]. If outcome is binary and learner is classifier,\npredict_proba will be used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier, optional):\nLearner for m(X)=E[D|X] (propensity). If None, a CatBoostClassifier is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions (currently only 1 supported by IRM).</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nConfidence level for CI in (0,1).</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> (str, default \"truncate\"):\nTrimming approach for propensity (only \"truncate\" supported).</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nTrimming threshold for propensity.</li>\n<li><strong>random_state</strong> (int, optional):\nRandom seed for fold creation.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: Keys: coefficient, std_error, p_value, confidence_interval, model</li>\n</ul>\n\n<h6 id=\"notes\">Notes</h6>\n\n<p>By default, this function stores a comprehensive 'diagnostic_data' dictionary in the result.\nYou can disable this by setting store_diagnostic_data=False.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">store_diagnostic_data</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.dml_atte_source", "modulename": "causalis.inference.atte.dml_atte_source", "kind": "module", "doc": "<p>DoubleML implementation for estimating average treatment effects on the treated.</p>\n\n<p>This module provides a function to estimate average treatment effects on the treated using DoubleML.</p>\n"}, {"fullname": "causalis.inference.atte.dml_atte_source.dml_atte_source", "modulename": "causalis.inference.atte.dml_atte_source", "qualname": "dml_atte_source", "kind": "function", "doc": "<p>Estimate average treatment effects on the treated using DoubleML's interactive regression model (IRM).</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe causaldata object containing treatment, target, and confounders variables.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nA machine learner implementing <code>fit()</code> and <code>predict()</code> methods for the nuisance function g_0(D,X) = E[Y|X,D].\nIf None, a CatBoostRegressor configured to use all CPU cores is used.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nA machine learner implementing <code>fit()</code> and <code>predict_proba()</code> methods for the nuisance function m_0(X) = E[D|X].\nIf None, a CatBoostClassifier configured to use all CPU cores is used.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for the sample splitting.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>coefficient: The estimated average treatment effect on the treated</li>\n<li>std_error: The standard error of the estimate</li>\n<li>p_value: The p-value for the null hypothesis that the effect is zero</li>\n<li>confidence_interval: Tuple of (lower, upper) bounds for the confidence interval</li>\n<li>model: The fitted DoubleMLIRM object</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the causaldata object doesn't have treatment, target, and confounders variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n\n<h6 id=\"examples\">Examples</h6>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">generate_rct_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.data</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">CausalData</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">causalis.inference.atte</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">dml_atte_source</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Generate data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">generate_rct_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Create causaldata object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ck</span> <span class=\"o\">=</span> <span class=\"n\">CausalData</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">outcome</span><span class=\"o\">=</span><span class=\"s1\">&#39;outcome&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">treatment</span><span class=\"o\">=</span><span class=\"s1\">&#39;treatment&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">confounders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;age&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;invited_friend&#39;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Estimate ATT using DoubleML</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">dml_atte_source</span><span class=\"p\">(</span><span class=\"n\">ck</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;ATT: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;coefficient&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Standard Error: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;std_error&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;P-value: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span><span class=\"si\">:</span><span class=\"s2\">.4f</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;Confidence Interval: </span><span class=\"si\">{</span><span class=\"n\">results</span><span class=\"p\">[</span><span class=\"s1\">&#39;confidence_interval&#39;</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.atte.ttest", "modulename": "causalis.inference.atte.ttest", "kind": "module", "doc": "<p>T-test inference for causaldata objects (ATT context).</p>\n"}, {"fullname": "causalis.inference.atte.ttest.ttest", "modulename": "causalis.inference.atte.ttest", "qualname": "ttest", "kind": "function", "doc": "<p>Perform a t-test on a CausalData object to compare the outcome variable between\ntreated (T=1) and control (T=0) groups. Returns differences and confidence intervals.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nThe CausalData object containing treatment and outcome variables.</li>\n<li><strong>confidence_level</strong> (float, default 0.95):\nThe confidence level for calculating confidence intervals (between 0 and 1).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>Dict[str, Any]</strong>: A dictionary containing:\n<ul>\n<li>p_value: The p-value from the t-test</li>\n<li>absolute_difference: The absolute difference between treatment and control means</li>\n<li>absolute_ci: Tuple of (lower, upper) bounds for the absolute difference confidence interval</li>\n<li>relative_difference: The relative difference (percentage change) between treatment and control means</li>\n<li>relative_ci: Tuple of (lower, upper) bounds for the relative difference confidence interval</li>\n</ul></li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If the CausalData object doesn't have both treatment and outcome variables defined,\nor if the treatment variable is not binary.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.cate", "modulename": "causalis.inference.cate", "kind": "module", "doc": "<p>Conditional Average Treatment Effect (CATE) inference methods for causalis.</p>\n\n<p>This submodule provides methods for estimating conditional average treatment effects.</p>\n"}, {"fullname": "causalis.inference.cate.cate_esimand", "modulename": "causalis.inference.cate", "qualname": "cate_esimand", "kind": "function", "doc": "<p>Estimate per-observation CATEs using DoubleML IRM and return a DataFrame with a new 'cate' column.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nA CausalData object with defined outcome (outcome), treatment (binary 0/1), and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nML learner for outcome regression g(D, X) = E[Y | D, X] supporting fit/predict.\nDefaults to CatBoostRegressor if None.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nML learner for propensity m(X) = P[D=1 | X] supporting fit/predict_proba.\nDefaults to CatBoostClassifier if None.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for sample splitting.</li>\n<li><strong>use_blp</strong> (bool, default False):\nIf True, and X_new is provided, returns cate from obj.blp_predict(X_new) aligned to X_new.\nIf False (default), uses obj._orthogonal_signals (in-sample estimates) and appends to data.</li>\n<li><strong>X_new</strong> (pd.DataFrame, optional):\nNew covariate matrix for out-of-sample CATE prediction via best linear predictor.\nMust contain the same feature columns as the confounders in <code>data</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: If use_blp is False: returns a copy of data.df with a new column 'cate'.\nIf use_blp is True and X_new is provided: returns a DataFrame with 'cate' column for X_new rows.</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment is not binary 0/1 or required metadata is missing.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">use_blp</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">X_new</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.cate.cate_esimand", "modulename": "causalis.inference.cate.cate_esimand", "kind": "module", "doc": "<p>DoubleML implementation for estimating CATE (per-observation orthogonal signals).</p>\n\n<p>This module provides a function that, given a CausalData object, fits a DoubleML IRM\nmodel and augments the data with a new column 'cate' that contains the orthogonal\nsignals (an estimate of the conditional average treatment effect for each unit).</p>\n"}, {"fullname": "causalis.inference.cate.cate_esimand.cate_esimand", "modulename": "causalis.inference.cate.cate_esimand", "qualname": "cate_esimand", "kind": "function", "doc": "<p>Estimate per-observation CATEs using DoubleML IRM and return a DataFrame with a new 'cate' column.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nA CausalData object with defined outcome (outcome), treatment (binary 0/1), and confounders.</li>\n<li><strong>ml_g</strong> (estimator, optional):\nML learner for outcome regression g(D, X) = E[Y | D, X] supporting fit/predict.\nDefaults to CatBoostRegressor if None.</li>\n<li><strong>ml_m</strong> (classifier, optional):\nML learner for propensity m(X) = P[D=1 | X] supporting fit/predict_proba.\nDefaults to CatBoostClassifier if None.</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of folds for cross-fitting.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions for sample splitting.</li>\n<li><strong>use_blp</strong> (bool, default False):\nIf True, and X_new is provided, returns cate from obj.blp_predict(X_new) aligned to X_new.\nIf False (default), uses obj._orthogonal_signals (in-sample estimates) and appends to data.</li>\n<li><strong>X_new</strong> (pd.DataFrame, optional):\nNew covariate matrix for out-of-sample CATE prediction via best linear predictor.\nMust contain the same feature columns as the confounders in <code>data</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>pd.DataFrame</strong>: If use_blp is False: returns a copy of data.df with a new column 'cate'.\nIf use_blp is True and X_new is provided: returns a DataFrame with 'cate' column for X_new rows.</li>\n</ul>\n\n<h6 id=\"raises\">Raises</h6>\n\n<ul>\n<li><strong>ValueError</strong>: If treatment is not binary 0/1 or required metadata is missing.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">use_blp</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">X_new</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators", "modulename": "causalis.inference.estimators", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM", "modulename": "causalis.inference.estimators", "qualname": "IRM", "kind": "class", "doc": "<p>Interactive Regression Model (IRM) with DoubleML-style cross-fitting using CausalData.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>data</strong> (CausalData):\nData container with outcome, binary treatment (0/1), and confounders.</li>\n<li><strong>ml_g</strong> (estimator):\nLearner for E[Y|X,D]. If classifier and Y is binary, predict_proba is used; otherwise predict().</li>\n<li><strong>ml_m</strong> (classifier):\nLearner for E[D|X] (propensity). Must support predict_proba() or predict() in (0,1).</li>\n<li><strong>n_folds</strong> (int, default 5):\nNumber of cross-fitting folds.</li>\n<li><strong>n_rep</strong> (int, default 1):\nNumber of repetitions of sample splitting. Currently only 1 is supported.</li>\n<li><strong>score</strong> ({\"ATE\",\"ATTE\"}, default \"ATE\"):\nTarget estimand.</li>\n<li><strong>normalize_ipw</strong> (bool, default False):\nWhether to normalize IPW terms within the score.</li>\n<li><strong>trimming_rule</strong> ({\"truncate\"}, default \"truncate\"):\nTrimming approach for propensity scores.</li>\n<li><strong>trimming_threshold</strong> (float, default 1e-2):\nThreshold for trimming if rule is \"truncate\".</li>\n<li><strong>weights</strong> (Optional[np.ndarray or Dict], default None):\nOptional weights. If array of shape (n,), used as ATE weights. For ATTE, computed internally.</li>\n<li><strong>random_state</strong> (Optional[int], default None):\nRandom seed for fold creation.</li>\n</ul>\n", "bases": "sklearn.base.BaseEstimator"}, {"fullname": "causalis.inference.estimators.IRM.__init__", "modulename": "causalis.inference.estimators", "qualname": "IRM.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"o\">*</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">score</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;ATE&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">normalize_ipw</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_rule</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;truncate&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">trimming_threshold</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>,</span><span class=\"param\">\t<span class=\"n\">weights</span><span class=\"p\">:</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">ndarray</span> <span class=\"o\">|</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">random_state</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "causalis.inference.estimators.IRM.data", "modulename": "causalis.inference.estimators", "qualname": "IRM.data", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.ml_g", "modulename": "causalis.inference.estimators", "qualname": "IRM.ml_g", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.ml_m", "modulename": "causalis.inference.estimators", "qualname": "IRM.ml_m", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.n_folds", "modulename": "causalis.inference.estimators", "qualname": "IRM.n_folds", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.n_rep", "modulename": "causalis.inference.estimators", "qualname": "IRM.n_rep", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.score", "modulename": "causalis.inference.estimators", "qualname": "IRM.score", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.normalize_ipw", "modulename": "causalis.inference.estimators", "qualname": "IRM.normalize_ipw", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.trimming_rule", "modulename": "causalis.inference.estimators", "qualname": "IRM.trimming_rule", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.trimming_threshold", "modulename": "causalis.inference.estimators", "qualname": "IRM.trimming_threshold", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.weights", "modulename": "causalis.inference.estimators", "qualname": "IRM.weights", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.random_state", "modulename": "causalis.inference.estimators", "qualname": "IRM.random_state", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "causalis.inference.estimators.IRM.g0_hat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.g0_hat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.g1_hat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.g1_hat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.m_hat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.m_hat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.psi_a_", "modulename": "causalis.inference.estimators", "qualname": "IRM.psi_a_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.psi_b_", "modulename": "causalis.inference.estimators", "qualname": "IRM.psi_b_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.psi_", "modulename": "causalis.inference.estimators", "qualname": "IRM.psi_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.coef_", "modulename": "causalis.inference.estimators", "qualname": "IRM.coef_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.se_", "modulename": "causalis.inference.estimators", "qualname": "IRM.se_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.t_stat_", "modulename": "causalis.inference.estimators", "qualname": "IRM.t_stat_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.pval_", "modulename": "causalis.inference.estimators", "qualname": "IRM.pval_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.confint_", "modulename": "causalis.inference.estimators", "qualname": "IRM.confint_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.summary_", "modulename": "causalis.inference.estimators", "qualname": "IRM.summary_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame | None"}, {"fullname": "causalis.inference.estimators.IRM.folds_", "modulename": "causalis.inference.estimators", "qualname": "IRM.folds_", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray | None"}, {"fullname": "causalis.inference.estimators.IRM.sensitivity_summary", "modulename": "causalis.inference.estimators", "qualname": "IRM.sensitivity_summary", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str | None"}, {"fullname": "causalis.inference.estimators.IRM.fit", "modulename": "causalis.inference.estimators", "qualname": "IRM.fit", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">inference</span><span class=\"o\">.</span><span class=\"n\">estimators</span><span class=\"o\">.</span><span class=\"n\">irm</span><span class=\"o\">.</span><span class=\"n\">IRM</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.IRM.coef", "modulename": "causalis.inference.estimators", "qualname": "IRM.coef", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.se", "modulename": "causalis.inference.estimators", "qualname": "IRM.se", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.pvalues", "modulename": "causalis.inference.estimators", "qualname": "IRM.pvalues", "kind": "variable", "doc": "<p></p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.summary", "modulename": "causalis.inference.estimators", "qualname": "IRM.summary", "kind": "variable", "doc": "<p></p>\n", "annotation": ": pandas.core.frame.DataFrame"}, {"fullname": "causalis.inference.estimators.IRM.orth_signal", "modulename": "causalis.inference.estimators", "qualname": "IRM.orth_signal", "kind": "variable", "doc": "<p>Returns the cross-fitted orthogonal signal (psi).</p>\n", "annotation": ": numpy.ndarray"}, {"fullname": "causalis.inference.estimators.IRM.gate", "modulename": "causalis.inference.estimators", "qualname": "IRM.gate", "kind": "function", "doc": "<p>Estimate Group Average Treatment Effects via BLP on orthogonal signal.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>groups</strong> (pd.DataFrame or pd.Series):\nGroup indicators or labels.\n<ul>\n<li>If a single column (Series or 1-col DataFrame) with non-boolean values,\nit is treated as categorical labels and one-hot encoded.</li>\n<li>If multiple columns or boolean/int indicators, it is used as the basis directly.</li>\n</ul></li>\n<li><strong>level</strong> (float):\nConfidence level for intervals (passed to BLP).</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>BLP</strong>: Fitted Best Linear Predictor model.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">groups</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span>,</span><span class=\"param\">\t<span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">inference</span><span class=\"o\">.</span><span class=\"n\">estimators</span><span class=\"o\">.</span><span class=\"n\">blp</span><span class=\"o\">.</span><span class=\"n\">BLP</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.IRM.sensitivity_analysis", "modulename": "causalis.inference.estimators", "qualname": "IRM.sensitivity_analysis", "kind": "function", "doc": "<p>Compute a simple sensitivity summary and store it as <code>sensitivity_summary</code>.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>cf_y</strong> (float):\nSensitivity parameter for outcome equation.</li>\n<li><strong>cf_d</strong> (float):\nSensitivity parameter for treatment equation.</li>\n<li><strong>rho</strong> (float, default 1.0):\nCorrelation between unobserved components (display only here).</li>\n<li><strong>level</strong> (float, default 0.95):\nConfidence level for CI bounds display.</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">cf_y</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">cf_d</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">rho</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">inference</span><span class=\"o\">.</span><span class=\"n\">estimators</span><span class=\"o\">.</span><span class=\"n\">irm</span><span class=\"o\">.</span><span class=\"n\">IRM</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.IRM.confint", "modulename": "causalis.inference.estimators", "qualname": "IRM.confint", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.BLP", "modulename": "causalis.inference.estimators", "qualname": "BLP", "kind": "class", "doc": "<p>Best linear predictor (BLP) with orthogonal signals.\nMainly used for CATE and GATE estimation for IRM models.</p>\n\n<p>The Best Linear Predictor (BLP) targets the coefficient vector \\( \\beta_0 \\) that minimizes the mean squared error\nbetween the true treatment effect function \\( \\tau(X) \\) and a linear combination of basis functions \\( b(X) \\):</p>\n\n<p>$$\\beta_0 = \\arg\\min_{\\beta \\in \\mathbb{R}^K} \\mathbb{E}\\Big[\\big(\\tau(X) - b(X)^\\top \\beta \\big)^2\\Big].$$</p>\n\n<p>This is characterized by the moment condition:</p>\n\n<p>$$\\mathbb{E}[b(X)\\psi] = \\mathbb{E}[b(X)b(X)^\\top]\\beta_0,$$</p>\n\n<p>where \\( \\psi \\) is the orthogonal signal such that \\( \\mathbb{E}[\\psi \\mid X] = \\tau(X) \\).</p>\n\n<p>The estimator is obtained via OLS of the orthogonal signal on the basis:</p>\n\n<p>$$\\hat{\\beta} = (B^\\top B)^{-1}B^\\top\\psi.$$</p>\n\n<p><strong>GATE (Group Average Treatment Effect)</strong></p>\n\n<p>When <code>is_gate=True</code>, the basis consists of group indicators (dummy variables).\nIn this case, the BLP coefficients correspond to the group means of the orthogonal signal,\nwhich approximate the GATEs:</p>\n\n<p>$$\\hat{\\beta}_k = \\frac{1}{n_k}\\sum_{i:G_i=k}\\psi_i \\approx \\text{GATE}_k.$$</p>\n\n<p><strong>Confidence Intervals</strong></p>\n\n<p>Confidence intervals for any linear combination \\( \\hat{g} = A\\hat{\\beta} \\) are computed using the estimated covariance matrix \\( \\widehat{\\Omega} \\):</p>\n\n<p>$$\\widehat{\\operatorname{Var}}(\\hat{g}) \\approx A\\widehat{\\Omega}A^\\top.$$</p>\n\n<p>Pointwise and joint confidence intervals (via Gaussian multiplier bootstrap) are supported.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>orth_signal</strong> (<code>numpy.array</code>):\nThe orthogonal signal to be predicted. Has to be of shape <code>(n_obs,)</code>,\nwhere <code>n_obs</code> is the number of observations.</li>\n<li><strong>basis</strong> (<code>pandas.DataFrame</code>):\nThe basis for estimating the best linear predictor. Has to have the shape <code>(n_obs, d)</code>,\nwhere <code>n_obs</code> is the number of observations and <code>d</code> is the number of predictors.</li>\n<li><strong>is_gate</strong> (bool):\nIndicates whether the basis is constructed for GATEs (dummy-basis).\nDefault is <code>False</code>.</li>\n</ul>\n"}, {"fullname": "causalis.inference.estimators.BLP.__init__", "modulename": "causalis.inference.estimators", "qualname": "BLP.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">orth_signal</span>, </span><span class=\"param\"><span class=\"n\">basis</span>, </span><span class=\"param\"><span class=\"n\">is_gate</span><span class=\"o\">=</span><span class=\"kc\">False</span></span>)</span>"}, {"fullname": "causalis.inference.estimators.BLP.blp_model", "modulename": "causalis.inference.estimators", "qualname": "BLP.blp_model", "kind": "variable", "doc": "<p>Best-Linear-Predictor model.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.orth_signal", "modulename": "causalis.inference.estimators", "qualname": "BLP.orth_signal", "kind": "variable", "doc": "<p>Orthogonal signal.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.basis", "modulename": "causalis.inference.estimators", "qualname": "BLP.basis", "kind": "variable", "doc": "<p>Basis.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.blp_omega", "modulename": "causalis.inference.estimators", "qualname": "BLP.blp_omega", "kind": "variable", "doc": "<p>Covariance matrix.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.summary", "modulename": "causalis.inference.estimators", "qualname": "BLP.summary", "kind": "variable", "doc": "<p>A summary for the best linear predictor effect after calling <code>fit()</code>.</p>\n"}, {"fullname": "causalis.inference.estimators.BLP.fit", "modulename": "causalis.inference.estimators", "qualname": "BLP.fit", "kind": "function", "doc": "<p>Estimate BLP models.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>cov_type</strong> (str):\nThe covariance type to be used in the estimation. Default is <code>'HC0'</code>.\nSee <code>statsmodels.regression.linear_model.OLS.fit()</code> for more information.</li>\n<li><strong>**kwargs</strong> (dict):\nAdditional keyword arguments to be passed to <code>statsmodels.regression.linear_model.OLS.fit()</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>self</strong> (object):</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">cov_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;HC0&#39;</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.estimators.BLP.confint", "modulename": "causalis.inference.estimators", "qualname": "BLP.confint", "kind": "function", "doc": "<p>Confidence intervals for the BLP model.</p>\n\n<h6 id=\"parameters\">Parameters</h6>\n\n<ul>\n<li><strong>basis</strong> (<code>pandas.DataFrame</code>):\nThe basis for constructing the confidence interval. Has to have the same form as the basis from\nthe construction. If <code>None</code> is passed, if the basis is constructed for GATEs, the GATEs are returned.\nElse, the confidence intervals for the basis coefficients are returned (with pointwise cofidence intervals).\nDefault is <code>None</code>.</li>\n<li><strong>joint</strong> (bool):\nIndicates whether joint confidence intervals are computed.\nDefault is <code>False</code>.</li>\n<li><strong>level</strong> (float):\nThe confidence level.\nDefault is <code>0.95</code>.</li>\n<li><strong>n_rep_boot</strong> (int):\nThe number of bootstrap repetitions (only relevant for joint confidence intervals).\nDefault is <code>500</code>.</li>\n</ul>\n\n<h6 id=\"returns\">Returns</h6>\n\n<ul>\n<li><strong>df_ci</strong> (pd.DataFrame):\nA data frame with the confidence interval(s).</li>\n</ul>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">basis</span><span class=\"o\">=</span><span class=\"kc\">None</span>, </span><span class=\"param\"><span class=\"n\">joint</span><span class=\"o\">=</span><span class=\"kc\">False</span>, </span><span class=\"param\"><span class=\"n\">level</span><span class=\"o\">=</span><span class=\"mf\">0.95</span>, </span><span class=\"param\"><span class=\"n\">n_rep_boot</span><span class=\"o\">=</span><span class=\"mi\">500</span></span><span class=\"return-annotation\">):</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.gate", "modulename": "causalis.inference.gate", "kind": "module", "doc": "<p>Group Average Treatment Effect (GATE) inference methods for causalis.</p>\n\n<p>This submodule provides methods for estimating group average treatment effects.</p>\n"}, {"fullname": "causalis.inference.gate.gate_esimand", "modulename": "causalis.inference.gate", "qualname": "gate_esimand", "kind": "function", "doc": "<p>Estimate Group Average Treatment Effects (GATEs).</p>\n\n<p>If <code>groups</code> is None, observations are grouped by quantiles of the\nplugin CATE proxy (g1_hat - g0_hat).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">groups</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_groups</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}, {"fullname": "causalis.inference.gate.gate_esimand", "modulename": "causalis.inference.gate.gate_esimand", "kind": "module", "doc": "<p>Group Average Treatment Effect (GATE) estimation using local DML IRM and BLP.</p>\n"}, {"fullname": "causalis.inference.gate.gate_esimand.gate_esimand", "modulename": "causalis.inference.gate.gate_esimand", "qualname": "gate_esimand", "kind": "function", "doc": "<p>Estimate Group Average Treatment Effects (GATEs).</p>\n\n<p>If <code>groups</code> is None, observations are grouped by quantiles of the\nplugin CATE proxy (g1_hat - g0_hat).</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">causalis</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">causaldata</span><span class=\"o\">.</span><span class=\"n\">CausalData</span>,</span><span class=\"param\">\t<span class=\"n\">groups</span><span class=\"p\">:</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">series</span><span class=\"o\">.</span><span class=\"n\">Series</span> <span class=\"o\">|</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_groups</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">ml_g</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">ml_m</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">|</span> <span class=\"kc\">None</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">n_folds</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>,</span><span class=\"param\">\t<span class=\"n\">n_rep</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">confidence_level</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.95</span></span><span class=\"return-annotation\">) -> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span>:</span></span>", "funcdef": "def"}];

    // mirrored in build-search-index.js (part 1)
    // Also split on html tags. this is a cheap heuristic, but good enough.
    elasticlunr.tokenizer.setSeperator(/[\s\-.;&_'"=,()]+|<[^>]*>/);

    let searchIndex;
    if (docs._isPrebuiltIndex) {
        console.info("using precompiled search index");
        searchIndex = elasticlunr.Index.load(docs);
    } else {
        console.time("building search index");
        // mirrored in build-search-index.js (part 2)
        searchIndex = elasticlunr(function () {
            this.pipeline.remove(elasticlunr.stemmer);
            this.pipeline.remove(elasticlunr.stopWordFilter);
            this.addField("qualname");
            this.addField("fullname");
            this.addField("annotation");
            this.addField("default_value");
            this.addField("signature");
            this.addField("bases");
            this.addField("doc");
            this.setRef("fullname");
        });
        for (let doc of docs) {
            searchIndex.addDoc(doc);
        }
        console.timeEnd("building search index");
    }

    return (term) => searchIndex.search(term, {
        fields: {
            qualname: {boost: 4},
            fullname: {boost: 2},
            annotation: {boost: 2},
            default_value: {boost: 2},
            signature: {boost: 2},
            bases: {boost: 2},
            doc: {boost: 1},
        },
        expand: true
    });
})();